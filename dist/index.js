"use strict";(()=>{var Is=Object.create;var Ma=Object.defineProperty;var qs=Object.getOwnPropertyDescriptor;var Bs=Object.getOwnPropertyNames;var Ns=Object.getPrototypeOf,Ms=Object.prototype.hasOwnProperty;var O=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports);var Ps=(a,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of Bs(e))!Ms.call(a,r)&&r!==t&&Ma(a,r,{get:()=>e[r],enumerable:!(n=qs(e,r))||n.enumerable});return a};var tt=(a,e,t)=>(t=a!=null?Is(Ns(a)):{},Ps(e||!a||!a.__esModule?Ma(t,"default",{value:a,enumerable:!0}):t,a));var za=O(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.DispatcherBase=void 0;var Ht=ge(),zi=class{constructor(){this._subscriptions=new Array}get count(){return this._subscriptions.length}get onSubscriptionChange(){return this._onSubscriptionChange==null&&(this._onSubscriptionChange=new Ht.SubscriptionChangeEventDispatcher),this._onSubscriptionChange.asEvent()}subscribe(e){return e&&(this._subscriptions.push(this.createSubscription(e,!1)),this.triggerSubscriptionChange()),()=>{this.unsubscribe(e)}}sub(e){return this.subscribe(e)}one(e){return e&&(this._subscriptions.push(this.createSubscription(e,!0)),this.triggerSubscriptionChange()),()=>{this.unsubscribe(e)}}has(e){return e?this._subscriptions.some(t=>t.handler==e):!1}unsubscribe(e){if(!e)return;let t=!1;for(let n=0;n<this._subscriptions.length;n++)if(this._subscriptions[n].handler==e){this._subscriptions.splice(n,1),t=!0;break}t&&this.triggerSubscriptionChange()}unsub(e){this.unsubscribe(e)}_dispatch(e,t,n){for(let r of[...this._subscriptions]){let i=new Ht.EventManagement(()=>this.unsub(r.handler)),o=Array.prototype.slice.call(n);if(o.push(i),r.execute(e,t,o),this.cleanup(r),!e&&i.propagationStopped)return{propagationStopped:!0}}return e?null:{propagationStopped:!1}}createSubscription(e,t){return new Ht.Subscription(e,t)}cleanup(e){let t=!1;if(e.isOnce&&e.isExecuted){let n=this._subscriptions.indexOf(e);n>-1&&(this._subscriptions.splice(n,1),t=!0)}t&&this.triggerSubscriptionChange()}asEvent(){return this._wrap==null&&(this._wrap=new Ht.DispatcherWrapper(this)),this._wrap}clear(){this._subscriptions.length!=0&&(this._subscriptions.splice(0,this._subscriptions.length),this.triggerSubscriptionChange())}triggerSubscriptionChange(){this._onSubscriptionChange!=null&&this._onSubscriptionChange.dispatch(this.count)}};Vt.DispatcherBase=zi});var Ha=O(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.DispatchError=void 0;var Hi=class extends Error{constructor(e){super(e)}};Gt.DispatchError=Hi});var Va=O(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.DispatcherWrapper=void 0;var Vi=class{constructor(e){this._subscribe=t=>e.subscribe(t),this._unsubscribe=t=>e.unsubscribe(t),this._one=t=>e.one(t),this._has=t=>e.has(t),this._clear=()=>e.clear(),this._count=()=>e.count,this._onSubscriptionChange=()=>e.onSubscriptionChange}get onSubscriptionChange(){return this._onSubscriptionChange()}get count(){return this._count()}subscribe(e){return this._subscribe(e)}sub(e){return this.subscribe(e)}unsubscribe(e){this._unsubscribe(e)}unsub(e){this.unsubscribe(e)}one(e){return this._one(e)}has(e){return this._has(e)}clear(){this._clear()}};Wt.DispatcherWrapper=Vi});var Ga=O(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.EventListBase=void 0;var Gi=class{constructor(){this._events={}}get(e){let t=this._events[e];return t||(t=this.createDispatcher(),this._events[e]=t,t)}remove(e){delete this._events[e]}};Yt.EventListBase=Gi});var Wa=O(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.EventManagement=void 0;var Wi=class{constructor(e){this.unsub=e,this.propagationStopped=!1}stopPropagation(){this.propagationStopped=!0}};Jt.EventManagement=Wi});var Ya=O(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.HandlingBase=void 0;var Yi=class{constructor(e){this.events=e}one(e,t){this.events.get(e).one(t)}has(e,t){return this.events.get(e).has(t)}subscribe(e,t){this.events.get(e).subscribe(t)}sub(e,t){this.subscribe(e,t)}unsubscribe(e,t){this.events.get(e).unsubscribe(t)}unsub(e,t){this.unsubscribe(e,t)}};Xt.HandlingBase=Yi});var Ja=O(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.PromiseDispatcherBase=void 0;var Zt=ge(),Ji=class extends Zt.DispatcherBase{_dispatch(e,t,n){throw new Zt.DispatchError("_dispatch not supported. Use _dispatchAsPromise.")}createSubscription(e,t){return new Zt.PromiseSubscription(e,t)}async _dispatchAsPromise(e,t,n){for(let r of[...this._subscriptions]){let i=new Zt.EventManagement(()=>this.unsub(r.handler)),o=Array.prototype.slice.call(n);if(o.push(i),await r.execute(e,t,o),this.cleanup(r),!e&&i.propagationStopped)return{propagationStopped:!0}}return e?null:{propagationStopped:!1}}};Qt.PromiseDispatcherBase=Ji});var Xa=O(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.PromiseSubscription=void 0;var Xi=class{constructor(e,t){this.handler=e,this.isOnce=t,this.isExecuted=!1}async execute(e,t,n){if(!this.isOnce||!this.isExecuted){this.isExecuted=!0;var r=this.handler;if(e){setTimeout(()=>{r.apply(t,n)},1);return}await r.apply(t,n)}}};Kt.PromiseSubscription=Xi});var Za=O($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.Subscription=void 0;var Zi=class{constructor(e,t){this.handler=e,this.isOnce=t,this.isExecuted=!1}execute(e,t,n){if(!this.isOnce||!this.isExecuted){this.isExecuted=!0;var r=this.handler;e?setTimeout(()=>{r.apply(t,n)},1):r.apply(t,n)}}};$t.Subscription=Zi});var Qa=O(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.SubscriptionChangeEventDispatcher=void 0;var Rs=ge(),Qi=class extends Rs.DispatcherBase{dispatch(e){this._dispatch(!1,this,arguments)}};en.SubscriptionChangeEventDispatcher=Qi});var ge=O(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.SubscriptionChangeEventDispatcher=Q.HandlingBase=Q.PromiseDispatcherBase=Q.PromiseSubscription=Q.DispatchError=Q.EventManagement=Q.EventListBase=Q.DispatcherWrapper=Q.DispatcherBase=Q.Subscription=void 0;var Us=za();Object.defineProperty(Q,"DispatcherBase",{enumerable:!0,get:function(){return Us.DispatcherBase}});var js=Ha();Object.defineProperty(Q,"DispatchError",{enumerable:!0,get:function(){return js.DispatchError}});var zs=Va();Object.defineProperty(Q,"DispatcherWrapper",{enumerable:!0,get:function(){return zs.DispatcherWrapper}});var Hs=Ga();Object.defineProperty(Q,"EventListBase",{enumerable:!0,get:function(){return Hs.EventListBase}});var Vs=Wa();Object.defineProperty(Q,"EventManagement",{enumerable:!0,get:function(){return Vs.EventManagement}});var Gs=Ya();Object.defineProperty(Q,"HandlingBase",{enumerable:!0,get:function(){return Gs.HandlingBase}});var Ws=Ja();Object.defineProperty(Q,"PromiseDispatcherBase",{enumerable:!0,get:function(){return Ws.PromiseDispatcherBase}});var Ys=Xa();Object.defineProperty(Q,"PromiseSubscription",{enumerable:!0,get:function(){return Ys.PromiseSubscription}});var Js=Za();Object.defineProperty(Q,"Subscription",{enumerable:!0,get:function(){return Js.Subscription}});var Xs=Qa();Object.defineProperty(Q,"SubscriptionChangeEventDispatcher",{enumerable:!0,get:function(){return Xs.SubscriptionChangeEventDispatcher}})});var nn=O(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.EventDispatcher=void 0;var Ka=ge(),Ki=class extends Ka.DispatcherBase{constructor(){super()}dispatch(e,t){let n=this._dispatch(!1,this,arguments);if(n==null)throw new Ka.DispatchError("Got `null` back from dispatch.");return n}dispatchAsync(e,t){this._dispatch(!0,this,arguments)}asEvent(){return super.asEvent()}};tn.EventDispatcher=Ki});var eo=O(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.EventList=void 0;var Zs=ge(),Qs=nn(),$i=class extends Zs.EventListBase{constructor(){super()}createDispatcher(){return new Qs.EventDispatcher}};rn.EventList=$i});var $a=O(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.EventHandlingBase=void 0;var Ks=ge(),$s=eo(),to=class extends Ks.HandlingBase{constructor(){super(new $s.EventList)}};on.EventHandlingBase=to});var ed=O(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.NonUniformEventList=void 0;var ec=nn(),no=class{constructor(){this._events={}}get(e){if(this._events[e])return this._events[e];let t=this.createDispatcher();return this._events[e]=t,t}remove(e){delete this._events[e]}createDispatcher(){return new ec.EventDispatcher}};an.NonUniformEventList=no});var td=O(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.NonUniformEventList=De.EventList=De.EventHandlingBase=De.EventDispatcher=void 0;var tc=nn();Object.defineProperty(De,"EventDispatcher",{enumerable:!0,get:function(){return tc.EventDispatcher}});var nc=$a();Object.defineProperty(De,"EventHandlingBase",{enumerable:!0,get:function(){return nc.EventHandlingBase}});var rc=eo();Object.defineProperty(De,"EventList",{enumerable:!0,get:function(){return rc.EventList}});var ic=ed();Object.defineProperty(De,"NonUniformEventList",{enumerable:!0,get:function(){return ic.NonUniformEventList}})});var ln=O(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.SimpleEventDispatcher=void 0;var nd=ge(),ro=class extends nd.DispatcherBase{constructor(){super()}dispatch(e){let t=this._dispatch(!1,this,arguments);if(t==null)throw new nd.DispatchError("Got `null` back from dispatch.");return t}dispatchAsync(e){this._dispatch(!0,this,arguments)}asEvent(){return super.asEvent()}};dn.SimpleEventDispatcher=ro});var oo=O(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.SimpleEventList=void 0;var oc=ge(),ac=ln(),io=class extends oc.EventListBase{constructor(){super()}createDispatcher(){return new ac.SimpleEventDispatcher}};sn.SimpleEventList=io});var rd=O(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.SimpleEventHandlingBase=void 0;var dc=ge(),lc=oo(),ao=class extends dc.HandlingBase{constructor(){super(new lc.SimpleEventList)}};cn.SimpleEventHandlingBase=ao});var id=O(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.NonUniformSimpleEventList=void 0;var sc=ln(),lo=class{constructor(){this._events={}}get(e){if(this._events[e])return this._events[e];let t=this.createDispatcher();return this._events[e]=t,t}remove(e){delete this._events[e]}createDispatcher(){return new sc.SimpleEventDispatcher}};un.NonUniformSimpleEventList=lo});var od=O(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.NonUniformSimpleEventList=Te.SimpleEventList=Te.SimpleEventHandlingBase=Te.SimpleEventDispatcher=void 0;var cc=ln();Object.defineProperty(Te,"SimpleEventDispatcher",{enumerable:!0,get:function(){return cc.SimpleEventDispatcher}});var uc=rd();Object.defineProperty(Te,"SimpleEventHandlingBase",{enumerable:!0,get:function(){return uc.SimpleEventHandlingBase}});var _c=id();Object.defineProperty(Te,"NonUniformSimpleEventList",{enumerable:!0,get:function(){return _c.NonUniformSimpleEventList}});var pc=oo();Object.defineProperty(Te,"SimpleEventList",{enumerable:!0,get:function(){return pc.SimpleEventList}})});var dd=O(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.SignalDispatcher=void 0;var ad=ge(),so=class extends ad.DispatcherBase{dispatch(){let e=this._dispatch(!1,this,arguments);if(e==null)throw new ad.DispatchError("Got `null` back from dispatch.");return e}dispatchAsync(){this._dispatch(!0,this,arguments)}asEvent(){return super.asEvent()}};_n.SignalDispatcher=so});var ld=O(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.SignalHandlingBase=void 0;var gc=ge(),mc=gn(),co=class extends gc.HandlingBase{constructor(){super(new mc.SignalList)}};pn.SignalHandlingBase=co});var sd=O(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.SignalList=void 0;var fc=ge(),hc=gn(),uo=class extends fc.EventListBase{constructor(){super()}createDispatcher(){return new hc.SignalDispatcher}};mn.SignalList=uo});var gn=O(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.SignalList=Ve.SignalHandlingBase=Ve.SignalDispatcher=void 0;var bc=dd();Object.defineProperty(Ve,"SignalDispatcher",{enumerable:!0,get:function(){return bc.SignalDispatcher}});var vc=ld();Object.defineProperty(Ve,"SignalHandlingBase",{enumerable:!0,get:function(){return vc.SignalHandlingBase}});var yc=sd();Object.defineProperty(Ve,"SignalList",{enumerable:!0,get:function(){return yc.SignalList}})});var cd=O(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.DispatcherBase=void 0;var fn=nt(),_o=class{constructor(){this._subscriptions=new Array}get count(){return this._subscriptions.length}get onSubscriptionChange(){return this._onSubscriptionChange==null&&(this._onSubscriptionChange=new fn.SubscriptionChangeEventDispatcher),this._onSubscriptionChange.asEvent()}subscribe(e){return e&&(this._subscriptions.push(this.createSubscription(e,!1)),this.triggerSubscriptionChange()),()=>{this.unsubscribe(e)}}sub(e){return this.subscribe(e)}one(e){return e&&(this._subscriptions.push(this.createSubscription(e,!0)),this.triggerSubscriptionChange()),()=>{this.unsubscribe(e)}}has(e){return e?this._subscriptions.some(t=>t.handler==e):!1}unsubscribe(e){if(!e)return;let t=!1;for(let n=0;n<this._subscriptions.length;n++)if(this._subscriptions[n].handler==e){this._subscriptions.splice(n,1),t=!0;break}t&&this.triggerSubscriptionChange()}unsub(e){this.unsubscribe(e)}_dispatch(e,t,n){for(let r of[...this._subscriptions]){let i=new fn.EventManagement(()=>this.unsub(r.handler)),o=Array.prototype.slice.call(n);if(o.push(i),r.execute(e,t,o),this.cleanup(r),!e&&i.propagationStopped)return{propagationStopped:!0}}return e?null:{propagationStopped:!1}}createSubscription(e,t){return new fn.Subscription(e,t)}cleanup(e){let t=!1;if(e.isOnce&&e.isExecuted){let n=this._subscriptions.indexOf(e);n>-1&&(this._subscriptions.splice(n,1),t=!0)}t&&this.triggerSubscriptionChange()}asEvent(){return this._wrap==null&&(this._wrap=new fn.DispatcherWrapper(this)),this._wrap}clear(){this._subscriptions.length!=0&&(this._subscriptions.splice(0,this._subscriptions.length),this.triggerSubscriptionChange())}triggerSubscriptionChange(){this._onSubscriptionChange!=null&&this._onSubscriptionChange.dispatch(this.count)}};hn.DispatcherBase=_o});var ud=O(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.DispatchError=void 0;var po=class extends Error{constructor(e){super(e)}};bn.DispatchError=po});var _d=O(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.DispatcherWrapper=void 0;var go=class{constructor(e){this._subscribe=t=>e.subscribe(t),this._unsubscribe=t=>e.unsubscribe(t),this._one=t=>e.one(t),this._has=t=>e.has(t),this._clear=()=>e.clear(),this._count=()=>e.count,this._onSubscriptionChange=()=>e.onSubscriptionChange}get onSubscriptionChange(){return this._onSubscriptionChange()}get count(){return this._count()}subscribe(e){return this._subscribe(e)}sub(e){return this.subscribe(e)}unsubscribe(e){this._unsubscribe(e)}unsub(e){this.unsubscribe(e)}one(e){return this._one(e)}has(e){return this._has(e)}clear(){this._clear()}};vn.DispatcherWrapper=go});var pd=O(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.EventListBase=void 0;var mo=class{constructor(){this._events={}}get(e){let t=this._events[e];return t||(t=this.createDispatcher(),this._events[e]=t,t)}remove(e){delete this._events[e]}};yn.EventListBase=mo});var gd=O(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.EventManagement=void 0;var fo=class{constructor(e){this.unsub=e,this.propagationStopped=!1}stopPropagation(){this.propagationStopped=!0}};wn.EventManagement=fo});var md=O(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.HandlingBase=void 0;var ho=class{constructor(e){this.events=e}one(e,t){this.events.get(e).one(t)}has(e,t){return this.events.get(e).has(t)}subscribe(e,t){this.events.get(e).subscribe(t)}sub(e,t){this.subscribe(e,t)}unsubscribe(e,t){this.events.get(e).unsubscribe(t)}unsub(e,t){this.unsubscribe(e,t)}};xn.HandlingBase=ho});var fd=O(En=>{"use strict";Object.defineProperty(En,"__esModule",{value:!0});En.PromiseDispatcherBase=void 0;var kn=nt(),bo=class extends kn.DispatcherBase{_dispatch(e,t,n){throw new kn.DispatchError("_dispatch not supported. Use _dispatchAsPromise.")}createSubscription(e,t){return new kn.PromiseSubscription(e,t)}async _dispatchAsPromise(e,t,n){for(let r of[...this._subscriptions]){let i=new kn.EventManagement(()=>this.unsub(r.handler)),o=Array.prototype.slice.call(n);if(o.push(i),await r.execute(e,t,o),this.cleanup(r),!e&&i.propagationStopped)return{propagationStopped:!0}}return e?null:{propagationStopped:!1}}};En.PromiseDispatcherBase=bo});var hd=O(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.PromiseSubscription=void 0;var vo=class{constructor(e,t){this.handler=e,this.isOnce=t,this.isExecuted=!1}async execute(e,t,n){if(!this.isOnce||!this.isExecuted){this.isExecuted=!0;var r=this.handler;if(e){setTimeout(()=>{r.apply(t,n)},1);return}await r.apply(t,n)}}};An.PromiseSubscription=vo});var bd=O(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});Sn.Subscription=void 0;var yo=class{constructor(e,t){this.handler=e,this.isOnce=t,this.isExecuted=!1}execute(e,t,n){if(!this.isOnce||!this.isExecuted){this.isExecuted=!0;var r=this.handler;e?setTimeout(()=>{r.apply(t,n)},1):r.apply(t,n)}}};Sn.Subscription=yo});var vd=O(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.SubscriptionChangeEventDispatcher=void 0;var wc=nt(),wo=class extends wc.DispatcherBase{dispatch(e){this._dispatch(!1,this,arguments)}};Cn.SubscriptionChangeEventDispatcher=wo});var nt=O(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.SubscriptionChangeEventDispatcher=K.HandlingBase=K.PromiseDispatcherBase=K.PromiseSubscription=K.DispatchError=K.EventManagement=K.EventListBase=K.DispatcherWrapper=K.DispatcherBase=K.Subscription=void 0;var xc=cd();Object.defineProperty(K,"DispatcherBase",{enumerable:!0,get:function(){return xc.DispatcherBase}});var kc=ud();Object.defineProperty(K,"DispatchError",{enumerable:!0,get:function(){return kc.DispatchError}});var Ec=_d();Object.defineProperty(K,"DispatcherWrapper",{enumerable:!0,get:function(){return Ec.DispatcherWrapper}});var Ac=pd();Object.defineProperty(K,"EventListBase",{enumerable:!0,get:function(){return Ac.EventListBase}});var Sc=gd();Object.defineProperty(K,"EventManagement",{enumerable:!0,get:function(){return Sc.EventManagement}});var Cc=md();Object.defineProperty(K,"HandlingBase",{enumerable:!0,get:function(){return Cc.HandlingBase}});var Oc=fd();Object.defineProperty(K,"PromiseDispatcherBase",{enumerable:!0,get:function(){return Oc.PromiseDispatcherBase}});var Fc=hd();Object.defineProperty(K,"PromiseSubscription",{enumerable:!0,get:function(){return Fc.PromiseSubscription}});var Lc=bd();Object.defineProperty(K,"Subscription",{enumerable:!0,get:function(){return Lc.Subscription}});var Dc=vd();Object.defineProperty(K,"SubscriptionChangeEventDispatcher",{enumerable:!0,get:function(){return Dc.SubscriptionChangeEventDispatcher}})});var Fn=O(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.PromiseEventDispatcher=void 0;var yd=nt(),xo=class extends yd.PromiseDispatcherBase{constructor(){super()}async dispatch(e,t){let n=await this._dispatchAsPromise(!1,this,arguments);if(n==null)throw new yd.DispatchError("Got `null` back from dispatch.");return n}dispatchAsync(e,t){this._dispatchAsPromise(!0,this,arguments)}asEvent(){return super.asEvent()}};On.PromiseEventDispatcher=xo});var Eo=O(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.PromiseEventList=void 0;var Tc=nt(),Ic=Fn(),ko=class extends Tc.EventListBase{constructor(){super()}createDispatcher(){return new Ic.PromiseEventDispatcher}};Ln.PromiseEventList=ko});var wd=O(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.PromiseEventHandlingBase=void 0;var qc=nt(),Bc=Eo(),Ao=class extends qc.HandlingBase{constructor(){super(new Bc.PromiseEventList)}};Dn.PromiseEventHandlingBase=Ao});var xd=O(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.NonUniformPromiseEventList=void 0;var Nc=Fn(),So=class{constructor(){this._events={}}get(e){if(this._events[e])return this._events[e];let t=this.createDispatcher();return this._events[e]=t,t}remove(e){delete this._events[e]}createDispatcher(){return new Nc.PromiseEventDispatcher}};Tn.NonUniformPromiseEventList=So});var kd=O(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.NonUniformPromiseEventList=Ie.PromiseEventList=Ie.PromiseEventHandlingBase=Ie.PromiseEventDispatcher=void 0;var Mc=Fn();Object.defineProperty(Ie,"PromiseEventDispatcher",{enumerable:!0,get:function(){return Mc.PromiseEventDispatcher}});var Pc=wd();Object.defineProperty(Ie,"PromiseEventHandlingBase",{enumerable:!0,get:function(){return Pc.PromiseEventHandlingBase}});var Rc=Eo();Object.defineProperty(Ie,"PromiseEventList",{enumerable:!0,get:function(){return Rc.PromiseEventList}});var Uc=xd();Object.defineProperty(Ie,"NonUniformPromiseEventList",{enumerable:!0,get:function(){return Uc.NonUniformPromiseEventList}})});var Ed=O(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});qn.DispatcherBase=void 0;var In=rt(),Co=class{constructor(){this._subscriptions=new Array}get count(){return this._subscriptions.length}get onSubscriptionChange(){return this._onSubscriptionChange==null&&(this._onSubscriptionChange=new In.SubscriptionChangeEventDispatcher),this._onSubscriptionChange.asEvent()}subscribe(e){return e&&(this._subscriptions.push(this.createSubscription(e,!1)),this.triggerSubscriptionChange()),()=>{this.unsubscribe(e)}}sub(e){return this.subscribe(e)}one(e){return e&&(this._subscriptions.push(this.createSubscription(e,!0)),this.triggerSubscriptionChange()),()=>{this.unsubscribe(e)}}has(e){return e?this._subscriptions.some(t=>t.handler==e):!1}unsubscribe(e){if(!e)return;let t=!1;for(let n=0;n<this._subscriptions.length;n++)if(this._subscriptions[n].handler==e){this._subscriptions.splice(n,1),t=!0;break}t&&this.triggerSubscriptionChange()}unsub(e){this.unsubscribe(e)}_dispatch(e,t,n){for(let r of[...this._subscriptions]){let i=new In.EventManagement(()=>this.unsub(r.handler)),o=Array.prototype.slice.call(n);if(o.push(i),r.execute(e,t,o),this.cleanup(r),!e&&i.propagationStopped)return{propagationStopped:!0}}return e?null:{propagationStopped:!1}}createSubscription(e,t){return new In.Subscription(e,t)}cleanup(e){let t=!1;if(e.isOnce&&e.isExecuted){let n=this._subscriptions.indexOf(e);n>-1&&(this._subscriptions.splice(n,1),t=!0)}t&&this.triggerSubscriptionChange()}asEvent(){return this._wrap==null&&(this._wrap=new In.DispatcherWrapper(this)),this._wrap}clear(){this._subscriptions.length!=0&&(this._subscriptions.splice(0,this._subscriptions.length),this.triggerSubscriptionChange())}triggerSubscriptionChange(){this._onSubscriptionChange!=null&&this._onSubscriptionChange.dispatch(this.count)}};qn.DispatcherBase=Co});var Ad=O(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.DispatchError=void 0;var Oo=class extends Error{constructor(e){super(e)}};Bn.DispatchError=Oo});var Sd=O(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});Nn.DispatcherWrapper=void 0;var Fo=class{constructor(e){this._subscribe=t=>e.subscribe(t),this._unsubscribe=t=>e.unsubscribe(t),this._one=t=>e.one(t),this._has=t=>e.has(t),this._clear=()=>e.clear(),this._count=()=>e.count,this._onSubscriptionChange=()=>e.onSubscriptionChange}get onSubscriptionChange(){return this._onSubscriptionChange()}get count(){return this._count()}subscribe(e){return this._subscribe(e)}sub(e){return this.subscribe(e)}unsubscribe(e){this._unsubscribe(e)}unsub(e){this.unsubscribe(e)}one(e){return this._one(e)}has(e){return this._has(e)}clear(){this._clear()}};Nn.DispatcherWrapper=Fo});var Cd=O(Mn=>{"use strict";Object.defineProperty(Mn,"__esModule",{value:!0});Mn.EventListBase=void 0;var Lo=class{constructor(){this._events={}}get(e){let t=this._events[e];return t||(t=this.createDispatcher(),this._events[e]=t,t)}remove(e){delete this._events[e]}};Mn.EventListBase=Lo});var Od=O(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.EventManagement=void 0;var Do=class{constructor(e){this.unsub=e,this.propagationStopped=!1}stopPropagation(){this.propagationStopped=!0}};Pn.EventManagement=Do});var Fd=O(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.HandlingBase=void 0;var To=class{constructor(e){this.events=e}one(e,t){this.events.get(e).one(t)}has(e,t){return this.events.get(e).has(t)}subscribe(e,t){this.events.get(e).subscribe(t)}sub(e,t){this.subscribe(e,t)}unsubscribe(e,t){this.events.get(e).unsubscribe(t)}unsub(e,t){this.unsubscribe(e,t)}};Rn.HandlingBase=To});var Ld=O(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.PromiseDispatcherBase=void 0;var Un=rt(),Io=class extends Un.DispatcherBase{_dispatch(e,t,n){throw new Un.DispatchError("_dispatch not supported. Use _dispatchAsPromise.")}createSubscription(e,t){return new Un.PromiseSubscription(e,t)}async _dispatchAsPromise(e,t,n){for(let r of[...this._subscriptions]){let i=new Un.EventManagement(()=>this.unsub(r.handler)),o=Array.prototype.slice.call(n);if(o.push(i),await r.execute(e,t,o),this.cleanup(r),!e&&i.propagationStopped)return{propagationStopped:!0}}return e?null:{propagationStopped:!1}}};jn.PromiseDispatcherBase=Io});var Dd=O(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.PromiseSubscription=void 0;var qo=class{constructor(e,t){this.handler=e,this.isOnce=t,this.isExecuted=!1}async execute(e,t,n){if(!this.isOnce||!this.isExecuted){this.isExecuted=!0;var r=this.handler;if(e){setTimeout(()=>{r.apply(t,n)},1);return}await r.apply(t,n)}}};zn.PromiseSubscription=qo});var Td=O(Hn=>{"use strict";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.Subscription=void 0;var Bo=class{constructor(e,t){this.handler=e,this.isOnce=t,this.isExecuted=!1}execute(e,t,n){if(!this.isOnce||!this.isExecuted){this.isExecuted=!0;var r=this.handler;e?setTimeout(()=>{r.apply(t,n)},1):r.apply(t,n)}}};Hn.Subscription=Bo});var Id=O(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.SubscriptionChangeEventDispatcher=void 0;var jc=rt(),No=class extends jc.DispatcherBase{dispatch(e){this._dispatch(!1,this,arguments)}};Vn.SubscriptionChangeEventDispatcher=No});var rt=O($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.SubscriptionChangeEventDispatcher=$.HandlingBase=$.PromiseDispatcherBase=$.PromiseSubscription=$.DispatchError=$.EventManagement=$.EventListBase=$.DispatcherWrapper=$.DispatcherBase=$.Subscription=void 0;var zc=Ed();Object.defineProperty($,"DispatcherBase",{enumerable:!0,get:function(){return zc.DispatcherBase}});var Hc=Ad();Object.defineProperty($,"DispatchError",{enumerable:!0,get:function(){return Hc.DispatchError}});var Vc=Sd();Object.defineProperty($,"DispatcherWrapper",{enumerable:!0,get:function(){return Vc.DispatcherWrapper}});var Gc=Cd();Object.defineProperty($,"EventListBase",{enumerable:!0,get:function(){return Gc.EventListBase}});var Wc=Od();Object.defineProperty($,"EventManagement",{enumerable:!0,get:function(){return Wc.EventManagement}});var Yc=Fd();Object.defineProperty($,"HandlingBase",{enumerable:!0,get:function(){return Yc.HandlingBase}});var Jc=Ld();Object.defineProperty($,"PromiseDispatcherBase",{enumerable:!0,get:function(){return Jc.PromiseDispatcherBase}});var Xc=Dd();Object.defineProperty($,"PromiseSubscription",{enumerable:!0,get:function(){return Xc.PromiseSubscription}});var Zc=Td();Object.defineProperty($,"Subscription",{enumerable:!0,get:function(){return Zc.Subscription}});var Qc=Id();Object.defineProperty($,"SubscriptionChangeEventDispatcher",{enumerable:!0,get:function(){return Qc.SubscriptionChangeEventDispatcher}})});var Bd=O(Gn=>{"use strict";Object.defineProperty(Gn,"__esModule",{value:!0});Gn.PromiseSignalDispatcher=void 0;var qd=rt(),Mo=class extends qd.PromiseDispatcherBase{constructor(){super()}async dispatch(){let e=await this._dispatchAsPromise(!1,this,arguments);if(e==null)throw new qd.DispatchError("Got `null` back from dispatch.");return e}dispatchAsync(){this._dispatchAsPromise(!0,this,arguments)}asEvent(){return super.asEvent()}};Gn.PromiseSignalDispatcher=Mo});var Ro=O(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});Wn.PromiseSignalList=void 0;var Kc=rt(),$c=Uo(),Po=class extends Kc.EventListBase{constructor(){super()}createDispatcher(){return new $c.PromiseSignalDispatcher}};Wn.PromiseSignalList=Po});var Nd=O(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.PromiseSignalHandlingBase=void 0;var eu=rt(),tu=Ro(),jo=class extends eu.HandlingBase{constructor(){super(new tu.PromiseSignalList)}};Yn.PromiseSignalHandlingBase=jo});var Uo=O(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});Ge.PromiseSignalList=Ge.PromiseSignalHandlingBase=Ge.PromiseSignalDispatcher=void 0;var nu=Bd();Object.defineProperty(Ge,"PromiseSignalDispatcher",{enumerable:!0,get:function(){return nu.PromiseSignalDispatcher}});var ru=Nd();Object.defineProperty(Ge,"PromiseSignalHandlingBase",{enumerable:!0,get:function(){return ru.PromiseSignalHandlingBase}});var iu=Ro();Object.defineProperty(Ge,"PromiseSignalList",{enumerable:!0,get:function(){return iu.PromiseSignalList}})});var Md=O(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});Xn.DispatcherBase=void 0;var Jn=it(),zo=class{constructor(){this._subscriptions=new Array}get count(){return this._subscriptions.length}get onSubscriptionChange(){return this._onSubscriptionChange==null&&(this._onSubscriptionChange=new Jn.SubscriptionChangeEventDispatcher),this._onSubscriptionChange.asEvent()}subscribe(e){return e&&(this._subscriptions.push(this.createSubscription(e,!1)),this.triggerSubscriptionChange()),()=>{this.unsubscribe(e)}}sub(e){return this.subscribe(e)}one(e){return e&&(this._subscriptions.push(this.createSubscription(e,!0)),this.triggerSubscriptionChange()),()=>{this.unsubscribe(e)}}has(e){return e?this._subscriptions.some(t=>t.handler==e):!1}unsubscribe(e){if(!e)return;let t=!1;for(let n=0;n<this._subscriptions.length;n++)if(this._subscriptions[n].handler==e){this._subscriptions.splice(n,1),t=!0;break}t&&this.triggerSubscriptionChange()}unsub(e){this.unsubscribe(e)}_dispatch(e,t,n){for(let r of[...this._subscriptions]){let i=new Jn.EventManagement(()=>this.unsub(r.handler)),o=Array.prototype.slice.call(n);if(o.push(i),r.execute(e,t,o),this.cleanup(r),!e&&i.propagationStopped)return{propagationStopped:!0}}return e?null:{propagationStopped:!1}}createSubscription(e,t){return new Jn.Subscription(e,t)}cleanup(e){let t=!1;if(e.isOnce&&e.isExecuted){let n=this._subscriptions.indexOf(e);n>-1&&(this._subscriptions.splice(n,1),t=!0)}t&&this.triggerSubscriptionChange()}asEvent(){return this._wrap==null&&(this._wrap=new Jn.DispatcherWrapper(this)),this._wrap}clear(){this._subscriptions.length!=0&&(this._subscriptions.splice(0,this._subscriptions.length),this.triggerSubscriptionChange())}triggerSubscriptionChange(){this._onSubscriptionChange!=null&&this._onSubscriptionChange.dispatch(this.count)}};Xn.DispatcherBase=zo});var Pd=O(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});Zn.DispatchError=void 0;var Ho=class extends Error{constructor(e){super(e)}};Zn.DispatchError=Ho});var Rd=O(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.DispatcherWrapper=void 0;var Vo=class{constructor(e){this._subscribe=t=>e.subscribe(t),this._unsubscribe=t=>e.unsubscribe(t),this._one=t=>e.one(t),this._has=t=>e.has(t),this._clear=()=>e.clear(),this._count=()=>e.count,this._onSubscriptionChange=()=>e.onSubscriptionChange}get onSubscriptionChange(){return this._onSubscriptionChange()}get count(){return this._count()}subscribe(e){return this._subscribe(e)}sub(e){return this.subscribe(e)}unsubscribe(e){this._unsubscribe(e)}unsub(e){this.unsubscribe(e)}one(e){return this._one(e)}has(e){return this._has(e)}clear(){this._clear()}};Qn.DispatcherWrapper=Vo});var Ud=O(Kn=>{"use strict";Object.defineProperty(Kn,"__esModule",{value:!0});Kn.EventListBase=void 0;var Go=class{constructor(){this._events={}}get(e){let t=this._events[e];return t||(t=this.createDispatcher(),this._events[e]=t,t)}remove(e){delete this._events[e]}};Kn.EventListBase=Go});var jd=O($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.EventManagement=void 0;var Wo=class{constructor(e){this.unsub=e,this.propagationStopped=!1}stopPropagation(){this.propagationStopped=!0}};$n.EventManagement=Wo});var zd=O(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.HandlingBase=void 0;var Yo=class{constructor(e){this.events=e}one(e,t){this.events.get(e).one(t)}has(e,t){return this.events.get(e).has(t)}subscribe(e,t){this.events.get(e).subscribe(t)}sub(e,t){this.subscribe(e,t)}unsubscribe(e,t){this.events.get(e).unsubscribe(t)}unsub(e,t){this.unsubscribe(e,t)}};er.HandlingBase=Yo});var Hd=O(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.PromiseDispatcherBase=void 0;var tr=it(),Jo=class extends tr.DispatcherBase{_dispatch(e,t,n){throw new tr.DispatchError("_dispatch not supported. Use _dispatchAsPromise.")}createSubscription(e,t){return new tr.PromiseSubscription(e,t)}async _dispatchAsPromise(e,t,n){for(let r of[...this._subscriptions]){let i=new tr.EventManagement(()=>this.unsub(r.handler)),o=Array.prototype.slice.call(n);if(o.push(i),await r.execute(e,t,o),this.cleanup(r),!e&&i.propagationStopped)return{propagationStopped:!0}}return e?null:{propagationStopped:!1}}};nr.PromiseDispatcherBase=Jo});var Vd=O(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.PromiseSubscription=void 0;var Xo=class{constructor(e,t){this.handler=e,this.isOnce=t,this.isExecuted=!1}async execute(e,t,n){if(!this.isOnce||!this.isExecuted){this.isExecuted=!0;var r=this.handler;if(e){setTimeout(()=>{r.apply(t,n)},1);return}await r.apply(t,n)}}};rr.PromiseSubscription=Xo});var Gd=O(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.Subscription=void 0;var Zo=class{constructor(e,t){this.handler=e,this.isOnce=t,this.isExecuted=!1}execute(e,t,n){if(!this.isOnce||!this.isExecuted){this.isExecuted=!0;var r=this.handler;e?setTimeout(()=>{r.apply(t,n)},1):r.apply(t,n)}}};ir.Subscription=Zo});var Wd=O(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.SubscriptionChangeEventDispatcher=void 0;var ou=it(),Qo=class extends ou.DispatcherBase{dispatch(e){this._dispatch(!1,this,arguments)}};or.SubscriptionChangeEventDispatcher=Qo});var it=O(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.SubscriptionChangeEventDispatcher=ee.HandlingBase=ee.PromiseDispatcherBase=ee.PromiseSubscription=ee.DispatchError=ee.EventManagement=ee.EventListBase=ee.DispatcherWrapper=ee.DispatcherBase=ee.Subscription=void 0;var au=Md();Object.defineProperty(ee,"DispatcherBase",{enumerable:!0,get:function(){return au.DispatcherBase}});var du=Pd();Object.defineProperty(ee,"DispatchError",{enumerable:!0,get:function(){return du.DispatchError}});var lu=Rd();Object.defineProperty(ee,"DispatcherWrapper",{enumerable:!0,get:function(){return lu.DispatcherWrapper}});var su=Ud();Object.defineProperty(ee,"EventListBase",{enumerable:!0,get:function(){return su.EventListBase}});var cu=jd();Object.defineProperty(ee,"EventManagement",{enumerable:!0,get:function(){return cu.EventManagement}});var uu=zd();Object.defineProperty(ee,"HandlingBase",{enumerable:!0,get:function(){return uu.HandlingBase}});var _u=Hd();Object.defineProperty(ee,"PromiseDispatcherBase",{enumerable:!0,get:function(){return _u.PromiseDispatcherBase}});var pu=Vd();Object.defineProperty(ee,"PromiseSubscription",{enumerable:!0,get:function(){return pu.PromiseSubscription}});var gu=Gd();Object.defineProperty(ee,"Subscription",{enumerable:!0,get:function(){return gu.Subscription}});var mu=Wd();Object.defineProperty(ee,"SubscriptionChangeEventDispatcher",{enumerable:!0,get:function(){return mu.SubscriptionChangeEventDispatcher}})});var dr=O(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.PromiseSimpleEventDispatcher=void 0;var Yd=it(),Ko=class extends Yd.PromiseDispatcherBase{constructor(){super()}async dispatch(e){let t=await this._dispatchAsPromise(!1,this,arguments);if(t==null)throw new Yd.DispatchError("Got `null` back from dispatch.");return t}dispatchAsync(e){this._dispatchAsPromise(!0,this,arguments)}asEvent(){return super.asEvent()}};ar.PromiseSimpleEventDispatcher=Ko});var Jd=O(lr=>{"use strict";Object.defineProperty(lr,"__esModule",{value:!0});lr.NonUniformPromiseSimpleEventList=void 0;var fu=dr(),$o=class{constructor(){this._events={}}get(e){if(this._events[e])return this._events[e];let t=this.createDispatcher();return this._events[e]=t,t}remove(e){delete this._events[e]}createDispatcher(){return new fu.PromiseSimpleEventDispatcher}};lr.NonUniformPromiseSimpleEventList=$o});var ta=O(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.PromiseSimpleEventList=void 0;var hu=it(),bu=dr(),ea=class extends hu.EventListBase{constructor(){super()}createDispatcher(){return new bu.PromiseSimpleEventDispatcher}};sr.PromiseSimpleEventList=ea});var Xd=O(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.PromiseSimpleEventHandlingBase=void 0;var vu=it(),yu=ta(),na=class extends vu.HandlingBase{constructor(){super(new yu.PromiseSimpleEventList)}};cr.PromiseSimpleEventHandlingBase=na});var Zd=O(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.NonUniformPromiseSimpleEventList=qe.PromiseSimpleEventList=qe.PromiseSimpleEventHandlingBase=qe.PromiseSimpleEventDispatcher=void 0;var wu=Jd();Object.defineProperty(qe,"NonUniformPromiseSimpleEventList",{enumerable:!0,get:function(){return wu.NonUniformPromiseSimpleEventList}});var xu=dr();Object.defineProperty(qe,"PromiseSimpleEventDispatcher",{enumerable:!0,get:function(){return xu.PromiseSimpleEventDispatcher}});var ku=Xd();Object.defineProperty(qe,"PromiseSimpleEventHandlingBase",{enumerable:!0,get:function(){return ku.PromiseSimpleEventHandlingBase}});var Eu=ta();Object.defineProperty(qe,"PromiseSimpleEventList",{enumerable:!0,get:function(){return Eu.PromiseSimpleEventList}})});var ct=O(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});D.NonUniformPromiseSimpleEventList=D.PromiseSimpleEventList=D.PromiseSimpleEventHandlingBase=D.PromiseSimpleEventDispatcher=D.PromiseSignalList=D.PromiseSignalHandlingBase=D.PromiseSignalDispatcher=D.NonUniformPromiseEventList=D.PromiseEventList=D.PromiseEventHandlingBase=D.PromiseEventDispatcher=D.SignalList=D.SignalHandlingBase=D.SignalDispatcher=D.NonUniformSimpleEventList=D.SimpleEventList=D.SimpleEventHandlingBase=D.SimpleEventDispatcher=D.NonUniformEventList=D.EventList=D.EventHandlingBase=D.EventDispatcher=D.HandlingBase=D.PromiseDispatcherBase=D.PromiseSubscription=D.DispatchError=D.EventManagement=D.EventListBase=D.DispatcherWrapper=D.DispatcherBase=D.Subscription=void 0;var Pe=ge();Object.defineProperty(D,"Subscription",{enumerable:!0,get:function(){return Pe.Subscription}});Object.defineProperty(D,"DispatcherBase",{enumerable:!0,get:function(){return Pe.DispatcherBase}});Object.defineProperty(D,"DispatcherWrapper",{enumerable:!0,get:function(){return Pe.DispatcherWrapper}});Object.defineProperty(D,"EventListBase",{enumerable:!0,get:function(){return Pe.EventListBase}});Object.defineProperty(D,"EventManagement",{enumerable:!0,get:function(){return Pe.EventManagement}});Object.defineProperty(D,"DispatchError",{enumerable:!0,get:function(){return Pe.DispatchError}});Object.defineProperty(D,"PromiseSubscription",{enumerable:!0,get:function(){return Pe.PromiseSubscription}});Object.defineProperty(D,"PromiseDispatcherBase",{enumerable:!0,get:function(){return Pe.PromiseDispatcherBase}});Object.defineProperty(D,"HandlingBase",{enumerable:!0,get:function(){return Pe.HandlingBase}});var ur=td();Object.defineProperty(D,"EventDispatcher",{enumerable:!0,get:function(){return ur.EventDispatcher}});Object.defineProperty(D,"EventHandlingBase",{enumerable:!0,get:function(){return ur.EventHandlingBase}});Object.defineProperty(D,"EventList",{enumerable:!0,get:function(){return ur.EventList}});Object.defineProperty(D,"NonUniformEventList",{enumerable:!0,get:function(){return ur.NonUniformEventList}});var _r=od();Object.defineProperty(D,"SimpleEventDispatcher",{enumerable:!0,get:function(){return _r.SimpleEventDispatcher}});Object.defineProperty(D,"SimpleEventHandlingBase",{enumerable:!0,get:function(){return _r.SimpleEventHandlingBase}});Object.defineProperty(D,"SimpleEventList",{enumerable:!0,get:function(){return _r.SimpleEventList}});Object.defineProperty(D,"NonUniformSimpleEventList",{enumerable:!0,get:function(){return _r.NonUniformSimpleEventList}});var ra=gn();Object.defineProperty(D,"SignalDispatcher",{enumerable:!0,get:function(){return ra.SignalDispatcher}});Object.defineProperty(D,"SignalHandlingBase",{enumerable:!0,get:function(){return ra.SignalHandlingBase}});Object.defineProperty(D,"SignalList",{enumerable:!0,get:function(){return ra.SignalList}});var pr=kd();Object.defineProperty(D,"PromiseEventDispatcher",{enumerable:!0,get:function(){return pr.PromiseEventDispatcher}});Object.defineProperty(D,"PromiseEventHandlingBase",{enumerable:!0,get:function(){return pr.PromiseEventHandlingBase}});Object.defineProperty(D,"PromiseEventList",{enumerable:!0,get:function(){return pr.PromiseEventList}});Object.defineProperty(D,"NonUniformPromiseEventList",{enumerable:!0,get:function(){return pr.NonUniformPromiseEventList}});var ia=Uo();Object.defineProperty(D,"PromiseSignalDispatcher",{enumerable:!0,get:function(){return ia.PromiseSignalDispatcher}});Object.defineProperty(D,"PromiseSignalHandlingBase",{enumerable:!0,get:function(){return ia.PromiseSignalHandlingBase}});Object.defineProperty(D,"PromiseSignalList",{enumerable:!0,get:function(){return ia.PromiseSignalList}});var gr=Zd();Object.defineProperty(D,"PromiseSimpleEventDispatcher",{enumerable:!0,get:function(){return gr.PromiseSimpleEventDispatcher}});Object.defineProperty(D,"PromiseSimpleEventHandlingBase",{enumerable:!0,get:function(){return gr.PromiseSimpleEventHandlingBase}});Object.defineProperty(D,"PromiseSimpleEventList",{enumerable:!0,get:function(){return gr.PromiseSimpleEventList}});Object.defineProperty(D,"NonUniformPromiseSimpleEventList",{enumerable:!0,get:function(){return gr.NonUniformPromiseSimpleEventList}})});var rl=O((Dm,nl)=>{"use strict";(()=>{"use strict";var a={705:(r,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.cardNumber=void 0;var d=o(163),l=o(61);function c(p,g,m){return{card:p,isPotentiallyValid:g,isValid:m}}function u(p,g){g===void 0&&(g={});var m,v,w;if(typeof p!="string"&&typeof p!="number")return c(null,!1,!1);var k=String(p).replace(/-|\s/g,"");if(!/^\d*$/.test(k))return c(null,!1,!1);var x=l(k);if(x.length===0)return c(null,!1,!1);if(x.length!==1)return c(null,!0,!1);var h=x[0];if(g.maxLength&&k.length>g.maxLength)return c(h,!1,!1);h.type===l.types.UNIONPAY&&g.luhnValidateUnionPay!==!0?v=!0:v=d(k),w=Math.max.apply(null,h.lengths),g.maxLength&&(w=Math.min(g.maxLength,w));for(var y=0;y<h.lengths.length;y++)if(h.lengths[y]===k.length)return m=k.length<w||v,c(h,m,v);return c(h,k.length<w,!1)}i.cardNumber=u},436:(r,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.cardholderName=void 0;var o=/^[\d\s-]*$/,d=255;function l(u,p){return{isValid:u,isPotentiallyValid:p}}function c(u){return typeof u!="string"?l(!1,!1):u.length===0?l(!1,!0):u.length>d?l(!1,!1):o.test(u)?l(!1,!0):l(!0,!0)}i.cardholderName=c},634:(r,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.cvv=void 0;var o=3;function d(p,g){for(var m=0;m<p.length;m++)if(g===p[m])return!0;return!1}function l(p){for(var g=o,m=0;m<p.length;m++)g=p[m]>g?p[m]:g;return g}function c(p,g){return{isValid:p,isPotentiallyValid:g}}function u(p,g){return g===void 0&&(g=o),g=g instanceof Array?g:[g],typeof p!="string"||!/^\d*$/.test(p)?c(!1,!1):d(g,p.length)?c(!0,!0):p.length<Math.min.apply(null,g)?c(!1,!0):p.length>l(g)?c(!1,!1):c(!0,!0)}i.cvv=u},730:function(r,i,o){var d=this&&this.__assign||function(){return d=Object.assign||function(m){for(var v,w=1,k=arguments.length;w<k;w++){v=arguments[w];for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&(m[x]=v[x])}return m},d.apply(this,arguments)};Object.defineProperty(i,"__esModule",{value:!0}),i.expirationDate=void 0;var l=o(67),c=o(564),u=o(1);function p(m,v,w,k){return{isValid:m,isPotentiallyValid:v,month:w,year:k}}function g(m,v){var w;if(typeof m=="string")m=m.replace(/^(\d\d) (\d\d(\d\d)?)$/,"$1/$2"),w=(0,l.parseDate)(String(m));else if(m!==null&&typeof m=="object"){var k=d({},m);w={month:String(k.month),year:String(k.year)}}else return p(!1,!1,null,null);var x=(0,c.expirationMonth)(w.month),h=(0,u.expirationYear)(w.year,v);if(x.isValid){if(h.isCurrentYear){var y=x.isValidForThisYear;return p(y,y,w.month,w.year)}if(h.isValid)return p(!0,!0,w.month,w.year)}return x.isPotentiallyValid&&h.isPotentiallyValid?p(!1,!0,null,null):p(!1,!1,null,null)}i.expirationDate=g},564:(r,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.expirationMonth=void 0;function o(l,c,u){return{isValid:l,isPotentiallyValid:c,isValidForThisYear:u||!1}}function d(l){var c=new Date().getMonth()+1;if(typeof l!="string")return o(!1,!1);if(l.replace(/\s/g,"")===""||l==="0")return o(!1,!0);if(!/^\d*$/.test(l))return o(!1,!1);var u=parseInt(l,10);if(isNaN(Number(l)))return o(!1,!1);var p=u>0&&u<13;return o(p,p,p&&u>=c)}i.expirationMonth=d},1:(r,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.expirationYear=void 0;var o=19;function d(c,u,p){return{isValid:c,isPotentiallyValid:u,isCurrentYear:p||!1}}function l(c,u){u===void 0&&(u=o);var p;if(typeof c!="string")return d(!1,!1);if(c.replace(/\s/g,"")==="")return d(!1,!0);if(!/^\d*$/.test(c))return d(!1,!1);var g=c.length;if(g<2)return d(!1,!0);var m=new Date().getFullYear();if(g===3){var v=c.slice(0,2),w=String(m).slice(0,2);return d(!1,v===w)}if(g>4)return d(!1,!1);var k=parseInt(c,10),x=Number(String(m).substr(2,2)),h=!1;if(g===2){if(String(m).substr(0,2)===c)return d(!1,!0);p=x===k,h=k>=x&&k<=x+u}else g===4&&(p=m===k,h=k>=m&&k<=m+u);return d(h,h,p)}i.expirationYear=l},499:function(r,i,o){var d=this&&this.__createBinding||(Object.create?function(y,_,f,b){b===void 0&&(b=f);var A=Object.getOwnPropertyDescriptor(_,f);(!A||("get"in A?!_.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return _[f]}}),Object.defineProperty(y,b,A)}:function(y,_,f,b){b===void 0&&(b=f),y[b]=_[f]}),l=this&&this.__setModuleDefault||(Object.create?function(y,_){Object.defineProperty(y,"default",{enumerable:!0,value:_})}:function(y,_){y.default=_}),c=this&&this.__importStar||function(y){if(y&&y.__esModule)return y;var _={};if(y!=null)for(var f in y)f!=="default"&&Object.prototype.hasOwnProperty.call(y,f)&&d(_,y,f);return l(_,y),_},u=c(o(61)),p=o(436),g=o(705),m=o(730),v=o(564),w=o(1),k=o(634),x=o(957),h={creditCardType:u,cardholderName:p.cardholderName,number:g.cardNumber,expirationDate:m.expirationDate,expirationMonth:v.expirationMonth,expirationYear:w.expirationYear,cvv:k.cvv,postalCode:x.postalCode};r.exports=h},947:(r,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isArray=void 0,i.isArray=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"}},67:(r,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.parseDate=void 0;var d=o(1),l=o(947);function c(p){var g=Number(p[0]),m;return g===0?2:g>1||g===1&&Number(p[1])>2?1:g===1?(m=p.substr(1),(0,d.expirationYear)(m).isPotentiallyValid?1:2):p.length===5?1:p.length>5?2:1}function u(p){var g;if(/^\d{4}-\d{1,2}$/.test(p)?g=p.split("-").reverse():/\//.test(p)?g=p.split(/\s*\/\s*/g):/\s/.test(p)&&(g=p.split(/ +/g)),(0,l.isArray)(g))return{month:g[0]||"",year:g.slice(1).join()};var m=c(p),v=p.substr(0,m);return{month:v,year:p.substr(v.length)}}i.parseDate=u},163:r=>{function i(o){for(var d=0,l=!1,c=o.length-1,u;c>=0;)u=parseInt(o.charAt(c),10),l&&(u*=2,u>9&&(u=u%10+1)),l=!l,d+=u,c--;return d%10===0}r.exports=i},957:(r,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.postalCode=void 0;var o=3;function d(c,u){return{isValid:c,isPotentiallyValid:u}}function l(c,u){u===void 0&&(u={});var p=u.minLength||o;return typeof c!="string"?d(!1,!1):c.length<p?d(!1,!0):d(!0,!0)}i.postalCode=l},61:function(r,i,o){var d=this&&this.__assign||function(){return d=Object.assign||function(f){for(var b,A=1,F=arguments.length;A<F;A++){b=arguments[A];for(var L in b)Object.prototype.hasOwnProperty.call(b,L)&&(f[L]=b[L])}return f},d.apply(this,arguments)},l=o(126),c=o(258),u=o(81),p=o(910),g=o(40),m={},v={VISA:"visa",MASTERCARD:"mastercard",AMERICAN_EXPRESS:"american-express",DINERS_CLUB:"diners-club",DISCOVER:"discover",JCB:"jcb",UNIONPAY:"unionpay",MAESTRO:"maestro",ELO:"elo",MIR:"mir",HIPER:"hiper",HIPERCARD:"hipercard"},w=[v.VISA,v.MASTERCARD,v.AMERICAN_EXPRESS,v.DINERS_CLUB,v.DISCOVER,v.JCB,v.UNIONPAY,v.MAESTRO,v.ELO,v.MIR,v.HIPER,v.HIPERCARD],k=g.clone(w);function x(f){return m[f]||l[f]}function h(){return k.map(function(f){return g.clone(x(f))})}function y(f,b){b===void 0&&(b=!1);var A=k.indexOf(f);if(!b&&A===-1)throw new Error('"'+f+'" is not a supported card type.');return A}function _(f){var b=[];if(!u.isValidInputType(f))return b;if(f.length===0)return h();k.forEach(function(F){var L=x(F);c.addMatchingCardsToResults(f,L,b)});var A=p.findBestMatch(b);return A?[A]:b}_.getTypeInfo=function(f){return g.clone(x(f))},_.removeCard=function(f){var b=y(f);k.splice(b,1)},_.addCard=function(f){var b=y(f.type,!0);m[f.type]=f,b===-1&&k.push(f.type)},_.updateCard=function(f,b){var A=m[f]||l[f];if(!A)throw new Error('"'+f+"\" is not a recognized type. Use `addCard` instead.'");if(b.type&&A.type!==b.type)throw new Error("Cannot overwrite type parameter.");var F=g.clone(A);F=d(d({},F),b),m[F.type]=F},_.changeOrder=function(f,b){var A=y(f);k.splice(A,1),k.splice(b,0,f)},_.resetModifications=function(){k=g.clone(w),m={}},_.types=v,r.exports=_},258:(r,i,o)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.addMatchingCardsToResults=void 0;var d=o(40),l=o(597);function c(u,p,g){var m,v;for(m=0;m<p.patterns.length;m++){var w=p.patterns[m];if(l.matches(u,w)){var k=d.clone(p);Array.isArray(w)?v=String(w[0]).length:v=String(w).length,u.length>=v&&(k.matchStrength=v),g.push(k);break}}}i.addMatchingCardsToResults=c},126:r=>{var i={visa:{niceType:"Visa",type:"visa",patterns:[4],gaps:[4,8,12],lengths:[16,18,19],code:{name:"CVV",size:3}},mastercard:{niceType:"Mastercard",type:"mastercard",patterns:[[51,55],[2221,2229],[223,229],[23,26],[270,271],2720],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},"american-express":{niceType:"American Express",type:"american-express",patterns:[34,37],gaps:[4,10],lengths:[15],code:{name:"CID",size:4}},"diners-club":{niceType:"Diners Club",type:"diners-club",patterns:[[300,305],36,38,39],gaps:[4,10],lengths:[14,16,19],code:{name:"CVV",size:3}},discover:{niceType:"Discover",type:"discover",patterns:[6011,[644,649],65],gaps:[4,8,12],lengths:[16,19],code:{name:"CID",size:3}},jcb:{niceType:"JCB",type:"jcb",patterns:[2131,1800,[3528,3589]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVV",size:3}},unionpay:{niceType:"UnionPay",type:"unionpay",patterns:[620,[624,626],[62100,62182],[62184,62187],[62185,62197],[62200,62205],[622010,622999],622018,[622019,622999],[62207,62209],[622126,622925],[623,626],6270,6272,6276,[627700,627779],[627781,627799],[6282,6289],6291,6292,810,[8110,8131],[8132,8151],[8152,8163],[8164,8171]],gaps:[4,8,12],lengths:[14,15,16,17,18,19],code:{name:"CVN",size:3}},maestro:{niceType:"Maestro",type:"maestro",patterns:[493698,[5e5,504174],[504176,506698],[506779,508999],[56,59],63,67,6],gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:"CVC",size:3}},elo:{niceType:"Elo",type:"elo",patterns:[401178,401179,438935,457631,457632,431274,451416,457393,504175,[506699,506778],[509e3,509999],627780,636297,636368,[650031,650033],[650035,650051],[650405,650439],[650485,650538],[650541,650598],[650700,650718],[650720,650727],[650901,650978],[651652,651679],[655e3,655019],[655021,655058]],gaps:[4,8,12],lengths:[16],code:{name:"CVE",size:3}},mir:{niceType:"Mir",type:"mir",patterns:[[2200,2204]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVP2",size:3}},hiper:{niceType:"Hiper",type:"hiper",patterns:[637095,63737423,63743358,637568,637599,637609,637612],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},hipercard:{niceType:"Hipercard",type:"hipercard",patterns:[606282],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}}};r.exports=i},40:(r,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.clone=void 0;function o(d){return d?JSON.parse(JSON.stringify(d)):null}i.clone=o},910:(r,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.findBestMatch=void 0;function o(l){var c=l.filter(function(u){return u.matchStrength}).length;return c>0&&c===l.length}function d(l){return o(l)?l.reduce(function(c,u){return!c||Number(c.matchStrength)<Number(u.matchStrength)?u:c}):null}i.findBestMatch=d},81:(r,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isValidInputType=void 0;function o(d){return typeof d=="string"||d instanceof String}i.isValidInputType=o},597:(r,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.matches=void 0;function o(c,u,p){var g=String(u).length,m=c.substr(0,g),v=parseInt(m,10);return u=parseInt(String(u).substr(0,m.length),10),p=parseInt(String(p).substr(0,m.length),10),v>=u&&v<=p}function d(c,u){return u=String(u),u.substring(0,c.length)===c.substring(0,u.length)}function l(c,u){return Array.isArray(u)?o(c,u[0],u[1]):d(c,u)}i.matches=l}},e={};function t(r){var i=e[r];if(i!==void 0)return i.exports;var o=e[r]={exports:{}},d=!0;try{a[r].call(o.exports,o,o.exports,t),d=!1}finally{d&&delete e[r]}return o.exports}typeof t<"u"&&(t.ab=__dirname+"/");var n=t(499);nl.exports=n})()});var Fl=O(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});function Fe(a){if(a==null)return window;if(a.toString()!=="[object Window]"){var e=a.ownerDocument;return e&&e.defaultView||window}return a}function gt(a){var e=Fe(a).Element;return a instanceof e||a instanceof Element}function Ae(a){var e=Fe(a).HTMLElement;return a instanceof e||a instanceof HTMLElement}function gl(a){if(typeof ShadowRoot>"u")return!1;var e=Fe(a).ShadowRoot;return a instanceof e||a instanceof ShadowRoot}var ot=Math.max,Ai=Math.min,mt=Math.round;function ft(a,e){e===void 0&&(e=!1);var t=a.getBoundingClientRect(),n=1,r=1;if(Ae(a)&&e){var i=a.offsetHeight,o=a.offsetWidth;o>0&&(n=mt(t.width)/o||1),i>0&&(r=mt(t.height)/i||1)}return{width:t.width/n,height:t.height/r,top:t.top/r,right:t.right/n,bottom:t.bottom/r,left:t.left/n,x:t.left/n,y:t.top/r}}function la(a){var e=Fe(a),t=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:t,scrollTop:n}}function Nu(a){return{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}}function Mu(a){return a===Fe(a)||!Ae(a)?la(a):Nu(a)}function Ne(a){return a?(a.nodeName||"").toLowerCase():null}function Je(a){return((gt(a)?a.ownerDocument:a.document)||window.document).documentElement}function sa(a){return ft(Je(a)).left+la(a).scrollLeft}function Ue(a){return Fe(a).getComputedStyle(a)}function ca(a){var e=Ue(a),t=e.overflow,n=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+n)}function Pu(a){var e=a.getBoundingClientRect(),t=mt(e.width)/a.offsetWidth||1,n=mt(e.height)/a.offsetHeight||1;return t!==1||n!==1}function Ru(a,e,t){t===void 0&&(t=!1);var n=Ae(e),r=Ae(e)&&Pu(e),i=Je(e),o=ft(a,r),d={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!t)&&((Ne(e)!=="body"||ca(i))&&(d=Mu(e)),Ae(e)?(l=ft(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=sa(i))),{x:o.left+d.scrollLeft-l.x,y:o.top+d.scrollTop-l.y,width:o.width,height:o.height}}function ua(a){var e=ft(a),t=a.offsetWidth,n=a.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:a.offsetLeft,y:a.offsetTop,width:t,height:n}}function Si(a){return Ne(a)==="html"?a:a.assignedSlot||a.parentNode||(gl(a)?a.host:null)||Je(a)}function ml(a){return["html","body","#document"].indexOf(Ne(a))>=0?a.ownerDocument.body:Ae(a)&&ca(a)?a:ml(Si(a))}function Ct(a,e){var t;e===void 0&&(e=[]);var n=ml(a),r=n===((t=a.ownerDocument)==null?void 0:t.body),i=Fe(n),o=r?[i].concat(i.visualViewport||[],ca(n)?n:[]):n,d=e.concat(o);return r?d:d.concat(Ct(Si(o)))}function Uu(a){return["table","td","th"].indexOf(Ne(a))>=0}function ol(a){return!Ae(a)||Ue(a).position==="fixed"?null:a.offsetParent}function ju(a){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,t=navigator.userAgent.indexOf("Trident")!==-1;if(t&&Ae(a)){var n=Ue(a);if(n.position==="fixed")return null}for(var r=Si(a);Ae(r)&&["html","body"].indexOf(Ne(r))<0;){var i=Ue(r);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return r;r=r.parentNode}return null}function Lt(a){for(var e=Fe(a),t=ol(a);t&&Uu(t)&&Ue(t).position==="static";)t=ol(t);return t&&(Ne(t)==="html"||Ne(t)==="body"&&Ue(t).position==="static")?e:t||ju(a)||e}var me="top",Se="bottom",Ce="right",fe="left",_a="auto",Dt=[me,Se,Ce,fe],ht="start",Ft="end",zu="clippingParents",fl="viewport",St="popper",Hu="reference",al=Dt.reduce(function(a,e){return a.concat([e+"-"+ht,e+"-"+Ft])},[]),hl=[].concat(Dt,[_a]).reduce(function(a,e){return a.concat([e,e+"-"+ht,e+"-"+Ft])},[]),Vu="beforeRead",Gu="read",Wu="afterRead",Yu="beforeMain",Ju="main",Xu="afterMain",Zu="beforeWrite",Qu="write",Ku="afterWrite",$u=[Vu,Gu,Wu,Yu,Ju,Xu,Zu,Qu,Ku];function e_(a){var e=new Map,t=new Set,n=[];a.forEach(function(i){e.set(i.name,i)});function r(i){t.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(d){if(!t.has(d)){var l=e.get(d);l&&r(l)}}),n.push(i)}return a.forEach(function(i){t.has(i.name)||r(i)}),n}function t_(a){var e=e_(a);return $u.reduce(function(t,n){return t.concat(e.filter(function(r){return r.phase===n}))},[])}function n_(a){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(a())})})),e}}function Be(a){return a.split("-")[0]}function r_(a){var e=a.reduce(function(t,n){var r=t[n.name];return t[n.name]=r?Object.assign({},r,n,{options:Object.assign({},r.options,n.options),data:Object.assign({},r.data,n.data)}):n,t},{});return Object.keys(e).map(function(t){return e[t]})}function i_(a){var e=Fe(a),t=Je(a),n=e.visualViewport,r=t.clientWidth,i=t.clientHeight,o=0,d=0;return n&&(r=n.width,i=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=n.offsetLeft,d=n.offsetTop)),{width:r,height:i,x:o+sa(a),y:d}}function o_(a){var e,t=Je(a),n=la(a),r=(e=a.ownerDocument)==null?void 0:e.body,i=ot(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=ot(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),d=-n.scrollLeft+sa(a),l=-n.scrollTop;return Ue(r||t).direction==="rtl"&&(d+=ot(t.clientWidth,r?r.clientWidth:0)-i),{width:i,height:o,x:d,y:l}}function bl(a,e){var t=e.getRootNode&&e.getRootNode();if(a.contains(e))return!0;if(t&&gl(t)){var n=e;do{if(n&&a.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function da(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function a_(a){var e=ft(a);return e.top=e.top+a.clientTop,e.left=e.left+a.clientLeft,e.bottom=e.top+a.clientHeight,e.right=e.left+a.clientWidth,e.width=a.clientWidth,e.height=a.clientHeight,e.x=e.left,e.y=e.top,e}function dl(a,e){return e===fl?da(i_(a)):gt(e)?a_(e):da(o_(Je(a)))}function d_(a){var e=Ct(Si(a)),t=["absolute","fixed"].indexOf(Ue(a).position)>=0,n=t&&Ae(a)?Lt(a):a;return gt(n)?e.filter(function(r){return gt(r)&&bl(r,n)&&Ne(r)!=="body"}):[]}function l_(a,e,t){var n=e==="clippingParents"?d_(a):[].concat(e),r=[].concat(n,[t]),i=r[0],o=r.reduce(function(d,l){var c=dl(a,l);return d.top=ot(c.top,d.top),d.right=Ai(c.right,d.right),d.bottom=Ai(c.bottom,d.bottom),d.left=ot(c.left,d.left),d},dl(a,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function bt(a){return a.split("-")[1]}function pa(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function vl(a){var e=a.reference,t=a.element,n=a.placement,r=n?Be(n):null,i=n?bt(n):null,o=e.x+e.width/2-t.width/2,d=e.y+e.height/2-t.height/2,l;switch(r){case me:l={x:o,y:e.y-t.height};break;case Se:l={x:o,y:e.y+e.height};break;case Ce:l={x:e.x+e.width,y:d};break;case fe:l={x:e.x-t.width,y:d};break;default:l={x:e.x,y:e.y}}var c=r?pa(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(i){case ht:l[c]=l[c]-(e[u]/2-t[u]/2);break;case Ft:l[c]=l[c]+(e[u]/2-t[u]/2);break}}return l}function yl(){return{top:0,right:0,bottom:0,left:0}}function wl(a){return Object.assign({},yl(),a)}function xl(a,e){return e.reduce(function(t,n){return t[n]=a,t},{})}function vt(a,e){e===void 0&&(e={});var t=e,n=t.placement,r=n===void 0?a.placement:n,i=t.boundary,o=i===void 0?zu:i,d=t.rootBoundary,l=d===void 0?fl:d,c=t.elementContext,u=c===void 0?St:c,p=t.altBoundary,g=p===void 0?!1:p,m=t.padding,v=m===void 0?0:m,w=wl(typeof v!="number"?v:xl(v,Dt)),k=u===St?Hu:St,x=a.rects.popper,h=a.elements[g?k:u],y=l_(gt(h)?h:h.contextElement||Je(a.elements.popper),o,l),_=ft(a.elements.reference),f=vl({reference:_,element:x,strategy:"absolute",placement:r}),b=da(Object.assign({},x,f)),A=u===St?b:_,F={top:y.top-A.top+w.top,bottom:A.bottom-y.bottom+w.bottom,left:y.left-A.left+w.left,right:A.right-y.right+w.right},L=a.modifiersData.offset;if(u===St&&L){var P=L[r];Object.keys(F).forEach(function(N){var B=[Ce,Se].indexOf(N)>=0?1:-1,R=[me,Se].indexOf(N)>=0?"y":"x";F[N]+=P[R]*B})}return F}var ll={placement:"bottom",modifiers:[],strategy:"absolute"};function sl(){for(var a=arguments.length,e=new Array(a),t=0;t<a;t++)e[t]=arguments[t];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function ga(a){a===void 0&&(a={});var e=a,t=e.defaultModifiers,n=t===void 0?[]:t,r=e.defaultOptions,i=r===void 0?ll:r;return function(d,l,c){c===void 0&&(c=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},ll,i),modifiersData:{},elements:{reference:d,popper:l},attributes:{},styles:{}},p=[],g=!1,m={state:u,setOptions:function(x){var h=typeof x=="function"?x(u.options):x;w(),u.options=Object.assign({},i,u.options,h),u.scrollParents={reference:gt(d)?Ct(d):d.contextElement?Ct(d.contextElement):[],popper:Ct(l)};var y=t_(r_([].concat(n,u.options.modifiers)));if(u.orderedModifiers=y.filter(function(N){return N.enabled}),0){var _;if(Be(u.options.placement)===_a)var f;var b,A,F,L,P}return v(),m.update()},forceUpdate:function(){if(!g){var x=u.elements,h=x.reference,y=x.popper;if(sl(h,y)){u.rects={reference:Ru(h,Lt(y),u.options.strategy==="fixed"),popper:ua(y)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(N){return u.modifiersData[N.name]=Object.assign({},N.data)});for(var _=0,f=0;f<u.orderedModifiers.length;f++){if(u.reset===!0){u.reset=!1,f=-1;continue}var b=u.orderedModifiers[f],A=b.fn,F=b.options,L=F===void 0?{}:F,P=b.name;typeof A=="function"&&(u=A({state:u,options:L,name:P,instance:m})||u)}}}},update:n_(function(){return new Promise(function(k){m.forceUpdate(),k(u)})}),destroy:function(){w(),g=!0}};if(!sl(d,l))return m;m.setOptions(c).then(function(k){!g&&c.onFirstUpdate&&c.onFirstUpdate(k)});function v(){u.orderedModifiers.forEach(function(k){var x=k.name,h=k.options,y=h===void 0?{}:h,_=k.effect;if(typeof _=="function"){var f=_({state:u,name:x,instance:m,options:y}),b=function(){};p.push(f||b)}})}function w(){p.forEach(function(k){return k()}),p=[]}return m}}var ki={passive:!0};function s_(a){var e=a.state,t=a.instance,n=a.options,r=n.scroll,i=r===void 0?!0:r,o=n.resize,d=o===void 0?!0:o,l=Fe(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&c.forEach(function(u){u.addEventListener("scroll",t.update,ki)}),d&&l.addEventListener("resize",t.update,ki),function(){i&&c.forEach(function(u){u.removeEventListener("scroll",t.update,ki)}),d&&l.removeEventListener("resize",t.update,ki)}}var ma={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:s_,data:{}};function c_(a){var e=a.state,t=a.name;e.modifiersData[t]=vl({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var fa={name:"popperOffsets",enabled:!0,phase:"read",fn:c_,data:{}},u_={top:"auto",right:"auto",bottom:"auto",left:"auto"};function __(a){var e=a.x,t=a.y,n=window,r=n.devicePixelRatio||1;return{x:mt(e*r)/r||0,y:mt(t*r)/r||0}}function cl(a){var e,t=a.popper,n=a.popperRect,r=a.placement,i=a.variation,o=a.offsets,d=a.position,l=a.gpuAcceleration,c=a.adaptive,u=a.roundOffsets,p=a.isFixed,g=o.x,m=g===void 0?0:g,v=o.y,w=v===void 0?0:v,k=typeof u=="function"?u({x:m,y:w}):{x:m,y:w};m=k.x,w=k.y;var x=o.hasOwnProperty("x"),h=o.hasOwnProperty("y"),y=fe,_=me,f=window;if(c){var b=Lt(t),A="clientHeight",F="clientWidth";if(b===Fe(t)&&(b=Je(t),Ue(b).position!=="static"&&d==="absolute"&&(A="scrollHeight",F="scrollWidth")),b=b,r===me||(r===fe||r===Ce)&&i===Ft){_=Se;var L=p&&f.visualViewport?f.visualViewport.height:b[A];w-=L-n.height,w*=l?1:-1}if(r===fe||(r===me||r===Se)&&i===Ft){y=Ce;var P=p&&f.visualViewport?f.visualViewport.width:b[F];m-=P-n.width,m*=l?1:-1}}var N=Object.assign({position:d},c&&u_),B=u===!0?__({x:m,y:w}):{x:m,y:w};if(m=B.x,w=B.y,l){var R;return Object.assign({},N,(R={},R[_]=h?"0":"",R[y]=x?"0":"",R.transform=(f.devicePixelRatio||1)<=1?"translate("+m+"px, "+w+"px)":"translate3d("+m+"px, "+w+"px, 0)",R))}return Object.assign({},N,(e={},e[_]=h?w+"px":"",e[y]=x?m+"px":"",e.transform="",e))}function p_(a){var e=a.state,t=a.options,n=t.gpuAcceleration,r=n===void 0?!0:n,i=t.adaptive,o=i===void 0?!0:i,d=t.roundOffsets,l=d===void 0?!0:d;if(0)var c;var u={placement:Be(e.placement),variation:bt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,cl(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,cl(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var ha={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:p_,data:{}};function g_(a){var e=a.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},i=e.elements[t];!Ae(i)||!Ne(i)||(Object.assign(i.style,n),Object.keys(r).forEach(function(o){var d=r[o];d===!1?i.removeAttribute(o):i.setAttribute(o,d===!0?"":d)}))})}function m_(a){var e=a.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(n){var r=e.elements[n],i=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:t[n]),d=o.reduce(function(l,c){return l[c]="",l},{});!Ae(r)||!Ne(r)||(Object.assign(r.style,d),Object.keys(i).forEach(function(l){r.removeAttribute(l)}))})}}var ba={name:"applyStyles",enabled:!0,phase:"write",fn:g_,effect:m_,requires:["computeStyles"]};function f_(a,e,t){var n=Be(a),r=[fe,me].indexOf(n)>=0?-1:1,i=typeof t=="function"?t(Object.assign({},e,{placement:a})):t,o=i[0],d=i[1];return o=o||0,d=(d||0)*r,[fe,Ce].indexOf(n)>=0?{x:d,y:o}:{x:o,y:d}}function h_(a){var e=a.state,t=a.options,n=a.name,r=t.offset,i=r===void 0?[0,0]:r,o=hl.reduce(function(u,p){return u[p]=f_(p,e.rects,i),u},{}),d=o[e.placement],l=d.x,c=d.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=o}var kl={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:h_},b_={left:"right",right:"left",bottom:"top",top:"bottom"};function Ei(a){return a.replace(/left|right|bottom|top/g,function(e){return b_[e]})}var v_={start:"end",end:"start"};function ul(a){return a.replace(/start|end/g,function(e){return v_[e]})}function y_(a,e){e===void 0&&(e={});var t=e,n=t.placement,r=t.boundary,i=t.rootBoundary,o=t.padding,d=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?hl:l,u=bt(n),p=u?d?al:al.filter(function(v){return bt(v)===u}):Dt,g=p.filter(function(v){return c.indexOf(v)>=0});g.length===0&&(g=p);var m=g.reduce(function(v,w){return v[w]=vt(a,{placement:w,boundary:r,rootBoundary:i,padding:o})[Be(w)],v},{});return Object.keys(m).sort(function(v,w){return m[v]-m[w]})}function w_(a){if(Be(a)===_a)return[];var e=Ei(a);return[ul(a),e,ul(e)]}function x_(a){var e=a.state,t=a.options,n=a.name;if(!e.modifiersData[n]._skip){for(var r=t.mainAxis,i=r===void 0?!0:r,o=t.altAxis,d=o===void 0?!0:o,l=t.fallbackPlacements,c=t.padding,u=t.boundary,p=t.rootBoundary,g=t.altBoundary,m=t.flipVariations,v=m===void 0?!0:m,w=t.allowedAutoPlacements,k=e.options.placement,x=Be(k),h=x===k,y=l||(h||!v?[Ei(k)]:w_(k)),_=[k].concat(y).reduce(function(we,C){return we.concat(Be(C)===_a?y_(e,{placement:C,boundary:u,rootBoundary:p,padding:c,flipVariations:v,allowedAutoPlacements:w}):C)},[]),f=e.rects.reference,b=e.rects.popper,A=new Map,F=!0,L=_[0],P=0;P<_.length;P++){var N=_[P],B=Be(N),R=bt(N)===ht,W=[me,Se].indexOf(B)>=0,J=W?"width":"height",re=vt(e,{placement:N,boundary:u,rootBoundary:p,altBoundary:g,padding:c}),ae=W?R?Ce:fe:R?Se:me;f[J]>b[J]&&(ae=Ei(ae));var ie=Ei(ae),_e=[];if(i&&_e.push(re[B]<=0),d&&_e.push(re[ae]<=0,re[ie]<=0),_e.every(function(we){return we})){L=N,F=!1;break}A.set(N,_e)}if(F)for(var ye=v?3:1,Oe=function(C){var I=_.find(function(U){var j=A.get(U);if(j)return j.slice(0,C).every(function(Y){return Y})});if(I)return L=I,"break"},pe=ye;pe>0;pe--){var je=Oe(pe);if(je==="break")break}e.placement!==L&&(e.modifiersData[n]._skip=!0,e.placement=L,e.reset=!0)}}var El={name:"flip",enabled:!0,phase:"main",fn:x_,requiresIfExists:["offset"],data:{_skip:!1}};function k_(a){return a==="x"?"y":"x"}function Ot(a,e,t){return ot(a,Ai(e,t))}function E_(a,e,t){var n=Ot(a,e,t);return n>t?t:n}function A_(a){var e=a.state,t=a.options,n=a.name,r=t.mainAxis,i=r===void 0?!0:r,o=t.altAxis,d=o===void 0?!1:o,l=t.boundary,c=t.rootBoundary,u=t.altBoundary,p=t.padding,g=t.tether,m=g===void 0?!0:g,v=t.tetherOffset,w=v===void 0?0:v,k=vt(e,{boundary:l,rootBoundary:c,padding:p,altBoundary:u}),x=Be(e.placement),h=bt(e.placement),y=!h,_=pa(x),f=k_(_),b=e.modifiersData.popperOffsets,A=e.rects.reference,F=e.rects.popper,L=typeof w=="function"?w(Object.assign({},e.rects,{placement:e.placement})):w,P=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),N=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,B={x:0,y:0};if(b){if(i){var R,W=_==="y"?me:fe,J=_==="y"?Se:Ce,re=_==="y"?"height":"width",ae=b[_],ie=ae+k[W],_e=ae-k[J],ye=m?-F[re]/2:0,Oe=h===ht?A[re]:F[re],pe=h===ht?-F[re]:-A[re],je=e.elements.arrow,we=m&&je?ua(je):{width:0,height:0},C=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:yl(),I=C[W],U=C[J],j=Ot(0,A[re],we[re]),Y=y?A[re]/2-ye-j-I-P.mainAxis:Oe-j-I-P.mainAxis,X=y?-A[re]/2+ye+j+U+P.mainAxis:pe+j+U+P.mainAxis,le=e.elements.arrow&&Lt(e.elements.arrow),de=le?_==="y"?le.clientTop||0:le.clientLeft||0:0,se=(R=N?.[_])!=null?R:0,he=ae+Y-se-de,H=ae+X-se,oe=Ot(m?Ai(ie,he):ie,ae,m?ot(_e,H):_e);b[_]=oe,B[_]=oe-ae}if(d){var te,be=_==="x"?me:fe,ze=_==="x"?Se:Ce,xe=b[f],He=f==="y"?"height":"width",kt=xe+k[be],$e=xe-k[ze],Et=[me,fe].indexOf(x)!==-1,Nt=(te=N?.[f])!=null?te:0,Mt=Et?kt:xe-A[He]-F[He]-Nt+P.altAxis,Pt=Et?xe+A[He]+F[He]-Nt-P.altAxis:$e,Rt=m&&Et?E_(Mt,xe,Pt):Ot(m?Mt:kt,xe,m?Pt:$e);b[f]=Rt,B[f]=Rt-xe}e.modifiersData[n]=B}}var Al={name:"preventOverflow",enabled:!0,phase:"main",fn:A_,requiresIfExists:["offset"]},S_=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,wl(typeof e!="number"?e:xl(e,Dt))};function C_(a){var e,t=a.state,n=a.name,r=a.options,i=t.elements.arrow,o=t.modifiersData.popperOffsets,d=Be(t.placement),l=pa(d),c=[fe,Ce].indexOf(d)>=0,u=c?"height":"width";if(!(!i||!o)){var p=S_(r.padding,t),g=ua(i),m=l==="y"?me:fe,v=l==="y"?Se:Ce,w=t.rects.reference[u]+t.rects.reference[l]-o[l]-t.rects.popper[u],k=o[l]-t.rects.reference[l],x=Lt(i),h=x?l==="y"?x.clientHeight||0:x.clientWidth||0:0,y=w/2-k/2,_=p[m],f=h-g[u]-p[v],b=h/2-g[u]/2+y,A=Ot(_,b,f),F=l;t.modifiersData[n]=(e={},e[F]=A,e.centerOffset=A-b,e)}}function O_(a){var e=a.state,t=a.options,n=t.element,r=n===void 0?"[data-popper-arrow]":n;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||bl(e.elements.popper,r)&&(e.elements.arrow=r))}var Sl={name:"arrow",enabled:!0,phase:"main",fn:C_,effect:O_,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function _l(a,e,t){return t===void 0&&(t={x:0,y:0}),{top:a.top-e.height-t.y,right:a.right-e.width+t.x,bottom:a.bottom-e.height+t.y,left:a.left-e.width-t.x}}function pl(a){return[me,Ce,Se,fe].some(function(e){return a[e]>=0})}function F_(a){var e=a.state,t=a.name,n=e.rects.reference,r=e.rects.popper,i=e.modifiersData.preventOverflow,o=vt(e,{elementContext:"reference"}),d=vt(e,{altBoundary:!0}),l=_l(o,n),c=_l(d,r,i),u=pl(l),p=pl(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":p})}var Cl={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:F_},L_=[ma,fa,ha,ba],D_=ga({defaultModifiers:L_}),Ol=[ma,fa,ha,ba,kl,El,Al,Sl,Cl],T_=ga({defaultModifiers:Ol});ce.applyStyles=ba;ce.arrow=Sl;ce.computeStyles=ha;ce.createPopper=T_;ce.createPopperLite=D_;ce.defaultModifiers=Ol;ce.detectOverflow=vt;ce.eventListeners=ma;ce.flip=El;ce.hide=Cl;ce.offset=kl;ce.popperGenerator=ga;ce.popperOffsets=fa;ce.preventOverflow=Al});var Sa=O(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});var Rl=Fl(),I_='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',q_="tippy-box",Ul="tippy-content",jl="tippy-backdrop",zl="tippy-arrow",Hl="tippy-svg-arrow",Xe={passive:!0,capture:!0},Vl=function(){return document.body};function va(a,e,t){if(Array.isArray(a)){var n=a[e];return n??(Array.isArray(t)?t[e]:t)}return a}function Ea(a,e){var t={}.toString.call(a);return t.indexOf("[object")===0&&t.indexOf(e+"]")>-1}function Gl(a,e){return typeof a=="function"?a.apply(void 0,e):a}function Ll(a,e){if(e===0)return a;var t;return function(n){clearTimeout(t),t=setTimeout(function(){a(n)},e)}}function Wl(a,e){var t=Object.assign({},a);return e.forEach(function(n){delete t[n]}),t}function B_(a){return a.split(/\s+/).filter(Boolean)}function Ze(a){return[].concat(a)}function Dl(a,e){a.indexOf(e)===-1&&a.push(e)}function N_(a){return a.filter(function(e,t){return a.indexOf(e)===t})}function Yl(a){return a.split("-")[0]}function yt(a){return[].slice.call(a)}function Tl(a){return Object.keys(a).reduce(function(e,t){return a[t]!==void 0&&(e[t]=a[t]),e},{})}function at(){return document.createElement("div")}function Di(a){return["Element","Fragment"].some(function(e){return Ea(a,e)})}function M_(a){return Ea(a,"NodeList")}function Aa(a){return Ea(a,"MouseEvent")}function Jl(a){return!!(a&&a._tippy&&a._tippy.reference===a)}function P_(a){return Di(a)?[a]:M_(a)?yt(a):Array.isArray(a)?a:yt(document.querySelectorAll(a))}function ya(a,e){a.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function Tt(a,e){a.forEach(function(t){t&&t.setAttribute("data-state",e)})}function Xl(a){var e,t=Ze(a),n=t[0];return n!=null&&(e=n.ownerDocument)!=null&&e.body?n.ownerDocument:document}function R_(a,e){var t=e.clientX,n=e.clientY;return a.every(function(r){var i=r.popperRect,o=r.popperState,d=r.props,l=d.interactiveBorder,c=Yl(o.placement),u=o.modifiersData.offset;if(!u)return!0;var p=c==="bottom"?u.top.y:0,g=c==="top"?u.bottom.y:0,m=c==="right"?u.left.x:0,v=c==="left"?u.right.x:0,w=i.top-n+p>l,k=n-i.bottom-g>l,x=i.left-t+m>l,h=t-i.right-v>l;return w||k||x||h})}function wa(a,e,t){var n=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){a[n](r,t)})}function Il(a,e){for(var t=e;t;){var n;if(a.contains(t))return!0;t=t.getRootNode==null||(n=t.getRootNode())==null?void 0:n.host}return!1}var Me={isTouch:!1},ql=0;function U_(){Me.isTouch||(Me.isTouch=!0,window.performance&&document.addEventListener("mousemove",Zl))}function Zl(){var a=performance.now();a-ql<20&&(Me.isTouch=!1,document.removeEventListener("mousemove",Zl)),ql=a}function j_(){var a=document.activeElement;if(Jl(a)){var e=a._tippy;a.blur&&!e.state.isVisible&&a.blur()}}function z_(){document.addEventListener("touchstart",U_,Xe),window.addEventListener("blur",j_)}var H_=typeof window<"u"&&typeof document<"u",V_=H_?!!window.msCrypto:!1,G_={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},W_={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ve=Object.assign({appendTo:Vl,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},G_,W_),Y_=Object.keys(ve),J_=function(e){var t=Object.keys(e);t.forEach(function(n){ve[n]=e[n]})};function Ql(a){var e=a.plugins||[],t=e.reduce(function(n,r){var i=r.name,o=r.defaultValue;if(i){var d;n[i]=a[i]!==void 0?a[i]:(d=ve[i])!=null?d:o}return n},{});return Object.assign({},a,t)}function X_(a,e){var t=e?Object.keys(Ql(Object.assign({},ve,{plugins:e}))):Y_,n=t.reduce(function(r,i){var o=(a.getAttribute("data-tippy-"+i)||"").trim();if(!o)return r;if(i==="content")r[i]=o;else try{r[i]=JSON.parse(o)}catch{r[i]=o}return r},{});return n}function Bl(a,e){var t=Object.assign({},e,{content:Gl(e.content,[a])},e.ignoreAttributes?{}:X_(a,e.plugins));return t.aria=Object.assign({},ve.aria,t.aria),t.aria={expanded:t.aria.expanded==="auto"?e.interactive:t.aria.expanded,content:t.aria.content==="auto"?e.interactive?null:"describedby":t.aria.content},t}var Z_=function(){return"innerHTML"};function xa(a,e){a[Z_()]=e}function Nl(a){var e=at();return a===!0?e.className=zl:(e.className=Hl,Di(a)?e.appendChild(a):xa(e,a)),e}function Ml(a,e){Di(e.content)?(xa(a,""),a.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?xa(a,e.content):a.textContent=e.content)}function Li(a){var e=a.firstElementChild,t=yt(e.children);return{box:e,content:t.find(function(n){return n.classList.contains(Ul)}),arrow:t.find(function(n){return n.classList.contains(zl)||n.classList.contains(Hl)}),backdrop:t.find(function(n){return n.classList.contains(jl)})}}function Kl(a){var e=at(),t=at();t.className=q_,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var n=at();n.className=Ul,n.setAttribute("data-state","hidden"),Ml(n,a.props),e.appendChild(t),t.appendChild(n),r(a.props,a.props);function r(i,o){var d=Li(e),l=d.box,c=d.content,u=d.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(i.content!==o.content||i.allowHTML!==o.allowHTML)&&Ml(c,a.props),o.arrow?u?i.arrow!==o.arrow&&(l.removeChild(u),l.appendChild(Nl(o.arrow))):l.appendChild(Nl(o.arrow)):u&&l.removeChild(u)}return{popper:e,onUpdate:r}}Kl.$$tippy=!0;var Q_=1,Ci=[],Fi=[];function K_(a,e){var t=Bl(a,Object.assign({},ve,Ql(Tl(e)))),n,r,i,o=!1,d=!1,l=!1,c=!1,u,p,g,m=[],v=Ll(he,t.interactiveDebounce),w,k=Q_++,x=null,h=N_(t.plugins),y={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},_={id:k,reference:a,popper:at(),popperInstance:x,props:t,state:y,plugins:h,clearDelayTimeouts:Mt,setProps:Pt,setContent:Rt,show:Cs,hide:Os,hideWithInteractivity:Fs,enable:Et,disable:Nt,unmount:Ls,destroy:Ds};if(!t.render)return _;var f=t.render(_),b=f.popper,A=f.onUpdate;b.setAttribute("data-tippy-root",""),b.id="tippy-"+_.id,_.popper=b,a._tippy=_,b._tippy=_;var F=h.map(function(E){return E.fn(_)}),L=a.hasAttribute("aria-expanded");return le(),ye(),ae(),ie("onCreate",[_]),t.showOnCreate&&kt(),b.addEventListener("mouseenter",function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()}),b.addEventListener("mouseleave",function(){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&W().addEventListener("mousemove",v)}),_;function P(){var E=_.props.touch;return Array.isArray(E)?E:[E,0]}function N(){return P()[0]==="hold"}function B(){var E;return!!((E=_.props.render)!=null&&E.$$tippy)}function R(){return w||a}function W(){var E=R().parentNode;return E?Xl(E):document}function J(){return Li(b)}function re(E){return _.state.isMounted&&!_.state.isVisible||Me.isTouch||u&&u.type==="focus"?0:va(_.props.delay,E?0:1,ve.delay)}function ae(E){E===void 0&&(E=!1),b.style.pointerEvents=_.props.interactive&&!E?"":"none",b.style.zIndex=""+_.props.zIndex}function ie(E,T,M){if(M===void 0&&(M=!0),F.forEach(function(z){z[E]&&z[E].apply(z,T)}),M){var G;(G=_.props)[E].apply(G,T)}}function _e(){var E=_.props.aria;if(E.content){var T="aria-"+E.content,M=b.id,G=Ze(_.props.triggerTarget||a);G.forEach(function(z){var ue=z.getAttribute(T);if(_.state.isVisible)z.setAttribute(T,ue?ue+" "+M:M);else{var ke=ue&&ue.replace(M,"").trim();ke?z.setAttribute(T,ke):z.removeAttribute(T)}})}}function ye(){if(!(L||!_.props.aria.expanded)){var E=Ze(_.props.triggerTarget||a);E.forEach(function(T){_.props.interactive?T.setAttribute("aria-expanded",_.state.isVisible&&T===R()?"true":"false"):T.removeAttribute("aria-expanded")})}}function Oe(){W().removeEventListener("mousemove",v),Ci=Ci.filter(function(E){return E!==v})}function pe(E){if(!(Me.isTouch&&(l||E.type==="mousedown"))){var T=E.composedPath&&E.composedPath()[0]||E.target;if(!(_.props.interactive&&Il(b,T))){if(Ze(_.props.triggerTarget||a).some(function(M){return Il(M,T)})){if(Me.isTouch||_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else ie("onClickOutside",[_,E]);_.props.hideOnClick===!0&&(_.clearDelayTimeouts(),_.hide(),d=!0,setTimeout(function(){d=!1}),_.state.isMounted||I())}}}function je(){l=!0}function we(){l=!1}function C(){var E=W();E.addEventListener("mousedown",pe,!0),E.addEventListener("touchend",pe,Xe),E.addEventListener("touchstart",we,Xe),E.addEventListener("touchmove",je,Xe)}function I(){var E=W();E.removeEventListener("mousedown",pe,!0),E.removeEventListener("touchend",pe,Xe),E.removeEventListener("touchstart",we,Xe),E.removeEventListener("touchmove",je,Xe)}function U(E,T){Y(E,function(){!_.state.isVisible&&b.parentNode&&b.parentNode.contains(b)&&T()})}function j(E,T){Y(E,T)}function Y(E,T){var M=J().box;function G(z){z.target===M&&(wa(M,"remove",G),T())}if(E===0)return T();wa(M,"remove",p),wa(M,"add",G),p=G}function X(E,T,M){M===void 0&&(M=!1);var G=Ze(_.props.triggerTarget||a);G.forEach(function(z){z.addEventListener(E,T,M),m.push({node:z,eventType:E,handler:T,options:M})})}function le(){N()&&(X("touchstart",se,{passive:!0}),X("touchend",H,{passive:!0})),B_(_.props.trigger).forEach(function(E){if(E!=="manual")switch(X(E,se),E){case"mouseenter":X("mouseleave",H);break;case"focus":X(V_?"focusout":"blur",oe);break;case"focusin":X("focusout",oe);break}})}function de(){m.forEach(function(E){var T=E.node,M=E.eventType,G=E.handler,z=E.options;T.removeEventListener(M,G,z)}),m=[]}function se(E){var T,M=!1;if(!(!_.state.isEnabled||te(E)||d)){var G=((T=u)==null?void 0:T.type)==="focus";u=E,w=E.currentTarget,ye(),!_.state.isVisible&&Aa(E)&&Ci.forEach(function(z){return z(E)}),E.type==="click"&&(_.props.trigger.indexOf("mouseenter")<0||o)&&_.props.hideOnClick!==!1&&_.state.isVisible?M=!0:kt(E),E.type==="click"&&(o=!M),M&&!G&&$e(E)}}function he(E){var T=E.target,M=R().contains(T)||b.contains(T);if(!(E.type==="mousemove"&&M)){var G=He().concat(b).map(function(z){var ue,ke=z._tippy,lt=(ue=ke.popperInstance)==null?void 0:ue.state;return lt?{popperRect:z.getBoundingClientRect(),popperState:lt,props:t}:null}).filter(Boolean);R_(G,E)&&(Oe(),$e(E))}}function H(E){var T=te(E)||_.props.trigger.indexOf("click")>=0&&o;if(!T){if(_.props.interactive){_.hideWithInteractivity(E);return}$e(E)}}function oe(E){_.props.trigger.indexOf("focusin")<0&&E.target!==R()||_.props.interactive&&E.relatedTarget&&b.contains(E.relatedTarget)||$e(E)}function te(E){return Me.isTouch?N()!==E.type.indexOf("touch")>=0:!1}function be(){ze();var E=_.props,T=E.popperOptions,M=E.placement,G=E.offset,z=E.getReferenceClientRect,ue=E.moveTransition,ke=B()?Li(b).arrow:null,lt=z?{getBoundingClientRect:z,contextElement:z.contextElement||R()}:a,Na={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Ut){var st=Ut.state;if(B()){var Ts=J(),Pi=Ts.box;["placement","reference-hidden","escaped"].forEach(function(jt){jt==="placement"?Pi.setAttribute("data-placement",st.placement):st.attributes.popper["data-popper-"+jt]?Pi.setAttribute("data-"+jt,""):Pi.removeAttribute("data-"+jt)}),st.attributes.popper={}}}},et=[{name:"offset",options:{offset:G}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ue}},Na];B()&&ke&&et.push({name:"arrow",options:{element:ke,padding:3}}),et.push.apply(et,T?.modifiers||[]),_.popperInstance=Rl.createPopper(lt,b,Object.assign({},T,{placement:M,onFirstUpdate:g,modifiers:et}))}function ze(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function xe(){var E=_.props.appendTo,T,M=R();_.props.interactive&&E===Vl||E==="parent"?T=M.parentNode:T=Gl(E,[M]),T.contains(b)||T.appendChild(b),_.state.isMounted=!0,be()}function He(){return yt(b.querySelectorAll("[data-tippy-root]"))}function kt(E){_.clearDelayTimeouts(),E&&ie("onTrigger",[_,E]),C();var T=re(!0),M=P(),G=M[0],z=M[1];Me.isTouch&&G==="hold"&&z&&(T=z),T?n=setTimeout(function(){_.show()},T):_.show()}function $e(E){if(_.clearDelayTimeouts(),ie("onUntrigger",[_,E]),!_.state.isVisible){I();return}if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(E.type)>=0&&o)){var T=re(!1);T?r=setTimeout(function(){_.state.isVisible&&_.hide()},T):i=requestAnimationFrame(function(){_.hide()})}}function Et(){_.state.isEnabled=!0}function Nt(){_.hide(),_.state.isEnabled=!1}function Mt(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(i)}function Pt(E){if(!_.state.isDestroyed){ie("onBeforeUpdate",[_,E]),de();var T=_.props,M=Bl(a,Object.assign({},T,Tl(E),{ignoreAttributes:!0}));_.props=M,le(),T.interactiveDebounce!==M.interactiveDebounce&&(Oe(),v=Ll(he,M.interactiveDebounce)),T.triggerTarget&&!M.triggerTarget?Ze(T.triggerTarget).forEach(function(G){G.removeAttribute("aria-expanded")}):M.triggerTarget&&a.removeAttribute("aria-expanded"),ye(),ae(),A&&A(T,M),_.popperInstance&&(be(),He().forEach(function(G){requestAnimationFrame(G._tippy.popperInstance.forceUpdate)})),ie("onAfterUpdate",[_,E])}}function Rt(E){_.setProps({content:E})}function Cs(){var E=_.state.isVisible,T=_.state.isDestroyed,M=!_.state.isEnabled,G=Me.isTouch&&!_.props.touch,z=va(_.props.duration,0,ve.duration);if(!(E||T||M||G)&&!R().hasAttribute("disabled")&&(ie("onShow",[_],!1),_.props.onShow(_)!==!1)){if(_.state.isVisible=!0,B()&&(b.style.visibility="visible"),ae(),C(),_.state.isMounted||(b.style.transition="none"),B()){var ue=J(),ke=ue.box,lt=ue.content;ya([ke,lt],0)}g=function(){var et;if(!(!_.state.isVisible||c)){if(c=!0,b.offsetHeight,b.style.transition=_.props.moveTransition,B()&&_.props.animation){var Mi=J(),Ut=Mi.box,st=Mi.content;ya([Ut,st],z),Tt([Ut,st],"visible")}_e(),ye(),Dl(Fi,_),(et=_.popperInstance)==null||et.forceUpdate(),ie("onMount",[_]),_.props.animation&&B()&&j(z,function(){_.state.isShown=!0,ie("onShown",[_])})}},xe()}}function Os(){var E=!_.state.isVisible,T=_.state.isDestroyed,M=!_.state.isEnabled,G=va(_.props.duration,1,ve.duration);if(!(E||T||M)&&(ie("onHide",[_],!1),_.props.onHide(_)!==!1)){if(_.state.isVisible=!1,_.state.isShown=!1,c=!1,o=!1,B()&&(b.style.visibility="hidden"),Oe(),I(),ae(!0),B()){var z=J(),ue=z.box,ke=z.content;_.props.animation&&(ya([ue,ke],G),Tt([ue,ke],"hidden"))}_e(),ye(),_.props.animation?B()&&U(G,_.unmount):_.unmount()}}function Fs(E){W().addEventListener("mousemove",v),Dl(Ci,v),v(E)}function Ls(){_.state.isVisible&&_.hide(),_.state.isMounted&&(ze(),He().forEach(function(E){E._tippy.unmount()}),b.parentNode&&b.parentNode.removeChild(b),Fi=Fi.filter(function(E){return E!==_}),_.state.isMounted=!1,ie("onHidden",[_]))}function Ds(){_.state.isDestroyed||(_.clearDelayTimeouts(),_.unmount(),de(),delete a._tippy,_.state.isDestroyed=!0,ie("onDestroy",[_]))}}function Qe(a,e){e===void 0&&(e={});var t=ve.plugins.concat(e.plugins||[]);z_();var n=Object.assign({},e,{plugins:t}),r=P_(a);if(0)var i,o;var d=r.reduce(function(l,c){var u=c&&K_(c,n);return u&&l.push(u),l},[]);return Di(a)?d[0]:d}Qe.defaultProps=ve;Qe.setDefaultProps=J_;Qe.currentInput=Me;var $_=function(e){var t=e===void 0?{}:e,n=t.exclude,r=t.duration;Fi.forEach(function(i){var o=!1;if(n&&(o=Jl(n)?i.reference===n:i.popper===n.popper),!o){var d=i.props.duration;i.setProps({duration:r}),i.hide(),i.state.isDestroyed||i.setProps({duration:d})}})},ep=Object.assign({},Rl.applyStyles,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}}),tp=function(e,t){var n;t===void 0&&(t={});var r=e,i=[],o=[],d,l=t.overrides,c=[],u=!1;function p(){o=r.map(function(_){return Ze(_.props.triggerTarget||_.reference)}).reduce(function(_,f){return _.concat(f)},[])}function g(){i=r.map(function(_){return _.reference})}function m(_){r.forEach(function(f){_?f.enable():f.disable()})}function v(_){return r.map(function(f){var b=f.setProps;return f.setProps=function(A){b(A),f.reference===d&&_.setProps(A)},function(){f.setProps=b}})}function w(_,f){var b=o.indexOf(f);if(f!==d){d=f;var A=(l||[]).concat("content").reduce(function(F,L){return F[L]=r[b].props[L],F},{});_.setProps(Object.assign({},A,{getReferenceClientRect:typeof A.getReferenceClientRect=="function"?A.getReferenceClientRect:function(){var F;return(F=i[b])==null?void 0:F.getBoundingClientRect()}}))}}m(!1),g(),p();var k={fn:function(){return{onDestroy:function(){m(!0)},onHidden:function(){d=null},onClickOutside:function(b){b.props.showOnCreate&&!u&&(u=!0,d=null)},onShow:function(b){b.props.showOnCreate&&!u&&(u=!0,w(b,i[0]))},onTrigger:function(b,A){w(b,A.currentTarget)}}}},x=Qe(at(),Object.assign({},Wl(t,["overrides"]),{plugins:[k].concat(t.plugins||[]),triggerTarget:o,popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat(((n=t.popperOptions)==null?void 0:n.modifiers)||[],[ep])})})),h=x.show;x.show=function(_){if(h(),!d&&_==null)return w(x,i[0]);if(!(d&&_==null)){if(typeof _=="number")return i[_]&&w(x,i[_]);if(r.indexOf(_)>=0){var f=_.reference;return w(x,f)}if(i.indexOf(_)>=0)return w(x,_)}},x.showNext=function(){var _=i[0];if(!d)return x.show(0);var f=i.indexOf(d);x.show(i[f+1]||_)},x.showPrevious=function(){var _=i[i.length-1];if(!d)return x.show(_);var f=i.indexOf(d),b=i[f-1]||_;x.show(b)};var y=x.setProps;return x.setProps=function(_){l=_.overrides||l,y(_)},x.setInstances=function(_){m(!0),c.forEach(function(f){return f()}),r=_,m(!1),g(),p(),c=v(x),x.setProps({triggerTarget:o})},c=v(x),x},np={mouseover:"mouseenter",focusin:"focus",click:"click"};function rp(a,e){var t=[],n=[],r=!1,i=e.target,o=Wl(e,["target"]),d=Object.assign({},o,{trigger:"manual",touch:!1}),l=Object.assign({touch:ve.touch},o,{showOnCreate:!0}),c=Qe(a,d),u=Ze(c);function p(k){if(!(!k.target||r)){var x=k.target.closest(i);if(x){var h=x.getAttribute("data-tippy-trigger")||e.trigger||ve.trigger;if(!x._tippy&&!(k.type==="touchstart"&&typeof l.touch=="boolean")&&!(k.type!=="touchstart"&&h.indexOf(np[k.type])<0)){var y=Qe(x,l);y&&(n=n.concat(y))}}}}function g(k,x,h,y){y===void 0&&(y=!1),k.addEventListener(x,h,y),t.push({node:k,eventType:x,handler:h,options:y})}function m(k){var x=k.reference;g(x,"touchstart",p,Xe),g(x,"mouseover",p),g(x,"focusin",p),g(x,"click",p)}function v(){t.forEach(function(k){var x=k.node,h=k.eventType,y=k.handler,_=k.options;x.removeEventListener(h,y,_)}),t=[]}function w(k){var x=k.destroy,h=k.enable,y=k.disable;k.destroy=function(_){_===void 0&&(_=!0),_&&n.forEach(function(f){f.destroy()}),n=[],v(),x()},k.enable=function(){h(),n.forEach(function(_){return _.enable()}),r=!1},k.disable=function(){y(),n.forEach(function(_){return _.disable()}),r=!0},m(k)}return u.forEach(w),c}var ip={name:"animateFill",defaultValue:!1,fn:function(e){var t;if(!((t=e.props.render)!=null&&t.$$tippy))return{};var n=Li(e.popper),r=n.box,i=n.content,o=e.props.animateFill?op():null;return{onCreate:function(){o&&(r.insertBefore(o,r.firstElementChild),r.setAttribute("data-animatefill",""),r.style.overflow="hidden",e.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(o){var l=r.style.transitionDuration,c=Number(l.replace("ms",""));i.style.transitionDelay=Math.round(c/10)+"ms",o.style.transitionDuration=l,Tt([o],"visible")}},onShow:function(){o&&(o.style.transitionDuration="0ms")},onHide:function(){o&&Tt([o],"hidden")}}}};function op(){var a=at();return a.className=jl,Tt([a],"hidden"),a}var ka={clientX:0,clientY:0},Oi=[];function $l(a){var e=a.clientX,t=a.clientY;ka={clientX:e,clientY:t}}function ap(a){a.addEventListener("mousemove",$l)}function dp(a){a.removeEventListener("mousemove",$l)}var lp={name:"followCursor",defaultValue:!1,fn:function(e){var t=e.reference,n=Xl(e.props.triggerTarget||t),r=!1,i=!1,o=!0,d=e.props;function l(){return e.props.followCursor==="initial"&&e.state.isVisible}function c(){n.addEventListener("mousemove",g)}function u(){n.removeEventListener("mousemove",g)}function p(){r=!0,e.setProps({getReferenceClientRect:null}),r=!1}function g(w){var k=w.target?t.contains(w.target):!0,x=e.props.followCursor,h=w.clientX,y=w.clientY,_=t.getBoundingClientRect(),f=h-_.left,b=y-_.top;(k||!e.props.interactive)&&e.setProps({getReferenceClientRect:function(){var F=t.getBoundingClientRect(),L=h,P=y;x==="initial"&&(L=F.left+f,P=F.top+b);var N=x==="horizontal"?F.top:P,B=x==="vertical"?F.right:L,R=x==="horizontal"?F.bottom:P,W=x==="vertical"?F.left:L;return{width:B-W,height:R-N,top:N,right:B,bottom:R,left:W}}})}function m(){e.props.followCursor&&(Oi.push({instance:e,doc:n}),ap(n))}function v(){Oi=Oi.filter(function(w){return w.instance!==e}),Oi.filter(function(w){return w.doc===n}).length===0&&dp(n)}return{onCreate:m,onDestroy:v,onBeforeUpdate:function(){d=e.props},onAfterUpdate:function(k,x){var h=x.followCursor;r||h!==void 0&&d.followCursor!==h&&(v(),h?(m(),e.state.isMounted&&!i&&!l()&&c()):(u(),p()))},onMount:function(){e.props.followCursor&&!i&&(o&&(g(ka),o=!1),l()||c())},onTrigger:function(k,x){Aa(x)&&(ka={clientX:x.clientX,clientY:x.clientY}),i=x.type==="focus"},onHidden:function(){e.props.followCursor&&(p(),u(),o=!0)}}}};function sp(a,e){var t;return{popperOptions:Object.assign({},a.popperOptions,{modifiers:[].concat((((t=a.popperOptions)==null?void 0:t.modifiers)||[]).filter(function(n){var r=n.name;return r!==e.name}),[e])})}}var cp={name:"inlinePositioning",defaultValue:!1,fn:function(e){var t=e.reference;function n(){return!!e.props.inlinePositioning}var r,i=-1,o=!1,d=[],l={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(m){var v=m.state;n()&&(d.indexOf(v.placement)!==-1&&(d=[]),r!==v.placement&&d.indexOf(v.placement)===-1&&(d.push(v.placement),e.setProps({getReferenceClientRect:function(){return c(v.placement)}})),r=v.placement)}};function c(g){return up(Yl(g),t.getBoundingClientRect(),yt(t.getClientRects()),i)}function u(g){o=!0,e.setProps(g),o=!1}function p(){o||u(sp(e.props,l))}return{onCreate:p,onAfterUpdate:p,onTrigger:function(m,v){if(Aa(v)){var w=yt(e.reference.getClientRects()),k=w.find(function(h){return h.left-2<=v.clientX&&h.right+2>=v.clientX&&h.top-2<=v.clientY&&h.bottom+2>=v.clientY}),x=w.indexOf(k);i=x>-1?x:i}},onHidden:function(){i=-1}}}};function up(a,e,t,n){if(t.length<2||a===null)return e;if(t.length===2&&n>=0&&t[0].left>t[1].right)return t[n]||e;switch(a){case"top":case"bottom":{var r=t[0],i=t[t.length-1],o=a==="top",d=r.top,l=i.bottom,c=o?r.left:i.left,u=o?r.right:i.right,p=u-c,g=l-d;return{top:d,bottom:l,left:c,right:u,width:p,height:g}}case"left":case"right":{var m=Math.min.apply(Math,t.map(function(b){return b.left})),v=Math.max.apply(Math,t.map(function(b){return b.right})),w=t.filter(function(b){return a==="left"?b.left===m:b.right===v}),k=w[0].top,x=w[w.length-1].bottom,h=m,y=v,_=y-h,f=x-k;return{top:k,bottom:x,left:h,right:y,width:_,height:f}}default:return e}}var _p={name:"sticky",defaultValue:!1,fn:function(e){var t=e.reference,n=e.popper;function r(){return e.popperInstance?e.popperInstance.state.elements.reference:t}function i(c){return e.props.sticky===!0||e.props.sticky===c}var o=null,d=null;function l(){var c=i("reference")?r().getBoundingClientRect():null,u=i("popper")?n.getBoundingClientRect():null;(c&&Pl(o,c)||u&&Pl(d,u))&&e.popperInstance&&e.popperInstance.update(),o=c,d=u,e.state.isMounted&&requestAnimationFrame(l)}return{onMount:function(){e.props.sticky&&l()}}}};function Pl(a,e){return a&&e?a.top!==e.top||a.right!==e.right||a.bottom!==e.bottom||a.left!==e.left:!0}Qe.setDefaultProps({render:Kl});Le.animateFill=ip;Le.createSingleton=tp;Le.default=Qe;Le.delegate=rp;Le.followCursor=lp;Le.hideAll=$_;Le.inlinePositioning=cp;Le.roundArrow=I_;Le.sticky=_p});var ts=O((es,Oa)=>{(function(a,e,t){function n(d){var l=this,c=o();l.next=function(){var u=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=u-(l.c=u|0)},l.c=1,l.s0=c(" "),l.s1=c(" "),l.s2=c(" "),l.s0-=c(d),l.s0<0&&(l.s0+=1),l.s1-=c(d),l.s1<0&&(l.s1+=1),l.s2-=c(d),l.s2<0&&(l.s2+=1),c=null}function r(d,l){return l.c=d.c,l.s0=d.s0,l.s1=d.s1,l.s2=d.s2,l}function i(d,l){var c=new n(d),u=l&&l.state,p=c.next;return p.int32=function(){return c.next()*4294967296|0},p.double=function(){return p()+(p()*2097152|0)*11102230246251565e-32},p.quick=p,u&&(typeof u=="object"&&r(u,c),p.state=function(){return r(c,{})}),p}function o(){var d=4022871197,l=function(c){c=c.toString();for(var u=0;u<c.length;u++){d+=c.charCodeAt(u);var p=.02519603282416938*d;d=p>>>0,p-=d,p*=d,d=p>>>0,p-=d,d+=p*4294967296}return(d>>>0)*23283064365386963e-26};return l}e&&e.exports?e.exports=i:t&&t.amd?t(function(){return i}):this.alea=i})(es,typeof Oa=="object"&&Oa,typeof define=="function"&&define)});var rs=O((ns,Fa)=>{(function(a,e,t){function n(o){var d=this,l="";d.x=0,d.y=0,d.z=0,d.w=0,d.next=function(){var u=d.x^d.x<<11;return d.x=d.y,d.y=d.z,d.z=d.w,d.w^=d.w>>>19^u^u>>>8},o===(o|0)?d.x=o:l+=o;for(var c=0;c<l.length+64;c++)d.x^=l.charCodeAt(c)|0,d.next()}function r(o,d){return d.x=o.x,d.y=o.y,d.z=o.z,d.w=o.w,d}function i(o,d){var l=new n(o),c=d&&d.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var p=l.next()>>>11,g=(l.next()>>>0)/4294967296,m=(p+g)/(1<<21);while(m===0);return m},u.int32=l.next,u.quick=u,c&&(typeof c=="object"&&r(c,l),u.state=function(){return r(l,{})}),u}e&&e.exports?e.exports=i:t&&t.amd?t(function(){return i}):this.xor128=i})(ns,typeof Fa=="object"&&Fa,typeof define=="function"&&define)});var os=O((is,La)=>{(function(a,e,t){function n(o){var d=this,l="";d.next=function(){var u=d.x^d.x>>>2;return d.x=d.y,d.y=d.z,d.z=d.w,d.w=d.v,(d.d=d.d+362437|0)+(d.v=d.v^d.v<<4^(u^u<<1))|0},d.x=0,d.y=0,d.z=0,d.w=0,d.v=0,o===(o|0)?d.x=o:l+=o;for(var c=0;c<l.length+64;c++)d.x^=l.charCodeAt(c)|0,c==l.length&&(d.d=d.x<<10^d.x>>>4),d.next()}function r(o,d){return d.x=o.x,d.y=o.y,d.z=o.z,d.w=o.w,d.v=o.v,d.d=o.d,d}function i(o,d){var l=new n(o),c=d&&d.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var p=l.next()>>>11,g=(l.next()>>>0)/4294967296,m=(p+g)/(1<<21);while(m===0);return m},u.int32=l.next,u.quick=u,c&&(typeof c=="object"&&r(c,l),u.state=function(){return r(l,{})}),u}e&&e.exports?e.exports=i:t&&t.amd?t(function(){return i}):this.xorwow=i})(is,typeof La=="object"&&La,typeof define=="function"&&define)});var ds=O((as,Da)=>{(function(a,e,t){function n(o){var d=this;d.next=function(){var c=d.x,u=d.i,p,g,m;return p=c[u],p^=p>>>7,g=p^p<<24,p=c[u+1&7],g^=p^p>>>10,p=c[u+3&7],g^=p^p>>>3,p=c[u+4&7],g^=p^p<<7,p=c[u+7&7],p=p^p<<13,g^=p^p<<9,c[u]=g,d.i=u+1&7,g};function l(c,u){var p,g,m=[];if(u===(u|0))g=m[0]=u;else for(u=""+u,p=0;p<u.length;++p)m[p&7]=m[p&7]<<15^u.charCodeAt(p)+m[p+1&7]<<13;for(;m.length<8;)m.push(0);for(p=0;p<8&&m[p]===0;++p);for(p==8?g=m[7]=-1:g=m[p],c.x=m,c.i=0,p=256;p>0;--p)c.next()}l(d,o)}function r(o,d){return d.x=o.x.slice(),d.i=o.i,d}function i(o,d){o==null&&(o=+new Date);var l=new n(o),c=d&&d.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var p=l.next()>>>11,g=(l.next()>>>0)/4294967296,m=(p+g)/(1<<21);while(m===0);return m},u.int32=l.next,u.quick=u,c&&(c.x&&r(c,l),u.state=function(){return r(l,{})}),u}e&&e.exports?e.exports=i:t&&t.amd?t(function(){return i}):this.xorshift7=i})(as,typeof Da=="object"&&Da,typeof define=="function"&&define)});var ss=O((ls,Ta)=>{(function(a,e,t){function n(o){var d=this;d.next=function(){var c=d.w,u=d.X,p=d.i,g,m;return d.w=c=c+1640531527|0,m=u[p+34&127],g=u[p=p+1&127],m^=m<<13,g^=g<<17,m^=m>>>15,g^=g>>>12,m=u[p]=m^g,d.i=p,m+(c^c>>>16)|0};function l(c,u){var p,g,m,v,w,k=[],x=128;for(u===(u|0)?(g=u,u=null):(u=u+"\0",g=0,x=Math.max(x,u.length)),m=0,v=-32;v<x;++v)u&&(g^=u.charCodeAt((v+32)%u.length)),v===0&&(w=g),g^=g<<10,g^=g>>>15,g^=g<<4,g^=g>>>13,v>=0&&(w=w+1640531527|0,p=k[v&127]^=g+w,m=p==0?m+1:0);for(m>=128&&(k[(u&&u.length||0)&127]=-1),m=127,v=4*128;v>0;--v)g=k[m+34&127],p=k[m=m+1&127],g^=g<<13,p^=p<<17,g^=g>>>15,p^=p>>>12,k[m]=g^p;c.w=w,c.X=k,c.i=m}l(d,o)}function r(o,d){return d.i=o.i,d.w=o.w,d.X=o.X.slice(),d}function i(o,d){o==null&&(o=+new Date);var l=new n(o),c=d&&d.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var p=l.next()>>>11,g=(l.next()>>>0)/4294967296,m=(p+g)/(1<<21);while(m===0);return m},u.int32=l.next,u.quick=u,c&&(c.X&&r(c,l),u.state=function(){return r(l,{})}),u}e&&e.exports?e.exports=i:t&&t.amd?t(function(){return i}):this.xor4096=i})(ls,typeof Ta=="object"&&Ta,typeof define=="function"&&define)});var us=O((cs,Ia)=>{(function(a,e,t){function n(o){var d=this,l="";d.next=function(){var u=d.b,p=d.c,g=d.d,m=d.a;return u=u<<25^u>>>7^p,p=p-g|0,g=g<<24^g>>>8^m,m=m-u|0,d.b=u=u<<20^u>>>12^p,d.c=p=p-g|0,d.d=g<<16^p>>>16^m,d.a=m-u|0},d.a=0,d.b=0,d.c=-1640531527,d.d=1367130551,o===Math.floor(o)?(d.a=o/4294967296|0,d.b=o|0):l+=o;for(var c=0;c<l.length+20;c++)d.b^=l.charCodeAt(c)|0,d.next()}function r(o,d){return d.a=o.a,d.b=o.b,d.c=o.c,d.d=o.d,d}function i(o,d){var l=new n(o),c=d&&d.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var p=l.next()>>>11,g=(l.next()>>>0)/4294967296,m=(p+g)/(1<<21);while(m===0);return m},u.int32=l.next,u.quick=u,c&&(typeof c=="object"&&r(c,l),u.state=function(){return r(l,{})}),u}e&&e.exports?e.exports=i:t&&t.amd?t(function(){return i}):this.tychei=i})(cs,typeof Ia=="object"&&Ia,typeof define=="function"&&define)});var _s=O(()=>{});var ps=O((Vf,Ti)=>{(function(a,e){var t=(0,eval)("this"),n=256,r=6,i=52,o="random",d=e.pow(n,r),l=e.pow(2,i),c=l*2,u=n-1,p;function g(y,_,f){var b=[];_=_==!0?{entropy:!0}:_||{};var A=k(w(_.entropy?[y,h(a)]:y??x(),3),b),F=new m(b),L=function(){for(var P=F.g(r),N=d,B=0;P<l;)P=(P+B)*n,N*=n,B=F.g(1);for(;P>=c;)P/=2,N/=2,B>>>=1;return(P+B)/N};return L.int32=function(){return F.g(4)|0},L.quick=function(){return F.g(4)/4294967296},L.double=L,k(h(F.S),a),(_.pass||f||function(P,N,B,R){return R&&(R.S&&v(R,F),P.state=function(){return v(F,{})}),B?(e[o]=P,N):P})(L,A,"global"in _?_.global:this==e,_.state)}e["seed"+o]=g;function m(y){var _,f=y.length,b=this,A=0,F=b.i=b.j=0,L=b.S=[];for(f||(y=[f++]);A<n;)L[A]=A++;for(A=0;A<n;A++)L[A]=L[F=u&F+y[A%f]+(_=L[A])],L[F]=_;(b.g=function(P){for(var N,B=0,R=b.i,W=b.j,J=b.S;P--;)N=J[R=u&R+1],B=B*n+J[u&(J[R]=J[W=u&W+N])+(J[W]=N)];return b.i=R,b.j=W,B})(n)}function v(y,_){return _.i=y.i,_.j=y.j,_.S=y.S.slice(),_}function w(y,_){var f=[],b=typeof y,A;if(_&&b=="object")for(A in y)try{f.push(w(y[A],_-1))}catch{}return f.length?f:b=="string"?y:y+"\0"}function k(y,_){for(var f=y+"",b,A=0;A<f.length;)_[u&A]=u&(b^=_[u&A]*19)+f.charCodeAt(A++);return h(_)}function x(){try{var y;return p&&(y=p.randomBytes)?y=y(n):(y=new Uint8Array(n),(t.crypto||t.msCrypto).getRandomValues(y)),h(y)}catch{var _=t.navigator,f=_&&_.plugins;return[+new Date,t,f,t.screen,h(a)]}}function h(y){return String.fromCharCode.apply(0,y)}if(k(e.random(),a),typeof Ti=="object"&&Ti.exports){Ti.exports=g;try{p=_s()}catch{}}else typeof define=="function"&&define.amd&&define(function(){return g})})([],Math)});var ms=O((Gf,gs)=>{var vp=ts(),yp=rs(),wp=os(),xp=ds(),kp=ss(),Ep=us(),dt=ps();dt.alea=vp;dt.xor128=yp;dt.xorwow=wp;dt.xorshift7=xp;dt.xor4096=kp;dt.tychei=Ep;gs.exports=dt});var hs=O((qa,fs)=>{(function(){var a={};Math.seedrandom&&(seedrandom=Math.seedrandom);var e=function(i){return Object.prototype.toString.call(i)==="[object Array]"},t=function(i){for(var o=1;o<arguments.length;o++)for(var d in arguments[o])i[d]=arguments[o][d];return i},n=function(i){return/(number|string)/i.test(Object.prototype.toString.call(i).match(/^\[object (.*)\]$/)[1])?i:isNaN(i)?Number(String(this.strSeed=i).split("").map(function(o){return o.charCodeAt(0)}).join("")):i},r=function(i,o,d){return Math.floor(i()*(d-o+1))+o};a.shuffle=function(i,o){if(!e(i))return null;o=n(o)||"none";for(var d=i.length,l=seedrandom(o),c=[],u=[],p=0;p<d;p++)u.push(p);for(var p=0;p<d;p++){var g=r(l,0,u.length-1),m=u[g];u.splice(g,1),c.push(i[m])}return c},a.unshuffle=function(i,o){if(!e(i))return null;o=n(o)||"none";for(var d=i.length,l=seedrandom(o),c=[],u=[],p=[],g=0;g<d;g++)c.push(null),p.push(g);for(var g=0;g<d;g++){var m=r(l,0,p.length-1),v=p[m];p.splice(m,1),c[v]=i[g]}return c},typeof qa<"u"?fs.exports=a:this.shuffleSeed=a}).call(qa)});var vs=O((Yf,bs)=>{var Wf=ms(),Ap=hs();bs.exports=Ap});var Es=O((ks,Ba)=>{(function(){"use strict";function a(){var e=window,t=document;if("scrollBehavior"in t.documentElement.style&&e.__forceSmoothScrollPolyfill__!==!0)return;var n=e.HTMLElement||e.Element,r=468,i={scroll:e.scroll||e.scrollTo,scrollBy:e.scrollBy,elementScroll:n.prototype.scroll||c,scrollIntoView:n.prototype.scrollIntoView},o=e.performance&&e.performance.now?e.performance.now.bind(e.performance):Date.now;function d(h){var y=["MSIE ","Trident/","Edge/"];return new RegExp(y.join("|")).test(h)}var l=d(e.navigator.userAgent)?1:0;function c(h,y){this.scrollLeft=h,this.scrollTop=y}function u(h){return .5*(1-Math.cos(Math.PI*h))}function p(h){if(h===null||typeof h!="object"||h.behavior===void 0||h.behavior==="auto"||h.behavior==="instant")return!0;if(typeof h=="object"&&h.behavior==="smooth")return!1;throw new TypeError("behavior member of ScrollOptions "+h.behavior+" is not a valid value for enumeration ScrollBehavior.")}function g(h,y){if(y==="Y")return h.clientHeight+l<h.scrollHeight;if(y==="X")return h.clientWidth+l<h.scrollWidth}function m(h,y){var _=e.getComputedStyle(h,null)["overflow"+y];return _==="auto"||_==="scroll"}function v(h){var y=g(h,"Y")&&m(h,"Y"),_=g(h,"X")&&m(h,"X");return y||_}function w(h){for(;h!==t.body&&v(h)===!1;)h=h.parentNode||h.host;return h}function k(h){var y=o(),_,f,b,A=(y-h.startTime)/r;A=A>1?1:A,_=u(A),f=h.startX+(h.x-h.startX)*_,b=h.startY+(h.y-h.startY)*_,h.method.call(h.scrollable,f,b),(f!==h.x||b!==h.y)&&e.requestAnimationFrame(k.bind(e,h))}function x(h,y,_){var f,b,A,F,L=o();h===t.body?(f=e,b=e.scrollX||e.pageXOffset,A=e.scrollY||e.pageYOffset,F=i.scroll):(f=h,b=h.scrollLeft,A=h.scrollTop,F=c),k({scrollable:f,method:F,startTime:L,startX:b,startY:A,x:y,y:_})}e.scroll=e.scrollTo=function(){if(arguments[0]!==void 0){if(p(arguments[0])===!0){i.scroll.call(e,arguments[0].left!==void 0?arguments[0].left:typeof arguments[0]!="object"?arguments[0]:e.scrollX||e.pageXOffset,arguments[0].top!==void 0?arguments[0].top:arguments[1]!==void 0?arguments[1]:e.scrollY||e.pageYOffset);return}x.call(e,t.body,arguments[0].left!==void 0?~~arguments[0].left:e.scrollX||e.pageXOffset,arguments[0].top!==void 0?~~arguments[0].top:e.scrollY||e.pageYOffset)}},e.scrollBy=function(){if(arguments[0]!==void 0){if(p(arguments[0])){i.scrollBy.call(e,arguments[0].left!==void 0?arguments[0].left:typeof arguments[0]!="object"?arguments[0]:0,arguments[0].top!==void 0?arguments[0].top:arguments[1]!==void 0?arguments[1]:0);return}x.call(e,t.body,~~arguments[0].left+(e.scrollX||e.pageXOffset),~~arguments[0].top+(e.scrollY||e.pageYOffset))}},n.prototype.scroll=n.prototype.scrollTo=function(){if(arguments[0]!==void 0){if(p(arguments[0])===!0){if(typeof arguments[0]=="number"&&arguments[1]===void 0)throw new SyntaxError("Value could not be converted");i.elementScroll.call(this,arguments[0].left!==void 0?~~arguments[0].left:typeof arguments[0]!="object"?~~arguments[0]:this.scrollLeft,arguments[0].top!==void 0?~~arguments[0].top:arguments[1]!==void 0?~~arguments[1]:this.scrollTop);return}var h=arguments[0].left,y=arguments[0].top;x.call(this,this,typeof h>"u"?this.scrollLeft:~~h,typeof y>"u"?this.scrollTop:~~y)}},n.prototype.scrollBy=function(){if(arguments[0]!==void 0){if(p(arguments[0])===!0){i.elementScroll.call(this,arguments[0].left!==void 0?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,arguments[0].top!==void 0?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop);return}this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior})}},n.prototype.scrollIntoView=function(){if(p(arguments[0])===!0){i.scrollIntoView.call(this,arguments[0]===void 0?!0:arguments[0]);return}var h=w(this),y=h.getBoundingClientRect(),_=this.getBoundingClientRect();h!==t.body?(x.call(this,h,h.scrollLeft+_.left-y.left,h.scrollTop+_.top-y.top),e.getComputedStyle(h).position!=="fixed"&&e.scrollBy({left:y.left,top:y.top,behavior:"smooth"})):e.scrollBy({left:_.left,top:_.top,behavior:"smooth"})}}typeof ks=="object"&&typeof Ba<"u"?Ba.exports={polyfill:a}:a()})()});var At={backgroundImage:"",MediaAttribution:!0,applePay:!1,CapitalizeFields:!1,ClickToExpand:!0,CurrencySymbol:"$",CurrencyCode:"USD",AddCurrencySymbol:!0,ThousandsSeparator:"",DecimalSeparator:".",DecimalPlaces:2,MinAmount:1,MaxAmount:1e5,MinAmountMessage:"Amount must be at least $1",MaxAmountMessage:"Amount must be less than $100,000",SkipToMainContentLink:!0,SrcDefer:!0,NeverBounceAPI:null,NeverBounceDateField:null,NeverBounceStatusField:null,NeverBounceDateFormat:"MM/DD/YYYY",FreshAddress:!1,ProgressBar:!1,AutoYear:!1,TranslateFields:!0,Debug:!1,RememberMe:!1,TidyContact:!1,RegionLongFormat:"",CountryDisable:[],Plaid:!1,Placeholders:!1,ENValidators:!1,MobileCTA:!1,CustomCurrency:!1,VGS:!1,PostalCodeValidator:!1,PageLayouts:["leftleft1col","centerleft1col","centercenter1col","centercenter2col","centerright1col","rightright1col","none"]};var Ri={image:"https://picsum.photos/480/650",imagePosition:"left",title:"Will you change your gift to just {new-amount} a month to boost your impact?",paragraph:"Make a monthly pledge today to support us with consistent, reliable resources during emergency moments.",yesLabel:"Yes! Process My <br> {new-amount} monthly gift",noLabel:"No, thanks. Continue with my <br> {old-amount} one-time gift",otherAmount:!0,otherLabel:"Or enter a different monthly amount:",upsellOriginalGiftAmountFieldName:"",amountRange:[{max:10,suggestion:5},{max:15,suggestion:7},{max:20,suggestion:8},{max:25,suggestion:9},{max:30,suggestion:10},{max:35,suggestion:11},{max:40,suggestion:12},{max:50,suggestion:14},{max:100,suggestion:15},{max:200,suggestion:19},{max:300,suggestion:29},{max:500,suggestion:"Math.ceil((amount / 12)/5)*5"}],minAmount:0,canClose:!0,submitOnClose:!1,oneTime:!0,annual:!1,disablePaymentMethods:[],skipUpsell:!1};var Pa=[{field:"supporter.firstName",translation:"Nome"},{field:"supporter.lastName",translation:"Sobrenome"},{field:"supporter.phoneNumber",translation:"Celular"},{field:"supporter.address1",translation:"Endere\xE7o"},{field:"supporter.address2",translation:"Complemento"},{field:"supporter.postcode",translation:"CEP"},{field:"supporter.city",translation:"Cidade"},{field:"supporter.region",translation:"Estado"},{field:"supporter.country",translation:"Pa\xEDs"}],Ra=[{field:"supporter.address1",translation:"Stra\xDFe, Hausnummer"},{field:"supporter.postcode",translation:"Postleitzahl"},{field:"supporter.city",translation:"Ort"},{field:"supporter.region",translation:"Bundesland"},{field:"supporter.country",translation:"Land"}],Ua=[{field:"supporter.address1",translation:"Adresse"},{field:"supporter.postcode",translation:"Code Postal"},{field:"supporter.city",translation:"Ville"},{field:"supporter.region",translation:"R\xE9gion"},{field:"supporter.country",translation:"Country"}],ja=[{field:"supporter.address1",translation:"Adres"},{field:"supporter.postcode",translation:"Postcode"},{field:"supporter.city",translation:"Woonplaats"},{field:"supporter.region",translation:"Provincie"},{field:"supporter.country",translation:"Country"}],Ui={BR:Pa,BRA:Pa,DE:Ra,DEU:Ra,FR:Ua,FRA:Ua,NL:ja,NLD:ja};var ji={enabled:!1,title:"We are sad that you are leaving",text:"Would you mind telling us why you are leaving this page?",buttonText:"Send us your comments",buttonLink:"https://www.4sitestudios.com/",cookieName:"engrid-exit-intent-lightbox",cookieDuration:30,triggers:{visibilityState:!0,mousePosition:!0}};var zt=class{constructor(){this.logger=new S("Loader","gold","black","\u{1F501}"),this.cssElement=document.querySelector('link[href*="engrid."][rel="stylesheet"]'),this.jsElement=document.querySelector('script[src*="engrid."]')}reload(){var e,t,n;let r=this.getOption("assets"),i=s.getBodyData("loaded"),o=this.getOption("engridcss")==="false",d=this.getOption("engridjs")==="false";if(i||!r)return o&&this.cssElement&&(this.logger.log("engridcss=false | Removing original stylesheet:",this.cssElement),this.cssElement.remove()),d&&this.jsElement&&(this.logger.log("engridjs=false | Removing original script:",this.jsElement),this.jsElement.remove()),o&&(this.logger.log("engridcss=false | adding top banner CSS"),this.addENgridCSSUnloadedCSS()),d?(this.logger.log("engridjs=false | Skipping JS load."),this.logger.success("LOADED"),!0):(this.logger.success("LOADED"),!1);this.logger.log("RELOADING"),s.setBodyData("loaded","true");let l=s.getBodyData("theme"),c=(e=this.getOption("repo-name"))!==null&&e!==void 0?e:`engrid-${l}`,u="",p="";switch(r){case"local":this.logger.log("LOADING LOCAL"),s.setBodyData("assets","local"),u=`https://${c}.test/dist/engrid.js`,p=`https://${c}.test/dist/engrid.css`;break;case"flush":this.logger.log("FLUSHING CACHE");let g=Date.now(),m=new URL(((t=this.jsElement)===null||t===void 0?void 0:t.getAttribute("src"))||"");m.searchParams.set("v",g.toString()),u=m.toString();let v=new URL(((n=this.cssElement)===null||n===void 0?void 0:n.getAttribute("href"))||"");v.searchParams.set("v",g.toString()),p=v.toString();break;default:this.logger.log("LOADING EXTERNAL"),u=`https://s3.amazonaws.com/engrid-dev.4sitestudios.com/${c}/${r}/engrid.js`,p=`https://s3.amazonaws.com/engrid-dev.4sitestudios.com/${c}/${r}/engrid.css`}return o&&this.cssElement&&(this.logger.log("engridcss=false | Removing original stylesheet:",this.cssElement),this.cssElement.remove()),o&&p&&p!==""&&this.logger.log("engridcss=false | Skipping injection of stylesheet:",p),o?(this.logger.log("engridcss=false | adding top banner CSS"),this.addENgridCSSUnloadedCSS()):this.setCssFile(p),d&&this.jsElement&&(this.logger.log("engridjs=false | Removing original script:",this.jsElement),this.jsElement.remove()),d&&u&&u!==""&&this.logger.log("engridjs=false | Skipping injection of script:",u),d||this.setJsFile(u),!!r}getOption(e){let t=s.getUrlParameter(e);return t&&["assets","engridcss","engridjs"].includes(e)?t:window.EngridLoader&&window.EngridLoader.hasOwnProperty(e)?window.EngridLoader[e]:this.jsElement&&this.jsElement.hasAttribute("data-"+e)?this.jsElement.getAttribute("data-"+e):null}setCssFile(e){if(e!=="")if(this.cssElement)this.logger.log("Replacing stylesheet:",e),this.cssElement.setAttribute("href",e);else{this.logger.log("Injecting stylesheet:",e);let t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("media","all"),t.setAttribute("href",e),document.head.appendChild(t)}}setJsFile(e){if(e==="")return;this.logger.log("Injecting script:",e);let t=document.createElement("script");t.setAttribute("src",e),document.head.appendChild(t)}addENgridCSSUnloadedCSS(){document.body.insertAdjacentHTML("beforeend",`<style>
        html,
        body {
            background-color: #ffffff;
        }

        body {
            opacity: 1;
            margin: 0;
        }

        body:before {
            content: "ENGRID CSS UNLOADED";
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            background-color: #ffff00;
            padding: 1rem;
            margin-bottom: 1rem;
            font-family: sans-serif;
            font-weight: 600;
        }

        .en__component--advrow {
            flex-direction: column;
            max-width: 600px;
            margin: 0 auto;
        }

        .en__component--advrow * {
            max-width: 100%;
            height: auto;
        }
      </style>`)}};var mr=tt(ct());var q=class a{constructor(){this.logger=new S("EnForm"),this._onSubmit=new mr.SignalDispatcher,this._onValidate=new mr.SignalDispatcher,this._onError=new mr.SignalDispatcher,this.submit=!0,this.submitPromise=!1,this.validate=!0,this.validatePromise=!1}static getInstance(){return a.instance||(a.instance=new a),a.instance}dispatchSubmit(){this._onSubmit.dispatch(),this.logger.log("dispatchSubmit")}dispatchValidate(){this._onValidate.dispatch(),this.logger.log("dispatchValidate")}dispatchError(){this._onError.dispatch(),this.logger.log("dispatchError")}submitForm(){let e=document.querySelector("form .en__submit button");if(e){let t=document.getElementById("enModal");t&&t.classList.add("is-submitting"),e.click(),this.logger.log("submitForm")}}get onSubmit(){return this._onSubmit.asEvent()}get onError(){return this._onError.asEvent()}get onValidate(){return this._onValidate.asEvent()}};var Qd=tt(ct());var V=class a{constructor(e="transaction.donationAmt",t="transaction.donationAmt.other"){this._onAmountChange=new Qd.SimpleEventDispatcher,this._amount=0,this._radios="",this._other="",this._dispatch=!0,this._other=t,this._radios=e,document.addEventListener("change",r=>{let i=r.target;if(i){if(i.name==e)this.amount=parseFloat(i.value);else if(i.name==t){let o=s.cleanAmount(i.value);i.value=o%1!=0?o.toFixed(2):o.toString(),this.amount=o}}});let n=document.querySelector(`[name='${this._other}']`);n&&n.addEventListener("keyup",r=>{this.amount=s.cleanAmount(n.value)})}static getInstance(e="transaction.donationAmt",t="transaction.donationAmt.other"){return a.instance||(a.instance=new a(e,t)),a.instance}get amount(){return this._amount}set amount(e){this._amount=e||0,this._dispatch&&this._onAmountChange.dispatch(this._amount)}get onAmountChange(){return this._onAmountChange.asEvent()}load(){let e=document.querySelector('input[name="'+this._radios+'"]:checked');if(e){let t=parseFloat(e.value||"");if(t>0)this.amount=parseFloat(e.value);else{let n=document.querySelector('input[name="'+this._other+'"]');t=s.cleanAmount(n.value),this.amount=t}}else if(s.checkNested(window.EngagingNetworks,"require","_defined","enjs","getDonationTotal")&&s.checkNested(window.EngagingNetworks,"require","_defined","enjs","getDonationFee")){let t=window.EngagingNetworks.require._defined.enjs.getDonationTotal()-window.EngagingNetworks.require._defined.enjs.getDonationFee();t&&(this.amount=t)}}setAmount(e,t=!0){if(!document.getElementsByName(this._radios).length)return;this._dispatch=t;let n=Array.from(document.querySelectorAll('input[name="'+this._radios+'"]')).filter(r=>r instanceof HTMLInputElement&&parseInt(r.value)==e);if(n.length){let r=n[0];r.checked=!0,this.clearOther()}else{let r=document.querySelector('input[name="'+this._other+'"]');if(r){let i=document.querySelector(`.en__field--donationAmt.en__field--withOther .en__field__item:nth-last-child(2) input[name="${this._radios}"]`);i&&(i.checked=!0),r.value=parseFloat(e.toString()).toFixed(2),r.parentNode.classList.remove("en__field__item--hidden")}}this.amount=e,this._dispatch=!0}clearOther(){let e=document.querySelector('input[name="'+this._other+'"]');e.value="",e.parentNode.classList.add("en__field__item--hidden")}};var Kd=tt(ct());var s=class a{constructor(){if(!a.enForm)throw new Error("Engaging Networks Form Not Found!")}static get enForm(){return document.querySelector("form.en__component")}static get debug(){return!!this.getOption("Debug")}static get demo(){return this.getUrlParameter("mode")==="DEMO"}static getUrlParameter(e){let t=new URLSearchParams(window.location.search);if(e.endsWith("[]")){let n=[];return t.forEach((r,i)=>{i.startsWith(e.replace("[]",""))&&n.push(new Object({[i]:r}))}),n.length>0?n:null}return t.has(e)?t.get(e)||!0:null}static getField(e){return document.querySelector(`[name="${e}"]`)}static getFieldValue(e){return new FormData(this.enForm).getAll(e).join(",")}static setFieldValue(e,t,n=!0,r=!1){t!==a.getFieldValue(e)&&(document.getElementsByName(e).forEach(i=>{if("type"in i){switch(i.type){case"select-one":case"select-multiple":for(let o of i.options)o.value==t&&(o.selected=!0,r&&i.dispatchEvent(new Event("change",{bubbles:!0})));break;case"checkbox":case"radio":i.value==t&&(i.checked=!0,r&&i.dispatchEvent(new Event("change",{bubbles:!0})));break;case"textarea":case"text":default:i.value=t,r&&(i.dispatchEvent(new Event("change",{bubbles:!0})),i.dispatchEvent(new Event("blur",{bubbles:!0})))}i.setAttribute("engrid-value-changed","")}}),n&&this.enParseDependencies())}static createHiddenInput(e,t=""){var n;let r=document.createElement("div");r.classList.add("en__component","en__component--formblock","hide");let i=document.createElement("div");i.classList.add("en__field","en__field--text");let o=document.createElement("div");o.classList.add("en__field__element","en__field__element--text");let d=document.createElement("input");d.classList.add("en__field__input","en__field__input--text","engrid-added-input"),d.setAttribute("name",e),d.setAttribute("type","hidden"),d.setAttribute("value",t),o.appendChild(d),i.appendChild(o),r.appendChild(i);let l=document.querySelector(".en__submit");if(l){let c=l.closest(".en__component");c&&((n=c.parentNode)===null||n===void 0||n.insertBefore(r,c.nextSibling))}else a.enForm.appendChild(r);return d}static enParseDependencies(){var e,t,n,r,i,o;if(window.EngagingNetworks&&typeof((i=(r=(n=(t=(e=window.EngagingNetworks)===null||e===void 0?void 0:e.require)===null||t===void 0?void 0:t._defined)===null||n===void 0?void 0:n.enDependencies)===null||r===void 0?void 0:r.dependencies)===null||i===void 0?void 0:i.parseDependencies)=="function"){let d=[];if("dependencies"in window.EngagingNetworks){let l=document.querySelector(".en__field--donationAmt");if(l){let c=((o=[...l.classList.values()].filter(u=>u.startsWith("en__field--")&&Number(u.substring(11))>0).toString().match(/\d/g))===null||o===void 0?void 0:o.join(""))||"";c&&(window.EngagingNetworks.dependencies.forEach(u=>{if("actions"in u&&u.actions.length>0){let p=!1;u.actions.forEach(g=>{"target"in g&&g.target==c&&(p=!0)}),p||d.push(u)}}),d.length>0&&(window.EngagingNetworks.require._defined.enDependencies.dependencies.parseDependencies(d),a.getOption("Debug")&&console.log("EN Dependencies Triggered",d)))}}}}static getGiftProcess(){return"pageJson"in window?window.pageJson.giftProcess:null}static getPageCount(){return"pageJson"in window?window.pageJson.pageCount:null}static getPageNumber(){return"pageJson"in window?window.pageJson.pageNumber:null}static getPageID(){return"pageJson"in window?window.pageJson.campaignPageId:0}static getClientID(){return"pageJson"in window?window.pageJson.clientId:0}static getDataCenter(){return a.getClientID()>=1e4?"us":"ca"}static getPageType(){if("pageJson"in window&&"pageType"in window.pageJson)switch(window.pageJson.pageType){case"donation":case"premiumgift":return"DONATION";case"e-card":return"ECARD";case"otherdatacapture":case"survey":return"SURVEY";case"emailtotarget":return"EMAILTOTARGET";case"advocacypetition":return"ADVOCACY";case"emailsubscribeform":return"SUBSCRIBEFORM";case"supporterhub":return"SUPPORTERHUB";case"unsubscribe":return"UNSUBSCRIBE";case"tweetpage":return"TWEETPAGE";default:return"UNKNOWN"}else return"UNKNOWN"}static setBodyData(e,t){let n=document.querySelector("body");if(typeof t=="boolean"&&t===!1){n.removeAttribute(`data-engrid-${e}`);return}n.setAttribute(`data-engrid-${e}`,t.toString())}static getBodyData(e){return document.querySelector("body").getAttribute(`data-engrid-${e}`)}static hasBodyData(e){return document.querySelector("body").hasAttribute(`data-engrid-${e}`)}static getOption(e){return window.EngridOptions[e]||null}static loadJS(e,t=null,n=!0){let r=document.createElement("script");if(r.src=e,r.onload=t,n){document.head.appendChild(r);return}document.body.appendChild(r)}static formatNumber(e,t=2,n=".",r=","){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");let i=isFinite(+e)?+e:0,o=isFinite(+t)?Math.abs(t):0,d=typeof r>"u"?",":r,l=typeof n>"u"?".":n,c=[];return c=(o?function(p,g){let m=Math.pow(10,g);return""+Math.round(p*m)/m}(i,o):""+Math.round(i)).split("."),c[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,d)),(c[1]||"").length<o&&(c[1]=c[1]||"",c[1]+=new Array(o-c[1].length+1).join("0")),c.join(l)}static cleanAmount(e){let t=e.replace(/[^0-9,\.]/g,"").split(/[,.]+/),n=e.replace(/[^.,]/g,"").split("");if(t.length===1)return parseInt(t[0])||0;if(t.map((r,i)=>i>0&&i+1!==t.length&&r.length!==3).includes(!0)||n.length>1&&!n.includes(".")||[...new Set(n.slice(0,-1))].length>1)return 0;if(t[t.length-1].length<=2){let r=t.pop()||"00";return parseInt(r)>0?parseFloat((+(parseInt(t.join(""))+"."+r)).toFixed(2)):parseInt(t.join(""))}return parseInt(t.join(""))}static disableSubmit(e=""){let t=document.querySelector(".en__submit button");t.dataset.originalText=t.innerHTML;let n="<span class='loader-wrapper'><span class='loader loader-quart'></span><span class='submit-button-text-wrapper'>"+e+"</span></span>";return t?(t.disabled=!0,t.innerHTML=n,!0):!1}static enableSubmit(){let e=document.querySelector(".en__submit button");return e.dataset.originalText?(e.disabled=!1,e.innerHTML=e.dataset.originalText,delete e.dataset.originalText,!0):!1}static formatDate(e,t="MM/DD/YYYY"){let n=e.toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}).split("/");return t.replace(/YYYY/g,n[2]).replace(/MM/g,n[0]).replace(/DD/g,n[1]).replace(/YY/g,n[2].substr(2,2))}static checkNested(e,...t){for(let n=0;n<t.length;n++){if(!e||!e.hasOwnProperty(t[n]))return!1;e=e[t[n]]}return!0}static setError(e,t){let n=typeof e=="string"?document.querySelector(e):e;if(n){n.classList.add("en__field--validationFailed");let r=n.querySelector(".en__field__error");r?r.innerHTML=t:(r=document.createElement("div"),r.classList.add("en__field__error"),r.innerHTML=t,n.insertBefore(r,n.firstChild))}}static removeError(e){let t=typeof e=="string"?document.querySelector(e):e;if(t){t.classList.remove("en__field--validationFailed");let n=t.querySelector(".en__field__error");n&&t.removeChild(n)}}static isVisible(e){return e?!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length):!1}static getCurrencySymbol(){let e=a.getField("transaction.paycurrency");if(e){let t=e.tagName==="SELECT"?e.options[e.selectedIndex]:e;return t.dataset.currencySymbol?t.dataset.currencySymbol:{USD:"$",EUR:"\u20AC",GBP:"\xA3",AUD:"$",CAD:"$",JPY:"\xA5"}[e.value]||"$"}return a.getOption("CurrencySymbol")||"$"}static getCurrencyCode(){let e=a.getField("transaction.paycurrency");return e?e.value||"USD":a.getOption("CurrencyCode")||"USD"}static addHtml(e,t="body",n="before"){var r,i;let o=document.querySelector(t);if(typeof e=="object"&&(e=e.outerHTML),o){let d=document.createRange().createContextualFragment(e);n==="before"?(r=o.parentNode)===null||r===void 0||r.insertBefore(d,o):(i=o.parentNode)===null||i===void 0||i.insertBefore(d,o.nextSibling)}}static removeHtml(e){let t=document.querySelector(e);t&&t.remove()}static slugify(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}static watchForError(e){let t=document.querySelector(".en__errorList"),n=i=>i.charAt(0).toUpperCase()+i.slice(1),r=e.toString();r.indexOf("function")===0&&(r=r.replace("function ","")),r.indexOf("(")>0&&(r=r.substring(0,r.indexOf("("))),r=r.replace(/[^a-zA-Z0-9]/g,""),r=r.substring(0,20),r="engrid"+n(r),t&&!t.dataset[r]&&(t.dataset[r]="true",new MutationObserver(function(o){o.forEach(function(d){d.type==="childList"&&d.addedNodes.length>0&&e()})}).observe(t,{childList:!0}))}static getPaymentType(){return a.getFieldValue("transaction.paymenttype")}static setPaymentType(e){let t=a.getField("transaction.paymenttype");if(t){let n=Array.from(t.options).find(i=>i.value.toLowerCase()===e.toLowerCase());n?n.selected=!0:t.value=e;let r=new Event("change");t.dispatchEvent(r)}}static isInViewport(e){let t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}};var Z=class a{constructor(){this._onFrequencyChange=new Kd.SimpleEventDispatcher,this._frequency="onetime",this._recurring="n",this._dispatch=!0,document.addEventListener("change",e=>{let t=e.target;t&&t.name=="transaction.recurrpay"&&(this.recurring=t.value,t.type=="radio"&&(this.frequency=t.value.toLowerCase()=="n"?"onetime":"monthly",s.setFieldValue("transaction.recurrfreq",this.frequency.toUpperCase()))),t&&t.name=="transaction.recurrfreq"&&(this.frequency=t.value)}),s.getGiftProcess()&&(s.setBodyData("transaction-recurring-frequency",sessionStorage.getItem("engrid-transaction-recurring-frequency")||"onetime"),s.setBodyData("transaction-recurring",window.pageJson.recurring?"y":"n"))}static getInstance(){return a.instance||(a.instance=new a),a.instance}get frequency(){return this._frequency}set frequency(e){this._frequency=e.toLowerCase()||"onetime",this._dispatch&&this._onFrequencyChange.dispatch(this._frequency),s.setBodyData("transaction-recurring-frequency",this._frequency),sessionStorage.setItem("engrid-transaction-recurring-frequency",this._frequency)}get recurring(){return this._recurring}set recurring(e){this._recurring=e.toLowerCase()||"n",s.setBodyData("transaction-recurring",this._recurring)}get onFrequencyChange(){return this._onFrequencyChange.asEvent()}load(){var e;this.frequency=s.getFieldValue("transaction.recurrfreq")||sessionStorage.getItem("engrid-transaction-recurring-frequency")||"onetime",s.getField("transaction.recurrpay")?this.recurring=s.getFieldValue("transaction.recurrpay"):s.checkNested(window.EngagingNetworks,"require","_defined","enjs","getSupporterData")&&(this.recurring=((e=window.EngagingNetworks.require._defined.enjs.getSupporterData("recurrpay"))===null||e===void 0?void 0:e.toLowerCase())||"n")}setRecurrency(e,t=!0){document.getElementsByName("transaction.recurrpay").length&&(this._dispatch=t,s.setFieldValue("transaction.recurrpay",e.toUpperCase()),this._dispatch=!0)}setFrequency(e,t=!0){if(!document.getElementsByName("transaction.recurrfreq").length)return;this._dispatch=t;let n=Array.from(document.querySelectorAll('input[name="transaction.recurrfreq"]')).filter(r=>r instanceof HTMLInputElement&&r.value==e.toUpperCase());if(n.length){let r=n[0];r.checked=!0,this.frequency=e.toLowerCase(),this.frequency==="onetime"?this.setRecurrency("N",t):this.setRecurrency("Y",t)}this._dispatch=!0}};var $d=tt(ct());var Ee=class a{constructor(){this._onFeeChange=new $d.SimpleEventDispatcher,this._amount=V.getInstance(),this._form=q.getInstance(),this._fee=0,this._field=null,document.getElementsByName("transaction.donationAmt").length&&(this._field=this.isENfeeCover()?document.querySelector("#en__field_transaction_feeCover"):document.querySelector('input[name="supporter.processing_fees"]'),this._field instanceof HTMLInputElement&&this._field.addEventListener("change",e=>{this._field instanceof HTMLInputElement&&this._field.checked&&!this._subscribe&&(this._subscribe=this._form.onSubmit.subscribe(()=>this.addFees())),this._onFeeChange.dispatch(this.fee)}))}static getInstance(){return a.instance||(a.instance=new a),a.instance}get onFeeChange(){return this._onFeeChange.asEvent()}get fee(){return this.calculateFees()}set fee(e){this._fee=e,this._onFeeChange.dispatch(this._fee)}calculateFees(e=0){var t;if(this._field instanceof HTMLInputElement&&this._field.checked){if(this.isENfeeCover())return e>0?window.EngagingNetworks.require._defined.enjs.feeCover.fee(e):window.EngagingNetworks.require._defined.enjs.getDonationFee();let n=Object.assign({processingfeepercentadded:"0",processingfeefixedamountadded:"0"},(t=this._field)===null||t===void 0?void 0:t.dataset),r=e>0?e:this._amount.amount,i=parseFloat(n.processingfeepercentadded)/100*r+parseFloat(n.processingfeefixedamountadded);return Math.round(i*100)/100}return 0}addFees(){this._form.submit&&!this.isENfeeCover()&&this._amount.setAmount(this._amount.amount+this.fee,!1)}removeFees(){this.isENfeeCover()||this._amount.setAmount(this._amount.amount-this.fee)}isENfeeCover(){if("feeCover"in window.EngagingNetworks){for(let e in window.EngagingNetworks.feeCover)if(window.EngagingNetworks.feeCover.hasOwnProperty(e))return!0}return!1}};var fr=tt(ct());var We=class a{constructor(){this.logger=new S("RememberMeEvents"),this._onLoad=new fr.SimpleEventDispatcher,this._onClear=new fr.SignalDispatcher,this.hasData=!1}static getInstance(){return a.instance||(a.instance=new a),a.instance}dispatchLoad(e){this.hasData=e,this._onLoad.dispatch(e),this.logger.log(`dispatchLoad: ${e}`)}dispatchClear(){this._onClear.dispatch(),this.logger.log("dispatchClear")}get onLoad(){return this._onLoad.asEvent()}get onClear(){return this._onClear.asEvent()}};var ne=class a extends s{constructor(e){super(),this._form=q.getInstance(),this._fees=Ee.getInstance(),this._amount=V.getInstance("transaction.donationAmt","transaction.donationAmt.other"),this._frequency=Z.getInstance(),this.logger=new S("App","black","white","\u{1F34F}");let t=new zt;this.options=Object.assign(Object.assign({},At),e),window.EngridOptions=this.options,this._dataLayer=_t.getInstance(),!t.reload()&&(s.getBodyData("assets")==="local"&&s.getUrlParameter("debug")!=="false"&&s.getUrlParameter("debug")!=="log"&&(window.EngridOptions.Debug=!0),document.readyState!=="loading"?this.run():document.addEventListener("DOMContentLoaded",()=>{this.run()}),window.onresize=()=>{this.onResize()})}run(){if(!s.checkNested(window.EngagingNetworks,"require","_defined","enjs")){this.logger.danger("Engaging Networks JS Framework NOT FOUND"),setTimeout(()=>{this.run()},100);return}window.hasOwnProperty("EngridPageOptions")&&(this.options=Object.assign(Object.assign({},this.options),window.EngridPageOptions),window.EngridOptions=this.options),(this.options.Debug||a.getUrlParameter("debug")=="true")&&a.setBodyData("debug",""),new Sr,new Lr,new Fr,new Ye("transaction.giveBySelect","giveBySelect-"),new Ye("transaction.inmem","inmem-"),new Ye("transaction.recurrpay","recurrpay-");let e=[];document.querySelectorAll("input[type=radio]").forEach(o=>{"name"in o&&e.includes(o.name)===!1&&e.push(o.name)}),e.forEach(o=>{new Ye(o,"engrid__"+o.replace(/\./g,"")+"-")}),document.querySelectorAll("input[type=checkbox]").forEach(o=>{"name"in o&&new Ye(o.name,"engrid__"+o.name.replace(/\./g,"")+"-")}),this._form.onSubmit.subscribe(()=>this.onSubmit()),this._form.onError.subscribe(()=>this.onError()),this._form.onValidate.subscribe(()=>this.onValidate()),this._amount.onAmountChange.subscribe(o=>this.logger.success(`Live Amount: ${o}`)),this._frequency.onFrequencyChange.subscribe(o=>{this.logger.success(`Live Frequency: ${o}`),setTimeout(()=>{this._amount.load()},150)}),this._form.onSubmit.subscribe(o=>this.logger.success("Submit: "+JSON.stringify(o))),this._form.onError.subscribe(o=>this.logger.danger("Error: "+JSON.stringify(o))),window.enOnSubmit=()=>(this._form.submit=!0,this._form.submitPromise=!1,this._form.dispatchSubmit(),s.watchForError(s.enableSubmit),this._form.submit?this._form.submitPromise?this._form.submitPromise:(this.logger.success("enOnSubmit Success"),!0):!1),window.enOnError=()=>{this._form.dispatchError()},window.enOnValidate=()=>(this._form.validate=!0,this._form.validatePromise=!1,this._form.dispatchValidate(),this._form.validate?this._form.validatePromise?this._form.validatePromise:(this.logger.success("Validation Passed"),!0):!1),new Or,new Tr(this.options),new Pr,new Ir,new hr,new Jr,new Xr,new ri,new ii,new oi,window.setTimeout(()=>{this._frequency.load()},150),new Re,new ti,new ni,new Br,this.options.MediaAttribution&&new Dr,this.options.applePay&&new br,this.options.CapitalizeFields&&new yr,this.options.AutoYear&&new xr,new wr,new kr,new Er,this.options.ClickToExpand&&new Ar,this.options.SkipToMainContentLink&&new Nr,this.options.SrcDefer&&new Mr,this.options.ProgressBar&&new zr;try{this.options.RememberMe&&typeof this.options.RememberMe=="object"&&window.localStorage&&new Hr(this.options.RememberMe)}catch{}this.options.NeverBounceAPI&&new Ur(this.options.NeverBounceAPI,this.options.NeverBounceDateField,this.options.NeverBounceStatusField,this.options.NeverBounceDateFormat),this.options.FreshAddress&&new jr,new Vr,new Gr,new Wr,new Yr,new vr,new Zr,new Qr,new Rr,new Kr,new $r,new yi,this.options.Debug&&new ai,this.options.TidyContact&&new ei,this.options.TranslateFields&&new qr,new di,new li,new hi,s.getPageType()==="DONATION"&&new si,new ci,new ui,new _i,this.options.Plaid&&new pi,new gi,new Cr,new fi,new mi,new bi,new vi,new wi,new xi;let r=this.options.Debug;try{!r&&window.sessionStorage.hasOwnProperty(ut.debugSessionStorageKey)&&(r=!0)}catch{}r&&new ut(this.options.PageLayouts),s.getUrlParameter("development")==="branding"&&new pt().show(),s.setBodyData("data-engrid-scripts-js-loading","finished"),window.EngridVersion=oa,this.logger.success(`VERSION: ${oa}`);let i=typeof window.onload=="function"?window.onload:null;document.readyState!=="loading"?this.onLoad():window.onload=o=>{this.onLoad(),i&&i.bind(window,o)}}onLoad(){this.options.onLoad&&this.options.onLoad()}onResize(){this.options.onResize&&this.options.onResize()}onValidate(){this.options.onValidate&&(this.logger.log("Client onValidate Triggered"),this.options.onValidate())}onSubmit(){this.options.onSubmit&&(this.logger.log("Client onSubmit Triggered"),this.options.onSubmit())}onError(){this.options.onError&&(this.logger.danger("Client onError Triggered"),this.options.onError())}static log(e){new S("Client","brown","aliceblue","\u{1F36A}").log(e)}};var hr=class{constructor(){this._frequency=Z.getInstance(),this.shouldRun()&&(this._frequency.onFrequencyChange.subscribe(e=>window.setTimeout(this.fixAmountLabels.bind(this),100)),window.setTimeout(this.fixAmountLabels.bind(this),300))}shouldRun(){return!!(s.getPageType()==="DONATION"&&s.getOption("AddCurrencySymbol"))}fixAmountLabels(){let e=document.querySelectorAll(".en__field--donationAmt label"),t=s.getCurrencySymbol()||"";e.forEach(n=>{isNaN(n.innerText)||(n.innerText=t+n.innerText)})}};var Au=function(a,e,t,n){function r(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function d(u){try{c(n.next(u))}catch(p){o(p)}}function l(u){try{c(n.throw(u))}catch(p){o(p)}}function c(u){u.done?i(u.value):r(u.value).then(d,l)}c((n=n.apply(a,e||[])).next())})},el=window.ApplePaySession,aa=window.merchantIdentifier,tl=window.merchantDomainName,Su=window.merchantDisplayName,Cu=window.merchantSessionIdentifier,Ou=window.merchantNonce,Fu=window.merchantEpochTimestamp,Lu=window.merchantSignature,Du=window.merchantCountryCode,Tu=window.merchantCurrencyCode,Iu=window.merchantSupportedNetworks,qu=window.merchantCapabilities,Bu=window.merchantTotalLabel,br=class{constructor(){this.applePay=document.querySelector('.en__field__input.en__field__input--radio[value="applepay"]'),this._amount=V.getInstance(),this._fees=Ee.getInstance(),this._form=q.getInstance(),this.checkApplePay()}checkApplePay(){return Au(this,void 0,void 0,function*(){let e=document.querySelector("form.en__component--page");if(!this.applePay||!window.hasOwnProperty("ApplePaySession")){let i=document.querySelector(".en__field__item.applepay");return i&&i.remove(),s.debug&&console.log("Apple Pay DISABLED"),!1}let t=el.canMakePaymentsWithActiveCard(aa),n=!1;yield t.then(i=>{if(n=i,i){let o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name","PkPaymentToken"),o.setAttribute("id","applePayToken"),e.appendChild(o),this._form.onSubmit.subscribe(()=>this.onPayClicked())}}),s.debug&&console.log("applePayEnabled",n);let r=this.applePay.closest(".en__field__item");return n?r?.classList.add("applePayWrapper"):r&&(r.style.display="none"),n})}performValidation(e){return new Promise(function(t,n){var r={};r.merchantIdentifier=aa,r.merchantSessionIdentifier=Cu,r.nonce=Ou,r.domainName=tl,r.epochTimestamp=Fu,r.signature=Lu;var i="&merchantIdentifier="+aa+"&merchantDomain="+tl+"&displayName="+Su,o="/ea-dataservice/rest/applepay/validateurl?url="+e+i,d=new XMLHttpRequest;d.onload=function(){var l=JSON.parse(this.responseText);s.debug&&console.log("Apple Pay Validation",l),t(l)},d.onerror=n,d.open("GET",o),d.send()})}log(e,t){var n=new XMLHttpRequest;n.open("GET","/ea-dataservice/rest/applepay/log?name="+e+"&msg="+t),n.send()}sendPaymentToken(e){return new Promise(function(t,n){t(!0)})}onPayClicked(){if(!this._form.submit)return;let e=document.querySelector("#en__field_transaction_paymenttype"),t=document.getElementById("applePayToken"),n=this._form;if(e.value=="applepay"&&t.value=="")try{let d=this._amount.amount+this._fees.fee;var r={supportedNetworks:Iu,merchantCapabilities:qu,countryCode:Du,currencyCode:Tu,total:{label:Bu,amount:d}},i=new el(1,r),o=this;return i.onvalidatemerchant=function(l){o.performValidation(l.validationURL).then(function(c){s.debug&&console.log("Apple Pay merchantSession",c),i.completeMerchantValidation(c)})},i.onpaymentauthorized=function(l){o.sendPaymentToken(l.payment.token).then(function(c){s.debug&&console.log("Apple Pay Token",l.payment.token),document.getElementById("applePayToken").value=JSON.stringify(l.payment.token),n.submitForm()})},i.oncancel=function(l){s.debug&&console.log("Cancelled",l),alert("You cancelled. Sorry it didn't work out."),n.dispatchError()},i.begin(),this._form.submit=!1,!1}catch(d){alert("Developer mistake: '"+d.message+"'"),n.dispatchError()}return this._form.submit=!0,!0}};var vr=class{constructor(){this.addRequired(),this.addLabel(),this.addGroupRole()}addGroupRole(){document.querySelectorAll(".en__field--radio").forEach(t=>{t.setAttribute("role","group");let n=t.querySelector("label");n&&(n.setAttribute("id",`en__field__label--${Math.random().toString(36).slice(2,7)}`),t.setAttribute("aria-labelledby",n.id))})}addRequired(){document.querySelectorAll(".en__mandatory .en__field__input").forEach(t=>{t.setAttribute("aria-required","true")})}addLabel(){let e=document.querySelector(".en__field__input--otheramount");e&&e.setAttribute("aria-label","Enter your custom donation amount"),document.querySelectorAll(".en__field__input--splitselect").forEach(n=>{var r,i,o,d;let l=n.querySelector("option");l&&l.value===""&&!(!((i=(r=l.textContent)===null||r===void 0?void 0:r.toLowerCase())===null||i===void 0)&&i.includes("select"))&&!(!((d=(o=l.textContent)===null||o===void 0?void 0:o.toLowerCase())===null||d===void 0)&&d.includes("choose"))&&n.setAttribute("aria-label",l.textContent||"")})}};var yr=class{constructor(){this._form=q.getInstance(),this._form.onSubmit.subscribe(()=>this.capitalizeFields("en__field_supporter_firstName","en__field_supporter_lastName","en__field_supporter_address1","en__field_supporter_city"))}capitalizeFields(...e){e.forEach(t=>this.capitalize(t))}capitalize(e){let t=document.getElementById(e);return t&&(t.value=t.value.replace(/\w\S*/g,n=>n.replace(/^\w/,r=>r.toUpperCase())),s.debug&&console.log("Capitalized",t.value)),!0}};var il=tt(rl()),wr=class{constructor(){if(this.logger=new S("CreditCard","#ccc84a","#333","\u{1F4B3}"),this._form=q.getInstance(),this.vgsField=document.querySelector(".en__field--vgs"),this.ccField=s.getField("transaction.ccnumber"),this.ccValues={"american-express":["amex","american express","americanexpress","american-express","amx","ax"],visa:["visa","vi"],mastercard:["mastercard","master card","mc"],discover:["discover","di"],"diners-club":["diners","diners club","dinersclub","dc"],jcb:["jcb"],unionpay:["unionpay","union pay","up"],maestro:["maestro"],elo:["elo"],mir:["mir"],hiper:["hiper","hipercard"]},this.isPotentiallyValid=!1,this.isValid=!1,this.field_expiration_month=null,this.field_expiration_year=null,this.paymentTypeField=s.getField("transaction.paymenttype"),this.handleExpUpdate=t=>{if(!this.field_expiration_month||!this.field_expiration_year)return;let n=new Date,r=n.getMonth()+1,i=parseInt(this.field_expiration_year[this.field_expiration_year.length-1].value)>2e3?n.getFullYear():n.getFullYear()-2e3;if(t=="month"){let o=parseInt(this.field_expiration_month.value),d=o<r;this.logger.log(`month disable ${d}`),this.logger.log(`selected_month ${o}`);for(let l=0;l<this.field_expiration_year.options.length;l++)parseInt(this.field_expiration_year.options[l].value)<=i&&(d?this.field_expiration_year.options[l].setAttribute("disabled","disabled"):this.field_expiration_year.options[l].disabled=!1)}else if(t=="year"){let o=parseInt(this.field_expiration_year.value),d=o==i;this.logger.log(`year disable ${d}`),this.logger.log(`selected_year ${o}`);for(let l=0;l<this.field_expiration_month.options.length;l++)parseInt(this.field_expiration_month.options[l].value)<r&&(d?this.field_expiration_month.options[l].setAttribute("disabled","disabled"):this.field_expiration_month.options[l].disabled=!1)}},this.vgsField){this.logger.log("The Page is Using VGS. Exiting Credit Card Handler");return}if(!this.ccField)return;this.ccField.type!=="hidden"&&(this.ccField.type="tel");let e=document.getElementsByName("transaction.ccexpire");e&&(this.field_expiration_month=e[0],this.field_expiration_year=e[1]),this._form.onSubmit.subscribe(()=>this.onlyNumbersCC()),this._form.onValidate.subscribe(()=>{this._form.validate&&(s.debug&&console.log("Engrid Credit Cards: onValidate"),this._form.validate=this.validate())}),this.addEventListeners(),this.handleCCUpdate()}addEventListeners(){["keyup","paste"].forEach(t=>{this.ccField.addEventListener(t,()=>this.handleCCUpdate())}),this.ccField.addEventListener("keydown",t=>{t.key===" "&&t.preventDefault()}),this.field_expiration_month&&this.field_expiration_year&&["change"].forEach(t=>{var n,r;(n=this.field_expiration_month)===null||n===void 0||n.addEventListener(t,()=>{this.handleExpUpdate("month")}),(r=this.field_expiration_year)===null||r===void 0||r.addEventListener(t,()=>{this.handleExpUpdate("year")})});let e=document.getElementsByName("transaction.giveBySelect");e&&e.forEach(t=>{t.addEventListener("change",()=>{t.value.toLowerCase()==="card"&&(this.logger.log("Handle credit card auto-update"),window.setTimeout(()=>{this.handleCCUpdate()},100))})})}onlyNumbersCC(){let e=this.ccField.value.replace(/\D/g,"");return this.ccField.value=e,!0}handleCCUpdate(){var e,t;let n=this.ccField.closest(".en__field--ccnumber")||document.querySelector(".en__field--ccnumber");if(!n){this.logger.log("Card Container Not Found");return}if(s.removeError(n),this.ccField.value.length<2){this.removeLiveCardTypeClasses(),this.clearPaymentTypeField();return}let r=il.number(this.ccField.value),i=(e=r.card)===null||e===void 0?void 0:e.type,o=(t=r.card)===null||t===void 0?void 0:t.niceType;if(this.isPotentiallyValid=r.isPotentiallyValid||!1,this.isValid=r.isValid||!1,this.removeLiveCardTypeClasses(),!this.isPotentiallyValid){s.setError(n,"Invalid Credit Card Number"),this.addLiveCardTypeClasses("invalid");return}if(!i){this.removeLiveCardTypeClasses(),this.clearPaymentTypeField();return}let d=this.getCardTypeFromPaymentTypeField(i);if(!d){s.setError(n,`Unsupported Credit Card Type: ${o}`),this.addLiveCardTypeClasses("invalid");return}if(this.addLiveCardTypeClasses(i),this.ccField.value=this.formatCCNumber(r.card),this.paymentTypeField.value!=d){this.logger.log(`card type ${i}`),this.paymentTypeField.value=d||"";let l=new Event("change",{bubbles:!0});this.paymentTypeField.dispatchEvent(l)}}formatCCNumber(e){let n=this.ccField.value.replace(/\D/g,""),r=e.gaps,i="";for(let o=0;o<n.length;o++)r.includes(o)&&(i+=" "),i+=n[o];return i}removeLiveCardTypeClasses(){let e="live-card-type-",t=this.ccField.className.split(" ").filter(n=>!n.startsWith(e));this.ccField.className=t.join(" ").trim()}addLiveCardTypeClasses(e){this.ccField.classList.add(`live-card-type-${e}`),e=="invalid"&&this.clearPaymentTypeField()}clearPaymentTypeField(){this.paymentTypeField.value="";let e=new Event("change",{bubbles:!0});this.paymentTypeField.dispatchEvent(e)}isCardSupported(e){return e in this.ccValues&&Array.from(this.paymentTypeField.options).filter(t=>this.ccValues[e].includes(t.value.toLowerCase())).length>0}getCardTypeFromPaymentTypeField(e){return this.isCardSupported(e)&&Array.from(this.paymentTypeField.options).filter(t=>this.ccValues[e].includes(t.value.toLowerCase()))[0].value||!1}isPaymentTypeCard(){let e=this.paymentTypeField.value.toLowerCase();return e===""||Object.keys(this.ccValues).some(t=>this.ccValues[t].includes(e))}validate(){if(this.isPaymentTypeCard()&&!this.isValid){let e=this.ccField.closest(".en__field--ccnumber")||document.querySelector(".en__field--ccnumber");return e&&window.setTimeout(()=>{s.setError(e,"Invalid Credit Card Number"),this.ccField.focus()},100),!1}return!0}};var xr=class{constructor(){if(this.yearField=document.querySelector("select[name='transaction.ccexpire']:not(#en__field_transaction_ccexpire)"),this.years=20,this.yearLength=2,this.yearField){this.clearFieldOptions();for(let e=0;e<this.years;e++){let t=new Date().getFullYear()+e,n=document.createElement("option"),r=document.createTextNode(t.toString());n.appendChild(r),n.value=this.yearLength==2?t.toString().substr(-2):t.toString(),this.yearField.appendChild(n)}}}clearFieldOptions(){this.yearField&&(this.yearLength=this.yearField.options[this.yearField.options.length-1].value.length,[...this.yearField.options].forEach(e=>{var t;if(e.value!==""&&!isNaN(Number(e.value))){let n=[...this.yearField.options].findIndex(r=>r.value===e.value);(t=this.yearField)===null||t===void 0||t.remove(n)}}))}};var kr=class{constructor(){this.logger=new S("Autocomplete","#330033","#f0f0f0","\u{1F4C7}"),this.autoCompleteField('[name="supporter.firstName"]',"given-name"),this.autoCompleteField('[name="supporter.lastName"]',"family-name"),this.autoCompleteField('[name="transaction.ccnumber"]',"cc-number"),this.autoCompleteField("#en__field_transaction_ccexpire","cc-exp-month"),this.autoCompleteField('[name="transaction.ccexpire"]:not(#en__field_transaction_ccexpire)',"cc-exp-year"),this.autoCompleteField('[name="transaction.ccvv"]',"cc-csc"),this.autoCompleteField('[name="supporter.emailAddress"]',"email"),this.autoCompleteField('[name="supporter.phoneNumber"]',"tel"),this.autoCompleteField('[name="supporter.country"]',"country"),this.autoCompleteField('[name="supporter.address1"]',"address-line1"),this.autoCompleteField('[name="supporter.address2"]',"address-line2"),this.autoCompleteField('[name="supporter.city"]',"address-level2"),this.autoCompleteField('[name="supporter.region"]',"address-level1"),this.autoCompleteField('[name="supporter.postcode"]',"postal-code"),this.autoCompleteField('[name="transaction.honname"]',"none"),this.autoCompleteField('[name="transaction.infemail"]',"none"),this.autoCompleteField('[name="transaction.infname"]',"none"),this.autoCompleteField('[name="transaction.infadd1"]',"none"),this.autoCompleteField('[name="transaction.infadd2"]',"none"),this.autoCompleteField('[name="transaction.infcity"]',"none"),this.autoCompleteField('[name="transaction.infpostcd"]',"none")}autoCompleteField(e,t){let n=document.querySelector(e);return n?(n.autocomplete=t,!0):(t!=="none"&&this.logger.log("Field Not Found",e),!1)}};var Er=class{constructor(){if(this._form=q.getInstance(),this.logger=new S("Ecard","red","#f5f5f5","\u{1FAAA}"),!this.shouldRun())return;this._form.onValidate.subscribe(()=>this.checkRecipientFields());let e=s.getUrlParameter("engrid_ecard.schedule"),t=s.getField("ecard.schedule"),n=s.getUrlParameter("engrid_ecard.name"),r=document.querySelector(".en__ecardrecipients__name input"),i=s.getUrlParameter("engrid_ecard.email"),o=document.querySelector(".en__ecardrecipients__email input");if(e&&t){let l=new Date(e.toString()),c=new Date;l.setHours(0,0,0,0)<c.setHours(0,0,0,0)?t.value=s.formatDate(c,"YYYY-MM-DD"):t.value=e.toString(),this.logger.log("Schedule set to "+t.value)}n&&r&&(r.value=n.toString(),this.logger.log("Name set to "+r.value)),i&&o&&(o.value=i.toString(),this.logger.log("Email set to "+o.value));let d=document.querySelector(".en__ecardrecipients__futureDelivery label");if(d){let l=document.createElement("h2");l.innerText=d.innerText,d.replaceWith(l)}o&&(o.setAttribute("type","email"),o.setAttribute("autocomplete","off"))}shouldRun(){return s.getPageType()==="ECARD"}checkRecipientFields(){let e=document.querySelector(".en__ecarditems__addrecipient");return e&&!document.querySelector(".ecardrecipient__email")&&e.click(),!0}};var Ar=class{constructor(){this.clickToExpandWrapper=document.querySelectorAll("div.click-to-expand"),this.clickToExpandWrapper.length&&this.clickToExpandWrapper.forEach(e=>{let n='<div class="click-to-expand-cta"></div><div class="click-to-expand-text-wrapper" tabindex="0">'+e.innerHTML+"</div>";e.innerHTML=n,e.addEventListener("click",r=>{r&&(s.debug&&console.log("A click-to-expand div was clicked"),e.classList.add("expanded"))}),e.addEventListener("keydown",r=>{r.key==="Enter"?(s.debug&&console.log("A click-to-expand div had the 'Enter' key pressed on it"),e.classList.add("expanded")):r.key===" "&&(s.debug&&console.log("A click-to-expand div had the 'Spacebar' key pressed on it"),e.classList.add("expanded"),r.preventDefault(),r.stopPropagation())})})}};var Sr=class{constructor(){this.logger=new S("Advocacy","#232323","#f7b500","\u{1F468}\u200D\u2696\uFE0F"),this.shoudRun()&&this.setClickableLabels()}shoudRun(){return["ADVOCACY","EMAILTOTARGET"].includes(s.getPageType())}setClickableLabels(){let e=document.querySelectorAll(".en__contactDetails__rows");e&&e.forEach(t=>{t.addEventListener("click",n=>{this.toggleCheckbox(t)})})}toggleCheckbox(e){let t=e.closest(".en__contactDetails");if(!t)return;let n=t.querySelector("input[type='checkbox']");n&&(this.logger.log("toggleCheckbox",n.checked),n.checked=!n.checked)}};var Cr=class{constructor(){this.setDataAttributes()}setDataAttributes(){s.checkNested(window,"pageJson","pageType")&&s.setBodyData("page-type",window.pageJson.pageType),s.setBodyData("currency-code",s.getCurrencyCode()),document.querySelector(".body-banner img, .body-banner video")||s.setBodyData("body-banner","empty"),document.querySelector(".page-alert *")||s.setBodyData("no-page-alert",""),document.querySelector(".content-header *")||s.setBodyData("no-content-header",""),document.querySelector(".body-headerOutside *")||s.setBodyData("no-body-headerOutside",""),document.querySelector(".body-header *")||s.setBodyData("no-body-header",""),document.querySelector(".body-title *")||s.setBodyData("no-body-title",""),document.querySelector(".body-banner *")||s.setBodyData("no-body-banner",""),document.querySelector(".body-bannerOverlay *")||s.setBodyData("no-body-bannerOverlay",""),document.querySelector(".body-top *")||s.setBodyData("no-body-top",""),document.querySelector(".body-main *")||s.setBodyData("no-body-main",""),document.querySelector(".body-bottom *")||s.setBodyData("no-body-bottom",""),document.querySelector(".body-footer *")||s.setBodyData("no-body-footer",""),document.querySelector(".body-footerOutside *")||s.setBodyData("no-body-footerOutside",""),document.querySelector(".content-footerSpacer *")||s.setBodyData("no-content-footerSpacer",""),document.querySelector(".content-preFooter *")||s.setBodyData("no-content-preFooter",""),document.querySelector(".content-footer *")||s.setBodyData("no-content-footer",""),document.querySelector(".page-backgroundImage img, .page-backgroundImage video")||s.setBodyData("no-page-backgroundImage",""),document.querySelector(".page-backgroundImageOverlay *")||s.setBodyData("no-page-backgroundImageOverlay",""),document.querySelector(".page-customCode *")||s.setBodyData("no-page-customCode","");let e=document.querySelector("#en__field_supporter_country");e&&(s.setBodyData("country",e.value),e.addEventListener("change",()=>{s.setBodyData("country",e.value)}));let t=document.querySelector(".en__field--donationAmt .en__field__item--other");t&&t.setAttribute("data-currency-symbol",s.getCurrencySymbol());let n=s.getField("transaction.paymenttype");n&&(s.setBodyData("payment-type",n.value),n.addEventListener("change",()=>{s.setBodyData("payment-type",n.value)}));let r=document.querySelector(".content-footer");r&&s.isInViewport(r)?s.setBodyData("footer-above-fold",""):s.setBodyData("footer-below-fold",""),s.demo&&s.setBodyData("demo","")}};var Or=class{constructor(){if(this._form=q.getInstance(),this.logger=new S("iFrame","brown","gray","\u{1F4E1}"),this.inIframe()){s.setBodyData("embedded",""),this.logger.log("iFrame Event - Begin Resizing"),window.addEventListener("load",t=>{this.logger.log("iFrame Event - window.onload"),this.sendIframeHeight(),window.parent.postMessage({scroll:this.shouldScroll()},"*"),document.addEventListener("click",n=>{this.logger.log("iFrame Event - click"),setTimeout(()=>{this.sendIframeHeight()},100)})}),window.setTimeout(()=>{this.sendIframeHeight()},300),window.addEventListener("resize",this.debounceWithImmediate(()=>{this.logger.log("iFrame Event - window resized"),this.sendIframeHeight()})),this._form.onSubmit.subscribe(t=>{this.logger.log("iFrame Event - onSubmit"),this.sendIframeFormStatus("submit")}),this.isChained()&&this.hasPayment()&&(this.logger.log("iFrame Event - Chained iFrame"),this.sendIframeFormStatus("chained"),this.hideFormComponents(),this.addChainedBanner());let e=document.querySelector(".skip-link");e&&e.remove(),this._form.onError.subscribe(()=>{let t=document.querySelector(".en__field--validationFailed"),n=t?t.getBoundingClientRect().top:0;this.logger.log(`iFrame Event 'scrollTo' - Position of top of first error ${n} px`),window.parent.postMessage({scrollTo:n},"*")})}else this._form.onError.subscribe(()=>{let e=document.querySelector(".en__field--validationFailed");e&&e.scrollIntoView({behavior:"smooth"})}),window.addEventListener("message",e=>{let t=this.getIFrameByEvent(e);if(t){if(e.data.hasOwnProperty("frameHeight"))t.style.height=e.data.frameHeight+"px";else if(e.data.hasOwnProperty("scroll")&&e.data.scroll>0){let r=window.pageYOffset+t.getBoundingClientRect().top+e.data.scroll;window.scrollTo({top:r,left:0,behavior:"smooth"}),this.logger.log("iFrame Event - Scrolling Window to "+r)}else if(e.data.hasOwnProperty("scrollTo")){let n=e.data.scrollTo+window.scrollY+t.getBoundingClientRect().top;window.scrollTo({top:n,left:0,behavior:"smooth"}),this.logger.log("iFrame Event - Scrolling Window to "+n)}}})}sendIframeHeight(){let e=document.body.offsetHeight;this.logger.log("iFrame Event - Sending iFrame height of: "+e+"px"),window.parent.postMessage({frameHeight:e,pageNumber:s.getPageNumber(),pageCount:s.getPageCount(),giftProcess:s.getGiftProcess()},"*")}sendIframeFormStatus(e){window.parent.postMessage({status:e,pageNumber:s.getPageNumber(),pageCount:s.getPageCount(),giftProcess:s.getGiftProcess()},"*")}getIFrameByEvent(e){return[].slice.call(document.getElementsByTagName("iframe")).filter(t=>t.contentWindow===e.source)[0]}shouldScroll(){if(document.querySelector(".en__errorHeader"))return!0;if(this.isChained())return!1;let e=document.referrer;return new RegExp(/^(.*)\/(page)\/(\d+.*)/).test(e)}inIframe(){try{return window.self!==window.top}catch{return!0}}isChained(){return!!s.getUrlParameter("chain")}hasPayment(){let e=s.getFieldValue("transaction.paymenttype"),t=s.getFieldValue("transaction.ccnumber");return e||t}hideFormComponents(){this.logger.log("iFrame Event - Hiding Form Components");let e=document.querySelectorAll(".body-main > div");e.forEach((t,n)=>{t.classList.contains("hide")===!1&&t.classList.contains("hide-iframe")===!1&&t.classList.contains("radio-to-buttons_donationAmt")===!1&&n<e.length-1&&(t.classList.add("hide-iframe"),t.classList.add("hide-chained"))}),this.sendIframeHeight()}showFormComponents(){this.logger.log("iFrame Event - Showing Form Components"),document.querySelectorAll(".body-main > div.hide-chained").forEach(t=>{t.classList.remove("hide-iframe"),t.classList.remove("hide-chained")}),this.sendIframeHeight()}addChainedBanner(){var e,t;this.logger.log("iFrame Event - Adding Chained Banner");let n=document.createElement("div"),r=document.querySelector(".body-main > div:last-of-type");n.classList.add("en__component"),n.classList.add("en__component--banner"),n.classList.add("en__component--banner--chained"),n.innerHTML=`<div class="en__component__content"><div class="en__component__content__inner"><div class="en__component__content__text"><p>
      Giving as <strong>${s.getFieldValue("supporter.firstName")} ${s.getFieldValue("supporter.lastName")}</strong> 
      with <strong>${s.getFieldValue("transaction.paymenttype").toUpperCase()}</strong>
      (<a href="#" class="en__component__content__link">change</a>)</p></div></div></div>`,(e=r?.parentNode)===null||e===void 0||e.insertBefore(n,r),(t=n.querySelector(".en__component__content__link"))===null||t===void 0||t.addEventListener("click",i=>{i.preventDefault(),this.showFormComponents(),n.remove()})}debounceWithImmediate(e,t=1e3){let n,r=!0;return(...i)=>{clearTimeout(n),r&&(e.apply(this,i),r=!1),n=setTimeout(()=>{e.apply(this,i),r=!0},t)}}};var Fr=class{constructor(){this.logger=new S("InputHasValueAndFocus","yellow","#333","\u{1F308}"),this.formInputs=document.querySelectorAll(".en__field--text, .en__field--email:not(.en__field--checkbox), .en__field--telephone, .en__field--number, .en__field--textarea, .en__field--select, .en__field--checkbox"),this.shouldRun()&&this.run()}shouldRun(){return this.formInputs.length>0}run(){this.formInputs.forEach(e=>{let t=e.querySelector("input, textarea, select");t&&t.value&&e.classList.add("has-value"),this.bindEvents(e)})}bindEvents(e){let t=e.querySelector("input, textarea, select");t&&(t.addEventListener("focus",()=>{this.log("Focus added",t),e.classList.add("has-focus")}),t.addEventListener("blur",()=>{this.log("Focus removed",t),e.classList.remove("has-focus")}),t.addEventListener("input",()=>{t.value?(this.log("Value added",t),e.classList.add("has-value")):(this.log("Value removed",t),e.classList.remove("has-value"))}))}log(e,t){this.logger.log(`${e} on ${t.name}: ${t.value}`)}};var Lr=class{constructor(){if(this.defaultPlaceholders={"input#en__field_supporter_firstName":"First Name","input#en__field_supporter_lastName":"Last Name","input#en__field_supporter_emailAddress":"Email Address","input#en__field_supporter_phoneNumber":"Phone Number (Optional)",".en__mandatory input#en__field_supporter_phoneNumber":"Phone Number","input#en__field_supporter_phoneNumber2":"000-000-0000 (Optional)",".en__mandatory input#en__field_supporter_phoneNumber2":"000-000-0000","input#en__field_supporter_country":"Country","input#en__field_supporter_address1":"Street Address","input#en__field_supporter_address2":"Apt., Ste., Bldg.","input#en__field_supporter_city":"City","input#en__field_supporter_region":"Region","input#en__field_supporter_postcode":"ZIP Code",".en__field--donationAmt.en__field--withOther .en__field__input--other":"Other","input#en__field_transaction_ccnumber":"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022","input#en__field_transaction_ccexpire":"MM / YY","input#en__field_transaction_ccvv":"CVV","input#en__field_supporter_bankAccountNumber":"Bank Account Number","input#en__field_supporter_bankRoutingNumber":"Bank Routing Number","input#en__field_transaction_honname":"Honoree Name","input#en__field_transaction_infname":"Recipient Name","input#en__field_transaction_infemail":"Recipient Email Address","input#en__field_transaction_infcountry":"Country","input#en__field_transaction_infadd1":"Recipient Street Address","input#en__field_transaction_infadd2":"Recipient Apt., Ste., Bldg.","input#en__field_transaction_infcity":"Recipient City","input#en__field_transaction_infpostcd":"Recipient Postal Code","input#en__field_transaction_gftrsn":"Reason for your gift","input#en__field_transaction_shipfname":"Shipping First Name","input#en__field_transaction_shiplname":"Shipping Last Name","input#en__field_transaction_shipemail":"Shipping Email Address","input#en__field_transaction_shipcountry":"Shipping Country","input#en__field_transaction_shipadd1":"Shipping Street Address","input#en__field_transaction_shipadd2":"Shipping Apt., Ste., Bldg.","input#en__field_transaction_shipcity":"Shipping City","input#en__field_transaction_shipregion":"Shipping Region","input#en__field_transaction_shippostcode":"Shipping Postal Code","input#en__field_supporter_billingCountry":"Billing Country","input#en__field_supporter_billingAddress1":"Billing Street Address","input#en__field_supporter_billingAddress2":"Billing Apt., Ste., Bldg.","input#en__field_supporter_billingCity":"Billing City","input#en__field_supporter_billingRegion":"Billing Region","input#en__field_supporter_billingPostcode":"Billing Postal Code"},this.shouldRun()){let e=s.getOption("Placeholders");e&&(this.defaultPlaceholders=Object.assign(Object.assign({},this.defaultPlaceholders),e)),this.run()}}shouldRun(){return s.hasBodyData("add-input-placeholders")}run(){Object.keys(this.defaultPlaceholders).forEach(e=>{e in this.defaultPlaceholders&&this.addPlaceholder(e,this.defaultPlaceholders[e])})}addPlaceholder(e,t){let n=document.querySelector(e);n&&(n.placeholder=t)}};var pp=Sa().default,Dr=class{constructor(){this.mediaWithAttribution=document.querySelectorAll("img[data-attribution-source]:not([data-attribution-hide-overlay]), video[data-attribution-source]:not([data-attribution-hide-overlay])"),this.mediaWithAttribution.forEach(e=>{s.debug&&console.log("The following image was found with data attribution fields on it. It's markup will be changed to add caption support.",e);let t=document.createElement("figure");t.classList.add("media-with-attribution");let n=e.parentNode;if(n){n.insertBefore(t,e),t.appendChild(e);let r=e,i=r.dataset.attributionSource;if(i){let o=r.dataset.attributionSourceLink;o?r.insertAdjacentHTML("afterend",'<figattribution><a href="'+decodeURIComponent(o)+'" target="_blank" tabindex="-1">'+i+"</a></figure>"):r.insertAdjacentHTML("afterend","<figattribution>"+i+"</figure>");let d="attributionSourceTooltip"in r.dataset?r.dataset.attributionSourceTooltip:!1;d&&pp(r.nextSibling,{content:d,arrow:!0,arrowType:"default",placement:"left",trigger:"click mouseenter focus",interactive:!0})}}})}};var Tr=class{constructor(e){var t;this._amount=V.getInstance(),this._fees=Ee.getInstance(),this._frequency=Z.getInstance(),this._form=q.getInstance(),this.multiplier=1/12,this.options=Object.assign(Object.assign({},At),e),this.submitLabel=((t=document.querySelector(".en__submit button"))===null||t===void 0?void 0:t.innerHTML)||"Donate",this._amount.onAmountChange.subscribe(()=>this.changeSubmitButton()),this._amount.onAmountChange.subscribe(()=>this.changeLiveAmount()),this._amount.onAmountChange.subscribe(()=>this.changeLiveUpsellAmount()),this._fees.onFeeChange.subscribe(()=>this.changeLiveAmount()),this._fees.onFeeChange.subscribe(()=>this.changeLiveUpsellAmount()),this._fees.onFeeChange.subscribe(()=>this.changeSubmitButton()),this._frequency.onFrequencyChange.subscribe(()=>this.changeLiveFrequency()),this._frequency.onFrequencyChange.subscribe(()=>this.changeRecurrency()),this._frequency.onFrequencyChange.subscribe(()=>this.changeSubmitButton()),this._form.onSubmit.subscribe(()=>{s.getPageType()!=="SUPPORTERHUB"&&s.disableSubmit("Processing...")}),this._form.onError.subscribe(()=>s.enableSubmit()),document.addEventListener("click",n=>{let r=n.target;r&&(r.classList.contains("monthly-upsell")?this.upsold(n):r.classList.contains("form-submit")&&(n.preventDefault(),this._form.submitForm()))})}getAmountTxt(e=0){var t,n,r,i;let o=(t=s.getCurrencySymbol())!==null&&t!==void 0?t:"$",d=(n=this.options.DecimalSeparator)!==null&&n!==void 0?n:".",l=(r=this.options.ThousandsSeparator)!==null&&r!==void 0?r:"",c=e%1==0?0:(i=this.options.DecimalPlaces)!==null&&i!==void 0?i:2,u=s.formatNumber(e,c,d,l);return e>0?`<span class="live-variable-currency">${o}</span><span class="live-variable-amount">${u}</span>`:""}getUpsellAmountTxt(e=0){var t,n,r,i;let o=(t=s.getCurrencySymbol())!==null&&t!==void 0?t:"$",d=(n=this.options.DecimalSeparator)!==null&&n!==void 0?n:".",l=(r=this.options.ThousandsSeparator)!==null&&r!==void 0?r:"",c=e%1==0?0:(i=this.options.DecimalPlaces)!==null&&i!==void 0?i:2,u=s.formatNumber(Math.ceil(e/5)*5,c,d,l);return e>0?o+u:""}getUpsellAmountRaw(e=0){let t=Math.ceil(e/5)*5;return e>0?t.toString():""}changeSubmitButton(){let e=document.querySelector(".en__submit button"),t=this.getAmountTxt(this._amount.amount+this._fees.fee),n=this._frequency.frequency=="onetime"?"":this._frequency.frequency=="annual"?"annually":this._frequency.frequency,r=this.submitLabel;t?(r=r.replace("$AMOUNT",t),r=r.replace("$FREQUENCY",`<span class="live-variable-frequency">${n}</span>`)):(r=r.replace("$AMOUNT",""),r=r.replace("$FREQUENCY","")),e&&r&&(e.innerHTML=r)}changeLiveAmount(){let e=this._amount.amount+this._fees.fee;document.querySelectorAll(".live-giving-amount").forEach(n=>n.innerHTML=this.getAmountTxt(e))}changeLiveUpsellAmount(){let e=(this._amount.amount+this._fees.fee)*this.multiplier;document.querySelectorAll(".live-giving-upsell-amount").forEach(r=>r.innerHTML=this.getUpsellAmountTxt(e)),document.querySelectorAll(".live-giving-upsell-amount-raw").forEach(r=>r.innerHTML=this.getUpsellAmountRaw(e))}changeLiveFrequency(){document.querySelectorAll(".live-giving-frequency").forEach(t=>t.innerHTML=this._frequency.frequency=="onetime"?"":this._frequency.frequency)}changeRecurrency(){let e=document.querySelector("[name='transaction.recurrpay']");if(e&&e.type!="radio"){e.value=this._frequency.frequency=="onetime"?"N":"Y",this._frequency.recurring=e.value,s.getOption("Debug")&&console.log("Recurpay Changed!");let t=new Event("change",{bubbles:!0});e.dispatchEvent(t)}}upsold(e){let t=document.querySelector(".en__field--recurrpay input[value='Y']");t&&(t.checked=!0);let n=document.querySelector(".en__field--donationAmt input[value='other']");n&&(n.checked=!0);let r=document.querySelector("input[name='transaction.donationAmt.other']");r&&(r.value=this.getUpsellAmountRaw(this._amount.amount*this.multiplier),this._amount.load(),this._frequency.load(),r.parentElement&&r.parentElement.classList.remove("en__field__item--hidden"));let i=e.target;i&&i.classList.contains("form-submit")&&(e.preventDefault(),this._form.submitForm())}};var Ir=class{constructor(){this.overlay=document.createElement("div"),this._form=q.getInstance(),this._amount=V.getInstance(),this._fees=Ee.getInstance(),this._frequency=Z.getInstance(),this._dataLayer=_t.getInstance(),this.logger=new S("UpsellLightbox","black","pink","\u{1FA9F}");let e="EngridUpsell"in window?window.EngridUpsell:{};if(this.options=Object.assign(Object.assign({},Ri),e),this.options.disablePaymentMethods.push("applepay"),!this.shouldRun()){this.logger.log("Upsell script should NOT run");return}this.overlay.id="enModal",this.overlay.classList.add("is-hidden"),this.overlay.classList.add("image-"+this.options.imagePosition),this.renderLightbox(),this._form.onSubmit.subscribe(()=>this.open())}renderLightbox(){let e=this.options.title.replace("{new-amount}","<span class='upsell_suggestion'></span>").replace("{old-amount}","<span class='upsell_amount'></span>").replace("{old-frequency}","<span class='upsell_frequency'></span>"),t=this.options.paragraph.replace("{new-amount}","<span class='upsell_suggestion'></span>").replace("{old-amount}","<span class='upsell_amount'></span>").replace("{old-frequency}","<span class='upsell_frequency'></span>"),n=this.options.yesLabel.replace("{new-amount}","<span class='upsell_suggestion'></span>").replace("{old-amount}","<span class='upsell_amount'></span>").replace("{old-frequency}","<span class='upsell_frequency'></span>"),r=this.options.noLabel.replace("{new-amount}","<span class='upsell_suggestion'></span>").replace("{old-amount}","<span class='upsell_amount'></span>").replace("{old-frequency}","<span class='upsell_frequency'></span>"),i=`
            <div class="upsellLightboxContainer" id="goMonthly">
              <!-- ideal image size is 480x650 pixels -->
              <div class="background" style="background-image: url('${this.options.image}');"></div>
              <div class="upsellLightboxContent">
              ${this.options.canClose?'<span id="goMonthlyClose"></span>':""}
                <h1>
                  ${e}
                </h1>
                ${this.options.otherAmount?`
                <div class="upsellOtherAmount">
                  <div class="upsellOtherAmountLabel">
                    <p>
                      ${this.options.otherLabel}
                    </p>
                  </div>
                  <div class="upsellOtherAmountInput">
                    <input href="#" id="secondOtherField" name="secondOtherField" type="text" value="" inputmode="decimal" aria-label="Enter your custom donation amount" autocomplete="off" data-lpignore="true" aria-required="true" size="12">
                    <small>Minimum ${this.getAmountTxt(this.options.minAmount)}</small>
                  </div>
                </div>
                `:""}

                <p>
                  ${t}
                </p>
                <!-- YES BUTTON -->
                <div id="upsellYesButton">
                  <a class="pseduo__en__submit_button" href="#">
                    <div>
                    <span class='loader-wrapper'><span class='loader loader-quart'></span></span>
                    <span class='label'>${n}</span>
                    </div>
                  </a>
                </div>
                <!-- NO BUTTON -->
                <div id="upsellNoButton">
                  <button title="Close (Esc)" type="button">
                    <div>
                    <span class='loader-wrapper'><span class='loader loader-quart'></span></span>
                    <span class='label'>${r}</span>
                    </div>
                  </button>
                </div>
              </div>
            </div>
            `;this.overlay.innerHTML=i;let o=this.overlay.querySelector("#goMonthlyClose"),d=this.overlay.querySelector("#upsellYesButton a"),l=this.overlay.querySelector("#upsellNoButton button");d.addEventListener("click",this.continue.bind(this)),l.addEventListener("click",this.continue.bind(this)),o&&o.addEventListener("click",this.close.bind(this)),this.overlay.addEventListener("click",u=>{u.target instanceof Element&&u.target.id==this.overlay.id&&this.options.canClose&&this.close(u)}),document.addEventListener("keyup",u=>{u.key==="Escape"&&o&&o.click()}),document.body.appendChild(this.overlay);let c=document.querySelector("#secondOtherField");c&&c.addEventListener("keyup",this.popupOtherField.bind(this)),this.logger.log("Upsell script rendered")}shouldRun(){return!this.shouldSkip()&&"EngridUpsell"in window&&!!window.pageJson&&window.pageJson.pageNumber==1&&["donation","premiumgift"].includes(window.pageJson.pageType)}shouldSkip(){return"EngridUpsell"in window&&window.EngridUpsell.skipUpsell?!0:this.options.skipUpsell}popupOtherField(){var e,t;let n=parseFloat((t=(e=this.overlay.querySelector("#secondOtherField"))===null||e===void 0?void 0:e.value)!==null&&t!==void 0?t:""),r=document.querySelectorAll("#upsellYesButton .upsell_suggestion"),i=this.getUpsellAmount();!isNaN(n)&&n>0?this.checkOtherAmount(n):this.checkOtherAmount(i),r.forEach(o=>o.innerHTML=this.getAmountTxt(i+this._fees.calculateFees(i)))}liveAmounts(){let e=document.querySelectorAll(".upsell_suggestion"),t=document.querySelectorAll(".upsell_amount"),n=this.getUpsellAmount(),r=n+this._fees.calculateFees(n);e.forEach(i=>i.innerHTML=this.getAmountTxt(r)),t.forEach(i=>i.innerHTML=this.getAmountTxt(this._amount.amount+this._fees.fee))}liveFrequency(){document.querySelectorAll(".upsell_frequency").forEach(t=>t.innerHTML=this.getFrequencyTxt())}getUpsellAmount(){var e,t;let n=this._amount.amount,r=parseFloat((t=(e=this.overlay.querySelector("#secondOtherField"))===null||e===void 0?void 0:e.value)!==null&&t!==void 0?t:"");if(r>0)return r>this.options.minAmount?r:this.options.minAmount;let i=0;for(let o=0;o<this.options.amountRange.length;o++){let d=this.options.amountRange[o];if(i==0&&n<=d.max){if(i=d.suggestion,i===0)return 0;if(typeof i!="number"){let l=i.replace("amount",n.toFixed(2));i=parseFloat(Function('"use strict";return ('+l+")")())}break}}return i>this.options.minAmount?i:this.options.minAmount}shouldOpen(){let e=this.getUpsellAmount(),t=s.getFieldValue("transaction.paymenttype")||"";return this.freqAllowed()&&!this.shouldSkip()&&!this.options.disablePaymentMethods.includes(t.toLowerCase())&&!this.overlay.classList.contains("is-submitting")&&e>0?(this.logger.log("Upsell Frequency "+this._frequency.frequency),this.logger.log("Upsell Amount "+this._amount.amount),this.logger.log("Upsell Suggested Amount "+e),!0):!1}freqAllowed(){let e=this._frequency.frequency,t=[];return this.options.oneTime&&t.push("onetime"),this.options.annual&&t.push("annual"),t.includes(e)}open(){if(this.logger.log("Upsell script opened"),!this.shouldOpen()){let e=window.sessionStorage.getItem("original");return e&&document.querySelectorAll(".en__errorList .en__error").length>0&&this.setOriginalAmount(e),this._form.submit=!0,!0}return this.liveAmounts(),this.liveFrequency(),this.overlay.classList.remove("is-hidden"),this._form.submit=!1,s.setBodyData("has-lightbox",""),!1}setOriginalAmount(e){if(this.options.upsellOriginalGiftAmountFieldName){let t=document.querySelector(".en__field__input.en__field__input--hidden[name='"+this.options.upsellOriginalGiftAmountFieldName+"']");if(!t){let n=document.querySelector("form.en__component--page");if(n){let r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name",this.options.upsellOriginalGiftAmountFieldName),r.classList.add("en__field__input","en__field__input--hidden"),n.appendChild(r),t=document.querySelector('.en__field__input.en__field__input--hidden[name="'+this.options.upsellOriginalGiftAmountFieldName+'"]')}}t&&(window.sessionStorage.setItem("original",e),t.setAttribute("value",e))}}continue(e){var t;if(e.preventDefault(),e.target instanceof Element&&(!((t=document.querySelector("#upsellYesButton"))===null||t===void 0)&&t.contains(e.target))){this.logger.success("Upsold"),this.setOriginalAmount(this._amount.amount.toString());let n=this.getUpsellAmount(),r=this._amount.amount;this._frequency.setFrequency("monthly"),this._amount.setAmount(n),this._dataLayer.addEndOfGiftProcessEvent("ENGRID_UPSELL",{eventValue:!0,originalAmount:r,upsoldAmount:n,frequency:"monthly"}),this._dataLayer.addEndOfGiftProcessVariable("ENGRID_UPSELL",!0),this._dataLayer.addEndOfGiftProcessVariable("ENGRID_UPSELL_ORIGINAL_AMOUNT",r),this._dataLayer.addEndOfGiftProcessVariable("ENGRID_UPSELL_DONATION_FREQUENCY","MONTHLY")}else this.setOriginalAmount(""),window.sessionStorage.removeItem("original"),this._dataLayer.addEndOfGiftProcessVariable("ENGRID_UPSELL",!1),this._dataLayer.addEndOfGiftProcessVariable("ENGRID_UPSELL_DONATION_FREQUENCY","ONE-TIME");this._form.submitForm()}close(e){e.preventDefault(),this.overlay.classList.add("is-hidden"),s.setBodyData("has-lightbox",!1),this.options.submitOnClose?this._form.submitForm():this._form.dispatchError()}getAmountTxt(e=0){var t,n,r,i;let o=(t=s.getCurrencySymbol())!==null&&t!==void 0?t:"$",d=(n=s.getOption("DecimalSeparator"))!==null&&n!==void 0?n:".",l=(r=s.getOption("ThousandsSeparator"))!==null&&r!==void 0?r:"",c=e%1==0?0:(i=s.getOption("DecimalPlaces"))!==null&&i!==void 0?i:2,u=s.formatNumber(e,c,d,l);return e>0?o+u:""}getFrequencyTxt(){let e={onetime:"one-time",monthly:"monthly",annual:"annual"},t=this._frequency.frequency;return t in e?e[t]:t}checkOtherAmount(e){let t=document.querySelector(".upsellOtherAmountInput");t&&(e>=this.options.minAmount?t.classList.remove("is-invalid"):t.classList.add("is-invalid"))}};var Ye=class{constructor(e,t){this.logger=new S("ShowHideRadioCheckboxes","black","lightblue","\u{1F441}"),this.elements=document.getElementsByName(e),this.classes=t,this.createDataAttributes(),this.hideAll();for(let n=0;n<this.elements.length;n++){let r=this.elements[n];r.checked&&this.show(r),r.addEventListener("change",i=>{this.hideAll(),this.show(r)})}}createDataAttributes(){this.elements.forEach(e=>{if(e instanceof HTMLInputElement){let t=e.value.replace(/\W/g,"");document.querySelectorAll("."+this.classes+t).forEach(n=>{if(n instanceof HTMLElement){let r=n.querySelectorAll("input[type='text'], input[type='number'], input[type='email'], select, textarea");r.length>0&&r.forEach(i=>{(i instanceof HTMLInputElement||i instanceof HTMLSelectElement)&&(i.hasAttribute("data-original-value")||i.setAttribute("data-original-value",i.value),i.hasAttribute("data-value")||i.setAttribute("data-value",i.value))})}})}})}hideAll(){this.elements.forEach((e,t)=>{e instanceof HTMLInputElement&&this.hide(e)})}hide(e){let t=e.value.replace(/\W/g,"");document.querySelectorAll("."+this.classes+t).forEach(n=>{n instanceof HTMLElement&&(this.toggleValue(n,"hide"),n.style.display="none",this.logger.log("Hiding",n))})}show(e){let t=e.value.replace(/\W/g,"");document.querySelectorAll("."+this.classes+t).forEach(n=>{n instanceof HTMLElement&&(this.toggleValue(n,"show"),n.style.display="",this.logger.log("Showing",n))}),e.type=="checkbox"&&!e.checked&&this.hide(e)}toggleValue(e,t){if(t=="hide"&&!s.isVisible(e))return;this.logger.log(`toggleValue: ${t}`);let n=e.querySelectorAll("input[type='text'], input[type='number'], input[type='email'], select, textarea");n.length>0&&n.forEach(r=>{var i;if((r instanceof HTMLInputElement||r instanceof HTMLSelectElement)&&r.name){let o=s.getFieldValue(r.name),d=r.getAttribute("data-original-value"),l=(i=r.getAttribute("data-value"))!==null&&i!==void 0?i:"";t==="hide"?(r.setAttribute("data-value",o),s.setFieldValue(r.name,d)):s.setFieldValue(r.name,l)}})}};function It(a,e){if(!e)return"";let t="; "+a;return e===!0?t:t+"="+e}function gp(a){if(typeof a.expires=="number"){let e=new Date;e.setMilliseconds(e.getMilliseconds()+a.expires*864e5),a.expires=e}return It("Expires",a.expires?a.expires.toUTCString():"")+It("Domain",a.domain)+It("Path",a.path)+It("Secure",a.secure)+It("SameSite",a.sameSite)}function mp(a,e,t){return encodeURIComponent(a).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(e).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+gp(t)}function fp(a){let e={},t=a?a.split("; "):[],n=/(%[\dA-F]{2})+/gi;for(let r=0;r<t.length;r++){let i=t[r].split("="),o=i.slice(1).join("=");o.charAt(0)==='"'&&(o=o.slice(1,-1));try{let d=i[0].replace(n,decodeURIComponent);e[d]=o.replace(n,decodeURIComponent)}catch{}}return e}function hp(){return fp(document.cookie)}function Ke(a){return hp()[a]}function wt(a,e,t){document.cookie=mp(a,e,Object.assign({path:"/"},t))}var qr=class{constructor(){this.countryToStateFields={"supporter.country":"supporter.region","transaction.shipcountry":"transaction.shipregion","supporter.billingCountry":"supporter.billingRegion","transaction.infcountry":"transaction.infreg"},this.countriesSelect=document.querySelectorAll('select[name="supporter.country"], select[name="transaction.shipcountry"], select[name="supporter.billingCountry"], select[name="transaction.infcountry"]');let e="EngridTranslate"in window?window.EngridTranslate:{};if(this.options=Ui,e)for(let n in e)this.options[n]=this.options[n]?[...this.options[n],...e[n]]:e[n];let t={};if(this.countriesSelect&&(this.countriesSelect.forEach(r=>{r.addEventListener("change",this.translateFields.bind(this,r.name)),r.value&&(t[r.name]=r.value);let i=document.querySelector(`select[name="${this.countryToStateFields[r.name]}"]`);i&&(i.addEventListener("change",this.rememberState.bind(this,r.name)),i.value&&(t[i.name]=i.value))}),this.translateFields("supporter.country"),!!!(s.checkNested(window.EngagingNetworks,"require","_defined","enjs","checkSubmissionFailed")&&window.EngagingNetworks.require._defined.enjs.checkSubmissionFailed())))for(let r in t)s.setFieldValue(r,t[r],!1)}translateFields(e="supporter.country"){this.resetTranslatedFields();let t=s.getFieldValue(e);if(this.setStateField(t,this.countryToStateFields[e]),e==="supporter.country"){t in this.options&&this.options[t].forEach(r=>{this.translateField(r.field,r.translation)});let n=document.querySelectorAll(".recipient-block");if(n.length)switch(t){case"FR":case"FRA":case"France":n.forEach(r=>r.innerHTML="\xC0:");break;case"DE":case"DEU":case"Germany":n.forEach(r=>r.innerHTML="Zu:");break;case"NL":case"NLD":case"Netherlands":n.forEach(r=>r.innerHTML="Aan:");break}}}translateField(e,t){let n=document.querySelector(`[name="${e}"]`);if(n){let r=n.closest(".en__field");if(r){let i=r.querySelector(".en__field__label"),o=i.querySelector(".engrid-simple-country"),d=o?o.cloneNode(!0):null;n instanceof HTMLInputElement&&n.placeholder!=""&&(!i||i.innerHTML==n.placeholder)&&(n.dataset.original=n.placeholder,n.placeholder=t),i&&(i.dataset.original=i.innerHTML,i.innerHTML=t,d&&i.appendChild(d))}}}resetTranslatedFields(){document.querySelectorAll("[data-original]").forEach(t=>{if(t instanceof HTMLInputElement&&t.dataset.original)t.placeholder=t.dataset.original;else{let n=t.querySelector(".engrid-simple-country"),r=n?n.cloneNode(!0):null;t.innerHTML=t.dataset.original,r&&t.appendChild(r)}t.removeAttribute("data-original")})}setStateField(e,t){switch(e){case"ES":case"ESP":case"Spain":this.setStateValues(t,"Provincia",null);break;case"BR":case"BRA":case"Brazil":this.setStateValues(t,"Estado",null);break;case"FR":case"FRA":case"France":this.setStateValues(t,"R\xE9gion",null);break;case"GB":case"GBR":case"United Kingdom":this.setStateValues(t,"State/Region",null);break;case"DE":case"DEU":case"Germany":this.setStateValues(t,"Bundesland",null);break;case"NL":case"NLD":case"Netherlands":this.setStateValues(t,"Provincie",null);break;case"AU":case"AUS":this.setStateValues(t,"Province / State",[{label:"Select",value:""},{label:"New South Wales",value:"NSW"},{label:"Victoria",value:"VIC"},{label:"Queensland",value:"QLD"},{label:"South Australia",value:"SA"},{label:"Western Australia",value:"WA"},{label:"Tasmania",value:"TAS"},{label:"Northern Territory",value:"NT"},{label:"Australian Capital Territory",value:"ACT"}]);break;case"Australia":this.setStateValues(t,"Province / State",[{label:"Select",value:""},{label:"New South Wales",value:"New South Wales"},{label:"Victoria",value:"Victoria"},{label:"Queensland",value:"Queensland"},{label:"South Australia",value:"South Australia"},{label:"Western Australia",value:"Western Australia"},{label:"Tasmania",value:"Tasmania"},{label:"Northern Territory",value:"Northern Territory"},{label:"Australian Capital Territory",value:"Australian Capital Territory"}]);break;case"US":case"USA":this.setStateValues(t,"State",[{label:"Select State",value:""},{label:"Alabama",value:"AL"},{label:"Alaska",value:"AK"},{label:"Arizona",value:"AZ"},{label:"Arkansas",value:"AR"},{label:"California",value:"CA"},{label:"Colorado",value:"CO"},{label:"Connecticut",value:"CT"},{label:"Delaware",value:"DE"},{label:"District of Columbia",value:"DC"},{label:"Florida",value:"FL"},{label:"Georgia",value:"GA"},{label:"Hawaii",value:"HI"},{label:"Idaho",value:"ID"},{label:"Illinois",value:"IL"},{label:"Indiana",value:"IN"},{label:"Iowa",value:"IA"},{label:"Kansas",value:"KS"},{label:"Kentucky",value:"KY"},{label:"Louisiana",value:"LA"},{label:"Maine",value:"ME"},{label:"Maryland",value:"MD"},{label:"Massachusetts",value:"MA"},{label:"Michigan",value:"MI"},{label:"Minnesota",value:"MN"},{label:"Mississippi",value:"MS"},{label:"Missouri",value:"MO"},{label:"Montana",value:"MT"},{label:"Nebraska",value:"NE"},{label:"Nevada",value:"NV"},{label:"New Hampshire",value:"NH"},{label:"New Jersey",value:"NJ"},{label:"New Mexico",value:"NM"},{label:"New York",value:"NY"},{label:"North Carolina",value:"NC"},{label:"North Dakota",value:"ND"},{label:"Ohio",value:"OH"},{label:"Oklahoma",value:"OK"},{label:"Oregon",value:"OR"},{label:"Pennsylvania",value:"PA"},{label:"Rhode Island",value:"RI"},{label:"South Carolina",value:"SC"},{label:"South Dakota",value:"SD"},{label:"Tennessee",value:"TN"},{label:"Texas",value:"TX"},{label:"Utah",value:"UT"},{label:"Vermont",value:"VT"},{label:"Virginia",value:"VA"},{label:"Washington",value:"WA"},{label:"West Virginia",value:"WV"},{label:"Wisconsin",value:"WI"},{label:"Wyoming",value:"WY"},{label:"&#9472&#9472&nbspUS&nbspTerritories&nbsp&#9472&#9472",value:"",disabled:!0},{label:"American Samoa",value:"AS"},{label:"Guam",value:"GU"},{label:"Northern Mariana Islands",value:"MP"},{label:"Puerto Rico",value:"PR"},{label:"US Minor Outlying Islands",value:"UM"},{label:"Virgin Islands",value:"VI"},{label:"&#9472&#9472&nbspArmed&nbspForces&nbsp&#9472&#9472",value:"",disabled:!0},{label:"Armed Forces Americas",value:"AA"},{label:"Armed Forces Africa",value:"AE"},{label:"Armed Forces Canada",value:"AE"},{label:"Armed Forces Europe",value:"AE"},{label:"Armed Forces Middle East",value:"AE"},{label:"Armed Forces Pacific",value:"AP"}]);break;case"United States":this.setStateValues(t,"State",[{label:"Select State",value:""},{label:"Alabama",value:"Alabama"},{label:"Alaska",value:"Alaska"},{label:"Arizona",value:"Arizona"},{label:"Arkansas",value:"Arkansas"},{label:"California",value:"California"},{label:"Colorado",value:"Colorado"},{label:"Connecticut",value:"Connecticut"},{label:"Delaware",value:"Delaware"},{label:"District of Columbia",value:"District of Columbia"},{label:"Florida",value:"Florida"},{label:"Georgia",value:"Georgia"},{label:"Hawaii",value:"Hawaii"},{label:"Idaho",value:"Idaho"},{label:"Illinois",value:"Illinois"},{label:"Indiana",value:"Indiana"},{label:"Iowa",value:"Iowa"},{label:"Kansas",value:"Kansas"},{label:"Kentucky",value:"Kentucky"},{label:"Louisiana",value:"Louisiana"},{label:"Maine",value:"Maine"},{label:"Maryland",value:"Maryland"},{label:"Massachusetts",value:"Massachusetts"},{label:"Michigan",value:"Michigan"},{label:"Minnesota",value:"Minnesota"},{label:"Mississippi",value:"Mississippi"},{label:"Missouri",value:"Missouri"},{label:"Montana",value:"Montana"},{label:"Nebraska",value:"Nebraska"},{label:"Nevada",value:"Nevada"},{label:"New Hampshire",value:"New Hampshire"},{label:"New Jersey",value:"New Jersey"},{label:"New Mexico",value:"New Mexico"},{label:"New York",value:"New York"},{label:"North Carolina",value:"North Carolina"},{label:"North Dakota",value:"North Dakota"},{label:"Ohio",value:"Ohio"},{label:"Oklahoma",value:"Oklahoma"},{label:"Oregon",value:"Oregon"},{label:"Pennsylvania",value:"Pennsylvania"},{label:"Rhode Island",value:"Rhode Island"},{label:"South Carolina",value:"South Carolina"},{label:"South Dakota",value:"South Dakota"},{label:"Tennessee",value:"Tennessee"},{label:"Texas",value:"Texas"},{label:"Utah",value:"Utah"},{label:"Vermont",value:"Vermont"},{label:"Virginia",value:"Virginia"},{label:"Washington",value:"Washington"},{label:"West Virginia",value:"West Virginia"},{label:"Wisconsin",value:"Wisconsin"},{label:"Wyoming",value:"Wyoming"},{label:"&#9472&#9472&nbspUS&nbspTerritories&nbsp&#9472&#9472",value:"",disabled:!0},{label:"American Samoa",value:"American Samoa"},{label:"Guam",value:"Guam"},{label:"Northern Mariana Islands",value:"Northern Mariana Islands"},{label:"Puerto Rico",value:"Puerto Rico"},{label:"US Minor Outlying Islands",value:"US Minor Outlying Islands"},{label:"Virgin Islands",value:"Virgin Islands"},{label:"&#9472&#9472&nbspArmed&nbspForces&nbsp&#9472&#9472",value:"",disabled:!0},{label:"Armed Forces Americas",value:"Armed Forces Americas"},{label:"Armed Forces Africa",value:"Armed Forces Africa"},{label:"Armed Forces Canada",value:"Armed Forces Canada"},{label:"Armed Forces Europe",value:"Armed Forces Europe"},{label:"Armed Forces Middle East",value:"Armed Forces Middle East"},{label:"Armed Forces Pacific",value:"Armed Forces Pacific"}]);break;case"CA":case"CAN":this.setStateValues(t,"Province / Territory",[{label:"Select",value:""},{label:"Alberta",value:"AB"},{label:"British Columbia",value:"BC"},{label:"Manitoba",value:"MB"},{label:"New Brunswick",value:"NB"},{label:"Newfoundland and Labrador",value:"NL"},{label:"Northwest Territories",value:"NT"},{label:"Nova Scotia",value:"NS"},{label:"Nunavut",value:"NU"},{label:"Ontario",value:"ON"},{label:"Prince Edward Island",value:"PE"},{label:"Quebec",value:"QC"},{label:"Saskatchewan",value:"SK"},{label:"Yukon",value:"YT"}]);break;case"Canada":this.setStateValues(t,"Province / Territory",[{label:"Select",value:""},{label:"Alberta",value:"Alberta"},{label:"British Columbia",value:"British Columbia"},{label:"Manitoba",value:"Manitoba"},{label:"New Brunswick",value:"New Brunswick"},{label:"Newfoundland and Labrador",value:"Newfoundland and Labrador"},{label:"Northwest Territories",value:"Northwest Territories"},{label:"Nova Scotia",value:"Nova Scotia"},{label:"Nunavut",value:"Nunavut"},{label:"Ontario",value:"Ontario"},{label:"Prince Edward Island",value:"Prince Edward Island"},{label:"Quebec",value:"Quebec"},{label:"Saskatchewan",value:"Saskatchewan"},{label:"Yukon",value:"Yukon"}]);break;case"MX":case"MEX":this.setStateValues(t,"Estado",[{label:"Seleccione Estado",value:""},{label:"Aguascalientes",value:"AGU"},{label:"Baja California",value:"BCN"},{label:"Baja California Sur",value:"BCS"},{label:"Campeche",value:"CAM"},{label:"Chiapas",value:"CHP"},{label:"Ciudad de Mexico",value:"CMX"},{label:"Chihuahua",value:"CHH"},{label:"Coahuila",value:"COA"},{label:"Colima",value:"COL"},{label:"Durango",value:"DUR"},{label:"Guanajuato",value:"GUA"},{label:"Guerrero",value:"GRO"},{label:"Hidalgo",value:"HID"},{label:"Jalisco",value:"JAL"},{label:"Michoacan",value:"MIC"},{label:"Morelos",value:"MOR"},{label:"Nayarit",value:"NAY"},{label:"Nuevo Leon",value:"NLE"},{label:"Oaxaca",value:"OAX"},{label:"Puebla",value:"PUE"},{label:"Queretaro",value:"QUE"},{label:"Quintana Roo",value:"ROO"},{label:"San Luis Potosi",value:"SLP"},{label:"Sinaloa",value:"SIN"},{label:"Sonora",value:"SON"},{label:"Tabasco",value:"TAB"},{label:"Tamaulipas",value:"TAM"},{label:"Tlaxcala",value:"TLA"},{label:"Veracruz",value:"VER"},{label:"Yucatan",value:"YUC"},{label:"Zacatecas",value:"ZAC"}]);break;case"Mexico":this.setStateValues(t,"Estado",[{label:"Seleccione Estado",value:""},{label:"Aguascalientes",value:"Aguascalientes"},{label:"Baja California",value:"Baja California"},{label:"Baja California Sur",value:"Baja California Sur"},{label:"Campeche",value:"Campeche"},{label:"Chiapas",value:"Chiapas"},{label:"Ciudad de Mexico",value:"Ciudad de Mexico"},{label:"Chihuahua",value:"Chihuahua"},{label:"Coahuila",value:"Coahuila"},{label:"Colima",value:"Colima"},{label:"Durango",value:"Durango"},{label:"Guanajuato",value:"Guanajuato"},{label:"Guerrero",value:"Guerrero"},{label:"Hidalgo",value:"Hidalgo"},{label:"Jalisco",value:"Jalisco"},{label:"Michoacan",value:"Michoacan"},{label:"Morelos",value:"Morelos"},{label:"Nayarit",value:"Nayarit"},{label:"Nuevo Leon",value:"Nuevo Leon"},{label:"Oaxaca",value:"Oaxaca"},{label:"Puebla",value:"Puebla"},{label:"Queretaro",value:"Queretaro"},{label:"Quintana Roo",value:"Quintana Roo"},{label:"San Luis Potosi",value:"San Luis Potosi"},{label:"Sinaloa",value:"Sinaloa"},{label:"Sonora",value:"Sonora"},{label:"Tabasco",value:"Tabasco"},{label:"Tamaulipas",value:"Tamaulipas"},{label:"Tlaxcala",value:"Tlaxcala"},{label:"Veracruz",value:"Veracruz"},{label:"Yucatan",value:"Yucatan"},{label:"Zacatecas",value:"Zacatecas"}]);break;default:this.setStateValues(t,"Province / State",null);break}}setStateValues(e,t,n){let r=s.getField(e),i=r?r.closest(".en__field"):null;if(i){let o=i.querySelector(".en__field__label"),d=i.querySelector(".en__field__element");if(o&&(o.innerHTML=t),d){let l=Ke(`engrid-state-${e}`);if(n?.length){let c=document.createElement("select");c.name=e,c.id="en__field_"+e.toLowerCase().replace(".","_"),c.classList.add("en__field__input"),c.classList.add("en__field__input--select"),c.autocomplete="address-level1";let u=!1;n.forEach(p=>{let g=document.createElement("option");g.value=p.value,g.innerHTML=p.label,l===p.value&&!u&&(g.selected=!0,u=!0),p.disabled&&(g.disabled=!0),c.appendChild(g)}),d.innerHTML="",d.appendChild(c),c.addEventListener("change",this.rememberState.bind(this,e)),c.dispatchEvent(new Event("change",{bubbles:!0}))}else{d.innerHTML="";let c=document.createElement("input");c.type="text",c.name=e,c.placeholder=t,c.id="en__field_"+e.toLowerCase().replace(".","_"),c.classList.add("en__field__input"),c.classList.add("en__field__input--text"),c.autocomplete="address-level1",l&&(c.value=l),d.appendChild(c),c.addEventListener("change",this.rememberState.bind(this,e))}}}}rememberState(e){let t=s.getField(e);t&&wt(`engrid-state-${t.name}`,t.value,{expires:1,sameSite:"none",secure:!0})}};var Br=class{constructor(){this.countryWrapper=document.querySelector(".simple_country_select"),this.countrySelect=document.querySelector("select#en__field_supporter_country"),this.country=null;let e=Ke("engrid-autofill"),t=!!(s.checkNested(window.EngagingNetworks,"require","_defined","enjs","checkSubmissionFailed")&&window.EngagingNetworks.require._defined.enjs.checkSubmissionFailed()),n=!!s.checkNested(window.Intl,"DisplayNames"),r=s.getUrlParameter("supporter.country")||s.getUrlParameter("supporter.region")||s.getUrlParameter("ea.url.id")&&!s.getUrlParameter("forwarded");!e&&!t&&n&&!r?fetch(`https://${window.location.hostname}/cdn-cgi/trace`).then(i=>i.text()).then(i=>{let o=i.replace(/[\r\n]+/g,'","').replace(/\=+/g,'":"');o='{"'+o.slice(0,o.lastIndexOf('","'))+'"}';let d=JSON.parse(o);this.country=d.loc,this.init()}):this.init()}init(){if(this.countrySelect&&this.country){let e=new Intl.DisplayNames(["en"],{type:"region"});this.setCountryByName(e.of(this.country))}}setCountryByName(e){if(this.countrySelect){let t=this.countrySelect.options;for(let r=0;r<t.length;r++)if(t[r].innerHTML.toLowerCase()==e.toLowerCase()){this.countrySelect.selectedIndex=r;break}let n=new Event("change",{bubbles:!0});this.countrySelect.dispatchEvent(n)}}};var Nr=class{constructor(){let e=document.querySelector("div[class*='body-'] title"),t=document.querySelector("div[class*='body-'] h1"),n=document.querySelector("title"),r=document.querySelector("h1");e&&e.parentElement?(e.parentElement.insertAdjacentHTML("beforebegin",'<span id="skip-link"></span>'),this.insertSkipLinkSpan()):t&&t.parentElement?(t.parentElement.insertAdjacentHTML("beforebegin",'<span id="skip-link"></span>'),this.insertSkipLinkSpan()):n&&n.parentElement?(n.parentElement.insertAdjacentHTML("beforebegin",'<span id="skip-link"></span>'),this.insertSkipLinkSpan()):r&&r.parentElement?(r.parentElement.insertAdjacentHTML("beforebegin",'<span id="skip-link"></span>'),this.insertSkipLinkSpan()):s.debug&&console.log("This page contains no <title> or <h1> and a 'Skip to main content' link was not added")}insertSkipLinkSpan(){document.body.insertAdjacentHTML("afterbegin",'<a class="skip-link" href="#skip-link">Skip to main content</a>')}};var Mr=class{constructor(){this.imgSrcDefer=document.querySelectorAll("img[data-src]"),this.videoBackground=document.querySelectorAll("video"),this.videoBackgroundSource=document.querySelectorAll("video source");for(let e=0;e<this.imgSrcDefer.length;e++){let t=this.imgSrcDefer[e];if(t){t.setAttribute("decoding","async"),t.setAttribute("loading","lazy");let n=t.getAttribute("data-src");n&&t.setAttribute("src",n),t.setAttribute("data-engrid-data-src-processed","true"),t.removeAttribute("data-src")}}for(let e=0;e<this.videoBackground.length;e++){let t=this.videoBackground[e];if(this.videoBackgroundSource=t.querySelectorAll("source"),this.videoBackgroundSource){for(let i=0;i<this.videoBackgroundSource.length;i++){let o=this.videoBackgroundSource[i];if(o){let d=o.getAttribute("data-src");d&&(o.setAttribute("src",d),o.setAttribute("data-engrid-data-src-processed","true"),o.removeAttribute("data-src"))}}let n=t.parentNode,r=t;n&&r&&(n.replaceChild(r,t),t.muted=!0,t.controls=!1,t.loop=!0,t.playsInline=!0,t.play())}}}};var Pr=class{constructor(){this._frequency=Z.getInstance(),this._amount=V.getInstance(),this.linkClass="setRecurrFreq-",this.checkboxName="engrid.recurrfreq",document.querySelectorAll(`a[class^="${this.linkClass}"]`).forEach(t=>{t.addEventListener("click",n=>{let r=t.className.split(" ").filter(i=>i.startsWith(this.linkClass));s.debug&&console.log(r),r.length&&(n.preventDefault(),s.setFieldValue("transaction.recurrfreq",r[0].substring(this.linkClass.length).toUpperCase()),this._frequency.load())})});let e=s.getFieldValue("transaction.recurrfreq").toUpperCase();document.getElementsByName(this.checkboxName).forEach(t=>{t.value.toUpperCase()===e?t.checked=!0:t.checked=!1,t.addEventListener("change",()=>{let r=t.value.toUpperCase();t.checked?(s.setFieldValue("transaction.recurrfreq",r),s.setFieldValue("transaction.recurrpay","Y"),this._frequency.load(),this._amount.setAmount(this._amount.amount,!1)):r!=="ONETIME"&&(s.setFieldValue("transaction.recurrfreq","ONETIME"),s.setFieldValue("transaction.recurrpay","N"),this._frequency.load(),this._amount.setAmount(this._amount.amount,!1))})}),this._frequency.onFrequencyChange.subscribe(()=>{let t=this._frequency.frequency.toUpperCase();document.getElementsByName(this.checkboxName).forEach(n=>{let r=n.value.toUpperCase();n.checked&&r!==t?n.checked=!1:!n.checked&&r===t&&(n.checked=!0)})})}};var Rr=class{constructor(){if(this.pageBackground=document.querySelector(".page-backgroundImage"),this.pageBackground){let e=this.pageBackground.querySelector("img"),t=e?.getAttribute("data-src"),n=e?.src;this.pageBackground&&t?(s.debug&&console.log("A background image set in the page was found with a data-src value, setting it as --engrid__page-backgroundImage_url",t),t="url('"+t+"')",this.pageBackground.style.setProperty("--engrid__page-backgroundImage_url",t)):this.pageBackground&&n?(s.debug&&console.log("A background image set in the page was found with a src value, setting it as --engrid__page-backgroundImage_url",n),n="url('"+n+"')",this.pageBackground.style.setProperty("--engrid__page-backgroundImage_url",n)):e?s.debug&&console.log("A background image set in the page was found but without a data-src or src value, no action taken",e):s.debug&&console.log("A background image set in the page was not found, any default image set in the theme on --engrid__page-backgroundImage_url will be used")}else s.debug&&console.log("A background image set in the page was not found, any default image set in the theme on --engrid__page-backgroundImage_url will be used");this.setDataAttributes()}setDataAttributes(){return this.hasVideoBackground()?s.setBodyData("page-background","video"):this.hasImageBackground()?s.setBodyData("page-background","image"):s.setBodyData("page-background","empty")}hasVideoBackground(){if(this.pageBackground)return!!this.pageBackground.querySelector("video")}hasImageBackground(){if(this.pageBackground)return!this.hasVideoBackground()&&!!this.pageBackground.querySelector("img")}};var Ur=class{constructor(e,t=null,n=null,r){this.apiKey=e,this.dateField=t,this.statusField=n,this.dateFormat=r,this.form=q.getInstance(),this.emailField=null,this.emailWrapper=document.querySelector(".en__field--emailAddress"),this.nbDate=null,this.nbStatus=null,this.logger=new S("NeverBounce","#039bc4","#dfdfdf","\u{1F4E7}"),this.shouldRun=!0,this.nbLoaded=!1,this.emailField=document.getElementById("en__field_supporter_emailAddress"),window._NBSettings={apiKey:this.apiKey,autoFieldHookup:!1,inputLatency:1500,displayPoweredBy:!1,loadingMessage:"Validating...",softRejectMessage:"Invalid email",acceptedMessage:"Email validated!",feedback:!1},s.loadJS("https://cdn.neverbounce.com/widget/dist/NeverBounce.js"),this.emailField&&(this.emailField.value&&(this.logger.log("E-mail Field Found"),this.shouldRun=!1),this.emailField.addEventListener("change",i=>{var o;this.nbLoaded||(this.shouldRun=!0,this.init(),!((o=this.emailField)===null||o===void 0)&&o.value&&setTimeout(function(){window._nb.fields.get(document.querySelector("[data-nb-id]"))[0].forceUpdate()},100))}),window.setTimeout(()=>{this.emailField&&this.emailField.value&&(this.logger.log("E-mail Filled Programatically"),this.shouldRun=!1),this.init()},1e3)),this.form.onValidate.subscribe(this.validate.bind(this))}init(){if(!this.shouldRun){this.logger.log("Should Not Run");return}if(this.nbLoaded){this.logger.log("Already Loaded");return}if(this.logger.log("Init Function"),this.dateField&&document.getElementsByName(this.dateField).length&&(this.nbDate=document.querySelector("[name='"+this.dateField+"']")),this.statusField&&document.getElementsByName(this.statusField).length&&(this.nbStatus=document.querySelector("[name='"+this.statusField+"']")),!this.emailField){this.logger.log("E-mail Field Not Found");return}this.wrap(this.emailField,document.createElement("div"));let e=this.emailField.parentNode;e.id="nb-wrapper";let t=document.createElement("div");t.innerHTML='<div id="nb-feedback" class="en__field__error nb-hidden">Enter a valid email.</div>',this.insertAfter(t,this.emailField);let n=this;document.body.addEventListener("nb:registered",function(r){let i=document.querySelector('[data-nb-id="'+r.detail.id+'"]');i.addEventListener("nb:loading",function(o){s.disableSubmit("Validating Your Email")}),i.addEventListener("nb:clear",function(o){n.setEmailStatus("clear"),s.enableSubmit(),n.nbDate&&(n.nbDate.value=""),n.nbStatus&&(n.nbStatus.value="")}),i.addEventListener("nb:soft-result",function(o){n.setEmailStatus("soft-result"),n.nbDate&&(n.nbDate.value=""),n.nbStatus&&(n.nbStatus.value=""),s.enableSubmit()}),i.addEventListener("nb:result",function(o){o.detail.result.is(window._nb.settings.getAcceptedStatusCodes())?(n.setEmailStatus("valid"),n.nbDate&&(n.nbDate.value=s.formatDate(new Date,n.dateFormat)),n.nbStatus&&(n.nbStatus.value=o.detail.result.response.result)):(n.setEmailStatus("invalid"),n.nbDate&&(n.nbDate.value=""),n.nbStatus&&(n.nbStatus.value="")),s.enableSubmit()})}),window._nb.fields.registerListener(n.emailField,!0),this.nbLoaded=!0}clearStatus(){if(!this.emailField){this.logger.log("E-mail Field Not Found");return}this.emailField.classList.remove("rm-error");let e=document.getElementById("nb-wrapper"),t=document.getElementById("nb-feedback");e.className="",t.className="en__field__error nb-hidden",t.innerHTML="",this.emailWrapper.classList.remove("en__field--validationFailed")}deleteENFieldError(){let e=document.querySelector(".en__field--emailAddress>div.en__field__error");e&&e.remove()}setEmailStatus(e){if(this.logger.log("Status:",e),!this.emailField){this.logger.log("E-mail Field Not Found");return}let t=document.getElementById("nb-wrapper"),n=document.getElementById("nb-feedback"),r="nb-success",i="nb-error",o="nb-hidden",d="nb-loading",l="rm-error";if(!n){let c=t.querySelector("div");c&&(c.innerHTML='<div id="nb-feedback" class="en__field__error nb-hidden">Enter a valid email.</div>'),n=document.getElementById("nb-feedback")}if(e=="valid")this.clearStatus();else switch(t.classList.remove(r),t.classList.add(i),e){case"required":this.deleteENFieldError(),n.innerHTML="A valid email is required",n.classList.remove(d),n.classList.remove(o),this.emailField.classList.add(l);break;case"soft-result":this.emailField.value?(this.deleteENFieldError(),n.innerHTML="Invalid email",n.classList.remove(o),this.emailField.classList.add(l)):this.clearStatus();break;case"invalid":this.deleteENFieldError(),n.innerHTML="Invalid email",n.classList.remove(d),n.classList.remove(o),this.emailField.classList.add(l);break;case"loading":case"clear":default:this.clearStatus();break}}insertAfter(e,t){var n;(n=t?.parentNode)===null||n===void 0||n.insertBefore(e,t.nextSibling)}wrap(e,t){var n;(n=e.parentNode)===null||n===void 0||n.insertBefore(t,e),t.appendChild(e)}validate(){var e;if(!this.form.validate)return;let t=s.getFieldValue("nb-result");if(!this.emailField||!this.shouldRun||!this.nbLoaded||!t){this.logger.log("validate(): Should Not Run. Returning true.");return}this.nbStatus&&(this.nbStatus.value=t),["catchall","unknown","valid"].includes(t)||(this.setEmailStatus("required"),(e=this.emailField)===null||e===void 0||e.focus(),this.logger.log("NB-Result:",s.getFieldValue("nb-result")),this.form.validate=!1)}};var jr=class{constructor(){this.form=q.getInstance(),this.emailField=null,this.emailWrapper=document.querySelector(".en__field--emailAddress"),this.faDate=null,this.faStatus=null,this.faMessage=null,this.logger=new S("FreshAddress","#039bc4","#dfdfdf","\u{1F4E7}"),this.shouldRun=!0,this.options=s.getOption("FreshAddress"),!(this.options===!1||!window.FreshAddress)&&(this.emailField=document.getElementById("en__field_supporter_emailAddress"),this.emailField?(this.createFields(),this.addEventListeners(),window.FreshAddressStatus="idle",this.emailField.value&&(this.logger.log("E-mail Field Found"),this.shouldRun=!1),window.setTimeout(()=>{this.emailField&&this.emailField.value&&(this.logger.log("E-mail Filled Programatically"),this.shouldRun=!1)},1e3)):this.logger.log("E-mail Field Not Found"))}createFields(){this.options&&(this.options.dateField=this.options.dateField||"fa_date",this.faDate=s.getField(this.options.dateField),this.faDate||(this.logger.log("Date Field Not Found. Creating..."),s.createHiddenInput(this.options.dateField,""),this.faDate=s.getField(this.options.dateField)),this.options.statusField=this.options.statusField||"fa_status",this.faStatus=s.getField(this.options.statusField),this.faStatus||(this.logger.log("Status Field Not Found. Creating..."),s.createHiddenInput(this.options.statusField,""),this.faStatus=s.getField(this.options.statusField)),this.options.messageField=this.options.messageField||"fa_message",this.faMessage=s.getField(this.options.messageField),this.faMessage||(this.logger.log("Message Field Not Found. Creating..."),s.createHiddenInput(this.options.messageField,""),this.faMessage=s.getField(this.options.messageField)))}writeToFields(e,t){this.options&&(this.faDate.value=s.formatDate(new Date,this.options.dateFieldFormat||"yyyy-MM-dd"),this.faStatus.value=e,this.faMessage.value=t,this.emailWrapper.dataset.freshaddressSafetosendstatus=e.toLowerCase())}addEventListeners(){var e;this.options&&((e=this.emailField)===null||e===void 0||e.addEventListener("change",()=>{var t,n;if(!this.shouldRun||!((t=this.emailField)===null||t===void 0)&&t.value.includes("@4sitestudios.com")){s.removeError(this.emailWrapper),this.writeToFields("Valid","Skipped"),this.logger.log("Skipping E-mail Validation");return}this.logger.log("Validating "+((n=this.emailField)===null||n===void 0?void 0:n.value)),this.callAPI()}),this.form.onValidate.subscribe(this.validate.bind(this)))}callAPI(){var e;if(!this.options||!window.FreshAddress||!this.shouldRun)return;window.FreshAddressStatus="validating";let t=(e=this.emailField)===null||e===void 0?void 0:e.value,n={emps:!1,rtc_timeout:1200},r=window.FreshAddress.validateEmail(t,n).then(i=>(this.logger.log("Validate API Response",JSON.parse(JSON.stringify(i))),this.validateResponse(i)))}validateResponse(e){var t;if(e.isServiceError())return this.logger.log("Service Error"),this.writeToFields("Service Error",e.getErrorResponse()),!0;e.isValid()?(this.writeToFields("Valid",e.getComment()),s.removeError(this.emailWrapper),e.hasSuggest()&&(s.setError(this.emailWrapper,`Did you mean ${e.getSuggEmail()}?`),this.emailField.value=e.getSuggEmail())):e.isError()?(this.writeToFields("Invalid",e.getErrorResponse()),s.setError(this.emailWrapper,e.getErrorResponse()),(t=this.emailField)===null||t===void 0||t.focus(),e.hasSuggest()&&(s.setError(this.emailWrapper,`Did you mean ${e.getSuggEmail()}?`),this.emailField.value=e.getSuggEmail(),this.writeToFields("Error",e.getErrorResponse()))):e.isWarning()?(this.writeToFields("Invalid",e.getErrorResponse()),s.setError(this.emailWrapper,e.getErrorResponse()),e.hasSuggest()&&(s.setError(this.emailWrapper,`Did you mean ${e.getSuggEmail()}?`),this.emailField.value=e.getSuggEmail(),this.writeToFields("Warning",e.getErrorResponse()))):this.writeToFields("API Error","Unknown Error"),window.FreshAddressStatus="idle",s.enableSubmit()}validate(){var e;if(s.removeError(this.emailWrapper),!!this.form.validate){if(!this.options){this.form.validate=!0;return}if(!this.shouldRun){this.form.validate=!0;return}if(window.FreshAddressStatus==="validating"){this.logger.log("Waiting for API Response");let t=new Promise((n,r)=>{setTimeout(()=>{var i;let o=this.faStatus.value;if(o===""||o==="Invalid"){this.logger.log("Promise Rejected"),(i=this.emailField)===null||i===void 0||i.focus(),r(!1);return}this.logger.log("Promise Resolved"),n(!0)},700)});this.form.validatePromise=t;return}else if(this.faStatus.value==="Invalid")return this.form.validate=!1,window.setTimeout(()=>{s.setError(this.emailWrapper,this.faMessage.value)},100),(e=this.emailField)===null||e===void 0||e.focus(),s.enableSubmit(),!1;return this.form.validate=!0,!0}}};var zr=class{constructor(){var e,t;let n=document.querySelector("span[data-engrid-progress-indicator]"),r=s.getPageCount(),i=s.getPageNumber();if(!n||!r||!i)return;let o=(e=n.getAttribute("max"))!==null&&e!==void 0?e:100;typeof o=="string"&&(o=parseInt(o));let d=(t=n.getAttribute("amount"))!==null&&t!==void 0?t:0;typeof d=="string"&&(d=parseInt(d));let l=i===1?0:Math.ceil((i-1)/r*o),c=i===1?0:Math.ceil(i/r*o),u=l/100,p=c/100;if(d&&(c=Math.ceil(d)>Math.ceil(o)?o:d,p=c/100),n.innerHTML=`
			<div class="indicator__wrap">
				<span class="indicator__progress" style="transform: scaleX(${u});"></span>
				<span class="indicator__percentage">${c}<span class="indicator__percentage-sign">%</span></span>
			</div>`,c!==l){let g=document.querySelector(".indicator__progress");requestAnimationFrame(function(){g.style.transform=`scaleX(${p})`})}}};var bp=Sa().default,Hr=class{constructor(e){this._form=q.getInstance(),this._events=We.getInstance(),this.iframe=null,this.remoteUrl=e.remoteUrl?e.remoteUrl:null,this.cookieName=e.cookieName?e.cookieName:"engrid-autofill",this.cookieExpirationDays=e.cookieExpirationDays?e.cookieExpirationDays:365,this.rememberMeOptIn=e.checked?e.checked:!1,this.fieldNames=e.fieldNames?e.fieldNames:[],this.fieldDonationAmountRadioName=e.fieldDonationAmountRadioName?e.fieldDonationAmountRadioName:"transaction.donationAmt",this.fieldDonationAmountOtherName=e.fieldDonationAmountOtherName?e.fieldDonationAmountOtherName:"transaction.donationAmt.other",this.fieldDonationRecurrPayRadioName=e.fieldDonationRecurrPayRadioName?e.fieldDonationRecurrPayRadioName:"transaction.recurrpay",this.fieldDonationAmountOtherCheckboxID=e.fieldDonationAmountOtherCheckboxID?e.fieldDonationAmountOtherCheckboxID:"#en__field_transaction_donationAmt4",this.fieldOptInSelectorTarget=e.fieldOptInSelectorTarget?e.fieldOptInSelectorTarget:".en__field--emailAddress.en__field",this.fieldOptInSelectorTargetLocation=e.fieldOptInSelectorTargetLocation?e.fieldOptInSelectorTargetLocation:"after",this.fieldClearSelectorTarget=e.fieldClearSelectorTarget?e.fieldClearSelectorTarget:'label[for="en__field_supporter_firstName"]',this.fieldClearSelectorTargetLocation=e.fieldClearSelectorTargetLocation?e.fieldClearSelectorTargetLocation:"before",this.fieldData={},this.useRemote()?this.createIframe(()=>{this.iframe&&this.iframe.contentWindow&&(this.iframe.contentWindow.postMessage(JSON.stringify({key:this.cookieName,operation:"read"}),"*"),this._form.onSubmit.subscribe(()=>{this.rememberMeOptIn&&(this.readFields(),this.saveCookieToRemote())}))},t=>{let n;t.data&&typeof t.data=="string"&&this.isJson(t.data)&&(n=JSON.parse(t.data)),n&&n.key&&n.value!==void 0&&n.key===this.cookieName&&(this.updateFieldData(n.value),this.writeFields(),Object.keys(this.fieldData).length>0?this.insertClearRememberMeLink():this.insertRememberMeOptin())}):(this.readCookie(),Object.keys(this.fieldData).length>0?(this.insertClearRememberMeLink(),this.rememberMeOptIn=!0):(this.insertRememberMeOptin(),this.rememberMeOptIn=!1),this.writeFields(),this._form.onSubmit.subscribe(()=>{this.rememberMeOptIn&&(this.readFields(),this.saveCookie())}))}updateFieldData(e){if(e){let t=JSON.parse(e);for(let n=0;n<this.fieldNames.length;n++)t[this.fieldNames[n]]!==void 0&&(this.fieldData[this.fieldNames[n]]=decodeURIComponent(t[this.fieldNames[n]]))}}insertClearRememberMeLink(){if(!document.getElementById("clear-autofill-data")){let e="clear autofill",t=document.createElement("a");t.setAttribute("id","clear-autofill-data"),t.classList.add("label-tooltip"),t.setAttribute("style","cursor: pointer;"),t.innerHTML=`(${e})`;let n=this.getElementByFirstSelector(this.fieldClearSelectorTarget);n&&(this.fieldClearSelectorTargetLocation==="after"?n.appendChild(t):n.prepend(t),t.addEventListener("click",r=>{r.preventDefault(),this.clearFields(["supporter.country"]),this.useRemote()?this.clearCookieOnRemote():this.clearCookie();let i=document.getElementById("clear-autofill-data");i&&(i.style.display="none"),this.rememberMeOptIn=!1,this._events.dispatchClear()}))}this._events.dispatchLoad(!0)}getElementByFirstSelector(e){let t=null,n=e.split(",");for(let r=0;r<n.length&&(t=document.querySelector(n[r]),!t);r++);return t}insertRememberMeOptin(){let e=document.getElementById("remember-me-opt-in");if(e)this.rememberMeOptIn&&(e.checked=!0);else{let t="Remember Me",n=`
				Check \u201CRemember me\u201D to complete forms on this device faster. 
				While your financial information won\u2019t be stored, you should only check this box from a personal device. 
				Click \u201CClear autofill\u201D to remove the information from your device at any time.
			`,r=this.rememberMeOptIn?"checked":"",i=document.createElement("div");i.classList.add("en__field","en__field--checkbox","en__field--question","rememberme-wrapper"),i.setAttribute("id","remember-me-opt-in"),i.setAttribute("style","overflow-x: hidden;"),i.innerHTML=`
        <div class="en__field__element en__field__element--checkbox">
          <div class="en__field__item">
            <input id="remember-me-checkbox" type="checkbox" class="en__field__input en__field__input--checkbox" ${r} />
            <label for="remember-me-checkbox" class="en__field__label en__field__label--item" style="white-space: nowrap;">
              <div class="rememberme-content" style="display: inline-flex; align-items: center;">
                ${t}
                <a id="rememberme-learn-more-toggle" style="display: inline-block; display: inline-flex; align-items: center; cursor: pointer; margin-left: 10px; margin-top: var(--rememberme-learn-more-toggle_margin-top)">
                  <svg style="height: 14px; width: auto; z-index: 1;" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11 7H9V5H11V7ZM11 9H9V15H11V9ZM10 2C5.59 2 2 5.59 2 10C2 14.41 5.59 18 10 18C14.41 18 18 14.41 18 10C18 5.59 14.41 2 10 2ZM10 0C15.523 0 20 4.477 20 10C20 15.523 15.523 20 10 20C4.477 20 0 15.523 0 10C0 4.477 4.477 0 10 0Z" fill="currentColor"/></svg>
                </a>
              </div>
            </label>
          </div>
        </div>
			`;let o=this.getElementByFirstSelector(this.fieldOptInSelectorTarget);if(o&&o.parentNode){o.parentNode.insertBefore(i,this.fieldOptInSelectorTargetLocation=="before"?o:o.nextSibling);let d=document.getElementById("remember-me-checkbox");d&&d.addEventListener("change",()=>{d.checked?this.rememberMeOptIn=!0:this.rememberMeOptIn=!1}),bp("#rememberme-learn-more-toggle",{content:n})}}this._events.dispatchLoad(!1)}useRemote(){return!!this.remoteUrl&&typeof window.postMessage=="function"&&window.JSON&&window.localStorage}createIframe(e,t){if(this.remoteUrl){let n=document.createElement("iframe");n.style.cssText="position:absolute;width:1px;height:1px;left:-9999px;",n.src=this.remoteUrl,n.setAttribute("sandbox","allow-same-origin allow-scripts"),this.iframe=n,document.body.appendChild(this.iframe),this.iframe.addEventListener("load",()=>e(),!1),window.addEventListener("message",r=>{var i;((i=this.iframe)===null||i===void 0?void 0:i.contentWindow)===r.source&&t(r)},!1)}}clearCookie(){this.fieldData={},this.saveCookie()}clearCookieOnRemote(){this.fieldData={},this.saveCookieToRemote()}saveCookieToRemote(){this.iframe&&this.iframe.contentWindow&&this.iframe.contentWindow.postMessage(JSON.stringify({key:this.cookieName,value:this.fieldData,operation:"write",expires:this.cookieExpirationDays}),"*")}readCookie(){this.updateFieldData(Ke(this.cookieName)||"")}saveCookie(){wt(this.cookieName,JSON.stringify(this.fieldData),{expires:this.cookieExpirationDays})}readFields(){for(let e=0;e<this.fieldNames.length;e++){let t="[name='"+this.fieldNames[e]+"']",n=document.querySelector(t);if(n)if(n.tagName==="INPUT"){let r=n.getAttribute("type");(r==="radio"||r==="checkbox")&&(n=document.querySelector(t+":checked")),this.fieldData[this.fieldNames[e]]=encodeURIComponent(n.value)}else n.tagName==="SELECT"&&(this.fieldData[this.fieldNames[e]]=encodeURIComponent(n.value))}}setFieldValue(e,t,n=!1){e&&t!==void 0&&(e.value&&n||!e.value)&&(e.value=t)}clearFields(e){for(let t in this.fieldData)e.includes(t)?delete this.fieldData[t]:this.fieldData[t]===""?delete this.fieldData[t]:this.fieldData[t]="";this.writeFields(!0)}writeFields(e=!1){for(let t=0;t<this.fieldNames.length;t++){let n="[name='"+this.fieldNames[t]+"']",r=document.querySelector(n);r&&(r.tagName==="INPUT"?this.fieldNames[t]===this.fieldDonationRecurrPayRadioName?this.fieldData[this.fieldNames[t]]==="Y"&&r.click():this.fieldDonationAmountRadioName===this.fieldNames[t]?(r=document.querySelector(n+"[value='"+this.fieldData[this.fieldNames[t]]+"']"),r?r.click():(r=document.querySelector("input[name='"+this.fieldDonationAmountOtherName+"']"),this.setFieldValue(r,this.fieldData[this.fieldNames[t]],!0))):this.setFieldValue(r,this.fieldData[this.fieldNames[t]],e):r.tagName==="SELECT"&&this.setFieldValue(r,this.fieldData[this.fieldNames[t]],!0))}}isJson(e){try{JSON.parse(e)}catch{return!1}return!0}};var Vr=class{constructor(){if(this._amount=V.getInstance(),this.logger=new S("ShowIfAmount","yellow","black","\u{1F440}"),this._elements=document.querySelectorAll('[class*="showifamount"]'),this._elements.length>0){this._amount.onAmountChange.subscribe(()=>this.init()),this.init();return}this.logger.log("Show If Amount: NO ELEMENTS FOUND")}init(){let e=s.getGiftProcess()?window.pageJson.amount:this._amount.amount;this._elements.forEach(t=>{this.lessthan(e,t),this.lessthanorequalto(e,t),this.equalto(e,t),this.greaterthanorequalto(e,t),this.greaterthan(e,t),this.between(e,t)})}getClassNameByOperand(e,t){let n=null;return e.forEach(r=>{r.includes(`showifamount-${t}-`)&&(n=r)}),n}lessthan(e,t){let n=this.getClassNameByOperand(t.classList,"lessthan");if(n){let r=n.split("-").slice(-1)[0];e<Number(r)?(this.logger.log("(lessthan):",t),t.classList.add("engrid-open")):t.classList.remove("engrid-open")}}lessthanorequalto(e,t){let n=this.getClassNameByOperand(t.classList,"lessthanorequalto");if(n){let r=n.split("-").slice(-1)[0];e<=Number(r)?(this.logger.log("(lessthanorequalto):",t),t.classList.add("engrid-open")):t.classList.remove("engrid-open")}}equalto(e,t){let n=this.getClassNameByOperand(t.classList,"equalto");if(n){let r=n.split("-").slice(-1)[0];e==Number(r)?(this.logger.log("(equalto):",t),t.classList.add("engrid-open")):t.classList.remove("engrid-open")}}greaterthanorequalto(e,t){let n=this.getClassNameByOperand(t.classList,"greaterthanorequalto");if(n){let r=n.split("-").slice(-1)[0];e>=Number(r)?(this.logger.log("(greaterthanorequalto):",t),t.classList.add("engrid-open")):t.classList.remove("engrid-open")}}greaterthan(e,t){let n=this.getClassNameByOperand(t.classList,"greaterthan");if(n){let r=n.split("-").slice(-1)[0];e>Number(r)?(this.logger.log("(greaterthan):",t),t.classList.add("engrid-open")):t.classList.remove("engrid-open")}}between(e,t){let n=this.getClassNameByOperand(t.classList,"between");if(n){let r=n.split("-").slice(-2,-1)[0],i=n.split("-").slice(-1)[0];e>Number(r)&&e<Number(i)?(this.logger.log("(between):",t),t.classList.add("engrid-open")):t.classList.remove("engrid-open")}}};var Gr=class{constructor(){this.logger=new S("OtherAmount","green","black","\u{1F4B0}"),this._amount=V.getInstance(),"focusin input".split(" ").forEach(t=>{var n;(n=document.querySelector("body"))===null||n===void 0||n.addEventListener(t,r=>{r.target.classList.contains("en__field__input--other")&&(this.logger.log("Other Amount Field Focused"),this.setRadioInput())})});let e=document.querySelector("[name='transaction.donationAmt.other'");e&&(e.setAttribute("inputmode","decimal"),e.setAttribute("aria-label","Enter your custom donation amount"),e.setAttribute("autocomplete","off"),e.setAttribute("data-lpignore","true"),e.addEventListener("change",t=>{let n=t.target,r=n.value,i=s.cleanAmount(r);r!==i.toString()&&(this.logger.log(`Other Amount Field Changed: ${r} => ${i}`),"dataLayer"in window&&window.dataLayer.push({event:"otherAmountTransformed",otherAmountTransformation:`${r} => ${i}`}),n.value=i%1!=0?i.toFixed(2):i.toString())}),e.addEventListener("blur",t=>{let r=t.target.value;if(s.cleanAmount(r)===0){this.logger.log("Other Amount Field Blurred with 0 amount");let o=this._amount.amount;o>0&&this._amount.setAmount(o,!1)}}))}setRadioInput(){let e=document.querySelector(".en__field--donationAmt .en__field__input--other");if(e&&e.parentNode&&e.parentNode.parentNode){let t=e.parentNode;if(t.classList.remove("en__field__item--hidden"),t.parentNode){let n=t.parentNode.querySelector(".en__field__item:nth-last-child(2) input");n.checked=!0}}}};var S=class{constructor(e,t,n,r){if(this.prefix="",this.color="black",this.background="white",this.emoji="",r)this.emoji=r;else switch(t){case"red":this.emoji="\u{1F534}";break;case"green":this.emoji="\u{1F7E2}";break;case"blue":this.emoji="\u{1F535}";break;case"yellow":this.emoji="\u{1F7E1}",this.background="black";break;case"purple":this.emoji="\u{1F7E3}";break;case"black":default:this.emoji="\u26AB";break}e&&(this.prefix=`[ENgrid ${e}]`),t&&(this.color=t),n&&(this.background=n)}get log(){return!s.debug&&s.getUrlParameter("debug")!=="log"?()=>{}:console.log.bind(window.console,"%c"+this.emoji+" "+this.prefix+" %s",`color: ${this.color}; background-color: ${this.background}; font-size: 1.2em; padding: 4px; border-radius: 2px; font-family: monospace;`)}get success(){return s.debug?console.log.bind(window.console,"%c \u2705 "+this.prefix+" %s","color: green; background-color: white; font-size: 1.2em; padding: 4px; border-radius: 2px; font-family: monospace;"):()=>{}}get danger(){return s.debug?console.log.bind(window.console,"%c \u26D4\uFE0F "+this.prefix+" %s","color: red; background-color: white; font-size: 1.2em; padding: 4px; border-radius: 2px; font-family: monospace;"):()=>{}}get warn(){return s.debug?console.warn.bind(window.console,"%c"+this.emoji+" "+this.prefix+" %s",`color: ${this.color}; background-color: ${this.background}; font-size: 1.2em; padding: 4px; border-radius: 2px; font-family: monospace;`):()=>{}}get dir(){return s.debug?console.dir.bind(window.console,"%c"+this.emoji+" "+this.prefix+" %s",`color: ${this.color}; background-color: ${this.background}; font-size: 1.2em; padding: 4px; border-radius: 2px; font-family: monospace;`):()=>{}}get error(){return s.debug?console.error.bind(window.console,"%c"+this.emoji+" "+this.prefix+" %s",`color: ${this.color}; background-color: ${this.background}; font-size: 1.2em; padding: 4px; border-radius: 2px; font-family: monospace;`):()=>{}}};var Wr=class{constructor(){var e,t;this._form=q.getInstance(),this._amount=V.getInstance(),this.minAmount=(e=s.getOption("MinAmount"))!==null&&e!==void 0?e:1,this.maxAmount=(t=s.getOption("MaxAmount"))!==null&&t!==void 0?t:1e5,this.minAmountMessage=s.getOption("MinAmountMessage"),this.maxAmountMessage=s.getOption("MaxAmountMessage"),this.logger=new S("MinMaxAmount","white","purple","\u{1F522}"),this.shouldRun()&&(this._amount.onAmountChange.subscribe(n=>window.setTimeout(this.liveValidate.bind(this),1e3)),this._form.onValidate.subscribe(this.enOnValidate.bind(this)))}shouldRun(){return s.getPageType()==="DONATION"}enOnValidate(){if(!this._form.validate)return;let e=document.querySelector("[name='transaction.donationAmt.other']");this._amount.amount<this.minAmount?(this.logger.log("Amount is less than min amount: "+this.minAmount),e&&e.focus(),this._form.validate=!1):this._amount.amount>this.maxAmount&&(this.logger.log("Amount is greater than max amount: "+this.maxAmount),e&&e.focus(),this._form.validate=!1),window.setTimeout(this.liveValidate.bind(this),300)}liveValidate(){let e=s.cleanAmount(this._amount.amount.toString()),t=document.activeElement;t&&t.tagName==="INPUT"&&"name"in t&&t.name==="transaction.donationAmt.other"&&e===0||(this.logger.log(`Amount: ${e}`),e<this.minAmount?(this.logger.log("Amount is less than min amount: "+this.minAmount),s.setError(".en__field--withOther",this.minAmountMessage||"Invalid Amount")):e>this.maxAmount?(this.logger.log("Amount is greater than max amount: "+this.maxAmount),s.setError(".en__field--withOther",this.maxAmountMessage||"Invalid Amount")):s.removeError(".en__field--withOther"))}};var Yr=class{constructor(){if(this.shuffleSeed=vs(),this.items=[],this.tickerElement=document.querySelector(".engrid-ticker"),this.logger=new S("Ticker","black","beige","\u{1F501}"),!this.shouldRun()){this.logger.log("Not running");return}let e=document.querySelectorAll(".engrid-ticker li");if(e.length>0)for(let t=0;t<e.length;t++)this.items.push(e[t].innerText);this.render()}shouldRun(){return this.tickerElement!==null}getSeed(){return new Date().getDate()+s.getPageID()}getItems(){let e=this.tickerElement.getAttribute("data-total")||"50";this.logger.log("Getting "+e+" items");let t=this.getSeed(),n=this.shuffleSeed.shuffle(this.items,t),r=new Date,i=r.getHours(),o=r.getMinutes(),d=Math.round((i*60+o)/5);return d>=n.length&&(d=0),n.slice(d,d+e).reverse()}render(){var e,t,n;this.logger.log("Rendering");let r=this.getItems(),i=document.createElement("div");i.classList.add("en__component"),i.classList.add("en__component--ticker");let o='<div class="ticker">';for(let l=0;l<r.length;l++)o+='<div class="ticker__item">'+r[l]+"</div>";o='<div id="engrid-ticker">'+o+"</div></div>",i.innerHTML=o,(t=(e=this.tickerElement)===null||e===void 0?void 0:e.parentElement)===null||t===void 0||t.insertBefore(i,this.tickerElement),(n=this.tickerElement)===null||n===void 0||n.remove();let d=document.querySelector(".ticker").offsetWidth.toString();i.style.setProperty("--ticker-size",d),this.logger.log("Ticker Size: "+i.style.getPropertyValue("--ticker-size")),this.logger.log("Ticker Width: "+d)}};var _t=class a{constructor(){this.logger=new S("DataLayer","#f1e5bc","#009cdc","\u{1F4CA}"),this.dataLayer=window.dataLayer||[],this._form=q.getInstance(),this.endOfGiftProcessStorageKey="ENGRID_END_OF_GIFT_PROCESS_EVENTS",this.excludedFields=["transaction.ccnumber","transaction.ccexpire.delimiter","transaction.ccexpire","transaction.ccvv","supporter.creditCardHolderName","supporter.bankAccountNumber","supporter.bankAccountType","transaction.bankname","supporter.bankRoutingNumber"],this.hashedFields=["supporter.emailAddress","supporter.phoneNumber","supporter.phoneNumber2","supporter.address1","supporter.address2","supporter.address3","transaction.infemail","transaction.infadd1","transaction.infadd2","transaction.infadd3","supporter.billingAddress1","supporter.billingAddress2","supporter.billingAddress3"],s.getOption("RememberMe")?We.getInstance().onLoad.subscribe(e=>{this.logger.log("Remember me - onLoad",e),this.onLoad()}):this.onLoad(),this._form.onSubmit.subscribe(()=>this.onSubmit())}static getInstance(){return a.instance||(a.instance=new a,window._dataLayer=a.instance),a.instance}transformJSON(e){return typeof e=="string"?e.toUpperCase().split(" ").join("-").replace(":-","-"):typeof e=="boolean"?(e=e?"TRUE":"FALSE",e):""}onLoad(){if(s.getGiftProcess()?(this.logger.log("EN_SUCCESSFUL_DONATION"),this.dataLayer.push({event:"EN_SUCCESSFUL_DONATION"}),this.addEndOfGiftProcessEventsToDataLayer()):(this.logger.log("EN_PAGE_VIEW"),this.dataLayer.push({event:"EN_PAGE_VIEW"})),window.pageJson){let i=window.pageJson;for(let o in i)Number.isNaN(i[o])?(this.dataLayer.push({event:`EN_PAGEJSON_${o.toUpperCase()}-${this.transformJSON(i[o])}`}),this.dataLayer.push({[`'EN_PAGEJSON_${o.toUpperCase()}'`]:this.transformJSON(i[o])})):(this.dataLayer.push({event:`EN_PAGEJSON_${o.toUpperCase()}-${i[o]}`}),this.dataLayer.push({[`'EN_PAGEJSON_${o.toUpperCase()}'`]:i[o]})),this.dataLayer.push({event:"EN_PAGEJSON_"+o.toUpperCase(),eventValue:i[o]});s.getPageCount()===s.getPageNumber()&&(this.dataLayer.push({event:"EN_SUBMISSION_SUCCESS_"+i.pageType.toUpperCase()}),this.dataLayer.push({[`'EN_SUBMISSION_SUCCESS_${i.pageType.toUpperCase()}'`]:"TRUE"}))}if(new URLSearchParams(window.location.search).forEach((i,o)=>{this.dataLayer.push({event:`EN_URLPARAM_${o.toUpperCase()}-${this.transformJSON(i)}`}),this.dataLayer.push({[`'EN_URLPARAM_${o.toUpperCase()}'`]:this.transformJSON(i)})}),s.getPageType()==="DONATION"){let o=[...document.querySelectorAll('[name="transaction.recurrfreq"]')].map(d=>d.value);this.dataLayer.push({event:"EN_RECURRING_FREQUENCIES","'EN_RECURRING_FREQEUENCIES'":o})}let t=!1,n=document.querySelector(".en__component--formblock.fast-personal-details");if(n){let i=Re.allMandatoryInputsAreFilled(n),o=Re.someMandatoryInputsAreFilled(n);i?(this.dataLayer.push({event:"EN_FASTFORMFILL_PERSONALINFO_SUCCESS"}),t=!0):o?this.dataLayer.push({event:"EN_FASTFORMFILL_PERSONALINFO_PARTIALSUCCESS"}):this.dataLayer.push({event:"EN_FASTFORMFILL_PERSONALINFO_FAILURE"})}let r=document.querySelector(".en__component--formblock.fast-address-details");if(r){let i=Re.allMandatoryInputsAreFilled(r),o=Re.someMandatoryInputsAreFilled(r);i?(this.dataLayer.push({event:"EN_FASTFORMFILL_ADDRESS_SUCCESS"}),t=!!t):o?this.dataLayer.push({event:"EN_FASTFORMFILL_ADDRESS_PARTIALSUCCESS"}):this.dataLayer.push({event:"EN_FASTFORMFILL_ADDRESS_FAILURE"})}t?this.dataLayer.push({event:"EN_FASTFORMFILL_ALL_SUCCESS"}):this.dataLayer.push({event:"EN_FASTFORMFILL_ALL_FAILURE"}),this.attachEventListeners()}onSubmit(){document.querySelector(".en__field__item:not(.en__field--question) input[name^='supporter.questions'][type='checkbox']:checked")?(this.logger.log("EN_SUBMISSION_WITH_EMAIL_OPTIN"),this.dataLayer.push({event:"EN_SUBMISSION_WITH_EMAIL_OPTIN"})):(this.logger.log("EN_SUBMISSION_WITHOUT_EMAIL_OPTIN"),this.dataLayer.push({event:"EN_SUBMISSION_WITHOUT_EMAIL_OPTIN"}))}attachEventListeners(){document.querySelectorAll(".en__component--advrow input:not([type=checkbox]):not([type=radio]):not([type=submit]):not([type=button]):not([type=hidden]):not([unhidden]), .en__component--advrow textarea").forEach(r=>{r.addEventListener("blur",i=>{this.handleFieldValueChange(i.target)})}),document.querySelectorAll(".en__component--advrow input[type=checkbox], .en__component--advrow input[type=radio]").forEach(r=>{r.addEventListener("change",i=>{this.handleFieldValueChange(i.target)})}),document.querySelectorAll(".en__component--advrow select").forEach(r=>{r.addEventListener("change",i=>{this.handleFieldValueChange(i.target)})})}handleFieldValueChange(e){var t,n,r;if(e.value===""||this.excludedFields.includes(e.name))return;let i=this.hashedFields.includes(e.name)?this.hash(e.value):e.value;if(["checkbox","radio"].includes(e.type)){e.checked&&(e.name==="en__pg"?this.dataLayer.push({event:"EN_FORM_VALUE_UPDATED",enFieldName:e.name,enFieldLabel:"Premium Gift",enFieldValue:(n=(t=e.closest(".en__pg__body"))===null||t===void 0?void 0:t.querySelector(".en__pg__name"))===null||n===void 0?void 0:n.textContent,enProductId:(r=document.querySelector('[name="transaction.selprodvariantid"]'))===null||r===void 0?void 0:r.value}):this.dataLayer.push({event:"EN_FORM_VALUE_UPDATED",enFieldName:e.name,enFieldLabel:this.getFieldLabel(e),enFieldValue:i}));return}this.dataLayer.push({event:"EN_FORM_VALUE_UPDATED",enFieldName:e.name,enFieldLabel:this.getFieldLabel(e),enFieldValue:i})}hash(e){return btoa(e)}getFieldLabel(e){var t,n;return((n=(t=e.closest(".en__field"))===null||t===void 0?void 0:t.querySelector("label"))===null||n===void 0?void 0:n.textContent)||""}addEndOfGiftProcessEvent(e,t={}){this.storeEndOfGiftProcessData(Object.assign({event:e},t))}addEndOfGiftProcessVariable(e,t=""){this.storeEndOfGiftProcessData({[`'${e.toUpperCase()}'`]:t})}storeEndOfGiftProcessData(e){let t=this.getEndOfGiftProcessData();t.push(e),window.sessionStorage.setItem(this.endOfGiftProcessStorageKey,JSON.stringify(t))}addEndOfGiftProcessEventsToDataLayer(){this.getEndOfGiftProcessData().forEach(e=>{this.dataLayer.push(e)}),window.sessionStorage.removeItem(this.endOfGiftProcessStorageKey)}getEndOfGiftProcessData(){let e=window.sessionStorage.getItem(this.endOfGiftProcessStorageKey);return e?JSON.parse(e):[]}};var Jr=class{constructor(){this.logger=new S("DataReplace","#333333","#00f3ff","\u2935\uFE0F"),this.enElements=new Array,this.searchElements(),this.shouldRun()&&(this.logger.log("Elements Found:",this.enElements),this.replaceAll())}searchElements(){let e=document.querySelectorAll(`
      .en__component--copyblock,
      .en__component--codeblock,
      .en__field
      `);e.length>0&&e.forEach(t=>{t instanceof HTMLElement&&t.innerHTML.includes("{engrid_data~")&&this.enElements.push(t)})}shouldRun(){return this.enElements.length>0}replaceAll(){let e=/{engrid_data~\[([\w-]+)\]~?\[?(.+?)?\]?}/g;this.enElements.forEach(t=>{let n=t.innerHTML.matchAll(e);for(let r of n)this.replaceItem(t,r)}),s.setBodyData("merge-tags-processed","")}replaceItem(e,[t,n,r]){var i;let o=(i=s.getUrlParameter(`engrid_data[${n}]`))!==null&&i!==void 0?i:r;typeof o=="string"?o=o.replace(/\r?\\n|\n|\r/g,"<br>"):o="",this.logger.log("Replacing",n,o),e.innerHTML=e.innerHTML.replace(t,o)}};var Xr=class{constructor(){if(this.logger=new S("DataHide","#333333","#f0f0f0","\u{1F648}"),this.enElements=new Array,this.logger.log("Constructor"),this.enElements=s.getUrlParameter("engrid_hide[]"),!this.enElements||this.enElements.length===0){this.logger.log("No Elements Found");return}this.logger.log("Elements Found:",this.enElements),this.hideAll()}hideAll(){this.enElements.forEach(e=>{let t=Object.keys(e)[0],n=Object.values(e)[0];this.hideItem(t,n)})}hideItem(e,t){let n=/engrid_hide\[([\w-]+)\]/g,r=[...e.matchAll(n)].map(i=>i[1])[0];switch(t){case"id":let i=document.getElementById(r);i?(this.logger.log("Hiding By ID",r,i),i.setAttribute("hidden-via-url-argument","")):this.logger.error("Element Not Found By ID",r);break;case"class":default:let o=document.getElementsByClassName(r);if(o.length>0)for(let d=0;d<o.length;d++)this.logger.log("Hiding By Class",r,o[d]),o[d].setAttribute("hidden-via-url-argument","");else this.logger.log("No Elements Found By Class",r);break}}};var Zr=class{constructor(){this.shouldRun()&&this.replaceNameShortcode("#en__field_supporter_firstName","#en__field_supporter_lastName")}shouldRun(){return s.getPageType()==="EMAILTOTARGET"}replaceNameShortcode(e,t){let n=document.querySelector(e),r=document.querySelector(t),i=document.querySelector('[name="contact.message"]'),o=!1,d=!1;if(i){if(i.value.includes("{user_data~First Name")||i.value.includes("{user_data~Last Name"))return;!i.value.includes("{user_data~First Name")&&n&&n.addEventListener("blur",l=>{let c=l.target;i&&!o&&(o=!0,i.value=i.value.concat(`
`+c.value))}),!i.value.includes("{user_data~Last Name")&&r&&r.addEventListener("blur",l=>{let c=l.target;i&&!d&&(d=!0,i.value=i.value.concat(" "+c.value))})}}};var Qr=class{constructor(){if(this._form=q.getInstance(),this.logger=new S("ExpandRegionName","#333333","#00eb65","\u{1F30D}"),this.shouldRun()){let e=s.getOption("RegionLongFormat");console.log("expandedRegionField",e),document.querySelector(`[name="${e}"]`)||(this.logger.log(`CREATED field ${e}`),s.createHiddenInput(e)),this._form.onSubmit.subscribe(()=>this.expandRegion())}}shouldRun(){return!!s.getOption("RegionLongFormat")}expandRegion(){let e=document.querySelector('[name="supporter.region"]'),t=s.getOption("RegionLongFormat"),n=document.querySelector(`[name="${t}"]`);if(!e){this.logger.log("No region field to populate the hidden region field with");return}if(e.tagName==="SELECT"&&"options"in e){let r=e.options[e.selectedIndex].innerText;n.value=r,this.logger.log("Populated field",n.value)}else if(e.tagName==="INPUT"){let r=e.value;n.value=r,this.logger.log("Populated field",n.value)}return!0}};var Kr=class{constructor(){this.logger=new S("UrlToForm","white","magenta","\u{1F517}"),this.urlParams=new URLSearchParams(document.location.search),this.shouldRun()&&this.urlParams.forEach((e,t)=>{let n=document.getElementsByName(t)[0];n&&(!["text","textarea"].includes(n.type)||!n.value)&&(s.setFieldValue(t,e),this.logger.log(`Set: ${t} to ${e}`))})}shouldRun(){return!!document.location.search&&this.hasFields()}hasFields(){return[...this.urlParams.keys()].map(t=>document.getElementsByName(t).length>0).includes(!0)}};var $r=class{constructor(){this.logger=new S("RequiredIfVisible","#FFFFFF","#811212","\u{1F6A5}"),this._form=q.getInstance(),this.requiredIfVisibleElements=document.querySelectorAll(`
    .i-required .en__field,
    .i1-required .en__field:nth-of-type(1),
    .i2-required .en__field:nth-of-type(2),
    .i3-required .en__field:nth-of-type(3),
    .i4-required .en__field:nth-of-type(4),
    .i5-required .en__field:nth-of-type(5),
    .i6-required .en__field:nth-of-type(6),
    .i7-required .en__field:nth-of-type(7),
    .i8-required .en__field:nth-of-type(8),
    .i9-required .en__field:nth-of-type(9),
    .i10-required .en__field:nth-of-type(10),
    .i11-required .en__field:nth-of-type(11)
    `),this.shouldRun()&&this._form.onValidate.subscribe(this.validate.bind(this))}shouldRun(){return this.requiredIfVisibleElements.length>0}validate(){Array.from(this.requiredIfVisibleElements).reverse().forEach(e=>{if(s.removeError(e),s.isVisible(e)){this.logger.log(`${e.getAttribute("class")} is visible`);let t=e.querySelector("input:not([type=hidden]) , select, textarea");if(t&&t.closest("[data-unhidden]")===null&&!s.getFieldValue(t.getAttribute("name"))){let n=e.querySelector(".en__field__label");n?(this.logger.log(`${n.innerText} is required`),window.setTimeout(()=>{s.setError(e,`${n.innerText} is required`)},100)):(this.logger.log(`${t.getAttribute("name")} is required`),window.setTimeout(()=>{s.setError(e,"This field is required")},100)),t.focus(),this._form.validate=!1}}})}};var Ii=function(a,e,t,n){function r(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function d(u){try{c(n.next(u))}catch(p){o(p)}}function l(u){try{c(n.throw(u))}catch(p){o(p)}}function c(u){u.done?i(u.value):r(u.value).then(d,l)}c((n=n.apply(a,e||[])).next())})},ei=class{constructor(){var e,t,n,r,i;if(this.logger=new S("TidyContact","#FFFFFF","#4d9068","\u{1F4E7}"),this.endpoint="https://api.tidycontact.io",this.wasCalled=!1,this.httpStatus=0,this.timeout=5,this.isDirty=!1,this._form=q.getInstance(),this.countries_list=[["Afghanistan","af","93","070 123 4567"],["Albania","al","355","067 212 3456"],["Algeria","dz","213","0551 23 45 67"],["American Samoa","as","1","(684) 733-1234"],["Andorra","ad","376","312 345"],["Angola","ao","244","923 123 456"],["Anguilla","ai","1","(264) 235-1234"],["Antigua and Barbuda","ag","1","(268) 464-1234"],["Argentina","ar","54","011 15-2345-6789"],["Armenia","am","374","077 123456"],["Aruba","aw","297","560 1234"],["Australia","au","61","0412 345 678"],["Austria","at","43","0664 123456"],["Azerbaijan","az","994","040 123 45 67"],["Bahamas","bs","1","(242) 359-1234"],["Bahrain","bh","973","3600 1234"],["Bangladesh","bd","880","01812-345678"],["Barbados","bb","1","(246) 250-1234"],["Belarus","by","375","8 029 491-19-11"],["Belgium","be","32","0470 12 34 56"],["Belize","bz","501","622-1234"],["Benin","bj","229","90 01 12 34"],["Bermuda","bm","1","(441) 370-1234"],["Bhutan","bt","975","17 12 34 56"],["Bolivia","bo","591","71234567"],["Bosnia and Herzegovina","ba","387","061 123 456"],["Botswana","bw","267","71 123 456"],["Brazil","br","55","(11) 96123-4567"],["British Indian Ocean Territory","io","246","380 1234"],["British Virgin Islands","vg","1","(284) 300-1234"],["Brunei","bn","673","712 3456"],["Bulgaria","bg","359","048 123 456"],["Burkina Faso","bf","226","70 12 34 56"],["Burundi","bi","257","79 56 12 34"],["Cambodia","kh","855","091 234 567"],["Cameroon","cm","237","6 71 23 45 67"],["Canada","ca","1","(506) 234-5678"],["Cape Verde","cv","238","991 12 34"],["Caribbean Netherlands","bq","599","318 1234"],["Cayman Islands","ky","1","(345) 323-1234"],["Central African Republic","cf","236","70 01 23 45"],["Chad","td","235","63 01 23 45"],["Chile","cl","56","(2) 2123 4567"],["China","cn","86","131 2345 6789"],["Christmas Island","cx","61","0412 345 678"],["Cocos Islands","cc","61","0412 345 678"],["Colombia","co","57","321 1234567"],["Comoros","km","269","321 23 45"],["Congo","cd","243","0991 234 567"],["Congo","cg","242","06 123 4567"],["Cook Islands","ck","682","71 234"],["Costa Rica","cr","506","8312 3456"],["C\xF4te d\u2019Ivoire","ci","225","01 23 45 6789"],["Croatia","hr","385","092 123 4567"],["Cuba","cu","53","05 1234567"],["Cura\xE7ao","cw","599","9 518 1234"],["Cyprus","cy","357","96 123456"],["Czech Republic","cz","420","601 123 456"],["Denmark","dk","45","32 12 34 56"],["Djibouti","dj","253","77 83 10 01"],["Dominica","dm","1","(767) 225-1234"],["Dominican Republic","do","1","(809) 234-5678"],["Ecuador","ec","593","099 123 4567"],["Egypt","eg","20","0100 123 4567"],["El Salvador","sv","503","7012 3456"],["Equatorial Guinea","gq","240","222 123 456"],["Eritrea","er","291","07 123 456"],["Estonia","ee","372","5123 4567"],["Eswatini","sz","268","7612 3456"],["Ethiopia","et","251","091 123 4567"],["Falkland Islands","fk","500","51234"],["Faroe Islands","fo","298","211234"],["Fiji","fj","679","701 2345"],["Finland","fi","358","041 2345678"],["France","fr","33","06 12 34 56 78"],["French Guiana","gf","594","0694 20 12 34"],["French Polynesia","pf","689","87 12 34 56"],["Gabon","ga","241","06 03 12 34"],["Gambia","gm","220","301 2345"],["Georgia","ge","995","555 12 34 56"],["Germany","de","49","01512 3456789"],["Ghana","gh","233","023 123 4567"],["Gibraltar","gi","350","57123456"],["Greece","gr","30","691 234 5678"],["Greenland","gl","299","22 12 34"],["Grenada","gd","1","(473) 403-1234"],["Guadeloupe","gp","590","0690 00 12 34"],["Guam","gu","1","(671) 300-1234"],["Guatemala","gt","502","5123 4567"],["Guernsey","gg","44","07781 123456"],["Guinea","gn","224","601 12 34 56"],["Guinea-Bissau","gw","245","955 012 345"],["Guyana","gy","592","609 1234"],["Haiti","ht","509","34 10 1234"],["Honduras","hn","504","9123-4567"],["Hong Kong","hk","852","5123 4567"],["Hungary","hu","36","06 20 123 4567"],["Iceland","is","354","611 1234"],["India","in","91","081234 56789"],["Indonesia","id","62","0812-345-678"],["Iran","ir","98","0912 345 6789"],["Iraq","iq","964","0791 234 5678"],["Ireland","ie","353","085 012 3456"],["Isle of Man","im","44","07924 123456"],["Israel","il","972","050-234-5678"],["Italy","it","39","312 345 6789"],["Jamaica","jm","1","(876) 210-1234"],["Japan","jp","81","090-1234-5678"],["Jersey","je","44","07797 712345"],["Jordan","jo","962","07 9012 3456"],["Kazakhstan","kz","7","8 (771) 000 9998"],["Kenya","ke","254","0712 123456"],["Kiribati","ki","686","72001234"],["Kosovo","xk","383","043 201 234"],["Kuwait","kw","965","500 12345"],["Kyrgyzstan","kg","996","0700 123 456"],["Laos","la","856","020 23 123 456"],["Latvia","lv","371","21 234 567"],["Lebanon","lb","961","71 123 456"],["Lesotho","ls","266","5012 3456"],["Liberia","lr","231","077 012 3456"],["Libya","ly","218","091-2345678"],["Liechtenstein","li","423","660 234 567"],["Lithuania","lt","370","(8-612) 34567"],["Luxembourg","lu","352","628 123 456"],["Macau","mo","853","6612 3456"],["North Macedonia","mk","389","072 345 678"],["Madagascar","mg","261","032 12 345 67"],["Malawi","mw","265","0991 23 45 67"],["Malaysia","my","60","012-345 6789"],["Maldives","mv","960","771-2345"],["Mali","ml","223","65 01 23 45"],["Malta","mt","356","9696 1234"],["Marshall Islands","mh","692","235-1234"],["Martinique","mq","596","0696 20 12 34"],["Mauritania","mr","222","22 12 34 56"],["Mauritius","mu","230","5251 2345"],["Mayotte","yt","262","0639 01 23 45"],["Mexico","mx","52","222 123 4567"],["Micronesia","fm","691","350 1234"],["Moldova","md","373","0621 12 345"],["Monaco","mc","377","06 12 34 56 78"],["Mongolia","mn","976","8812 3456"],["Montenegro","me","382","067 622 901"],["Montserrat","ms","1","(664) 492-3456"],["Morocco","ma","212","0650-123456"],["Mozambique","mz","258","82 123 4567"],["Myanmar","mm","95","09 212 3456"],["Namibia","na","264","081 123 4567"],["Nauru","nr","674","555 1234"],["Nepal","np","977","984-1234567"],["Netherlands","nl","31","06 12345678"],["New Caledonia","nc","687","75.12.34"],["New Zealand","nz","64","021 123 4567"],["Nicaragua","ni","505","8123 4567"],["Niger","ne","227","93 12 34 56"],["Nigeria","ng","234","0802 123 4567"],["Niue","nu","683","888 4012"],["Norfolk Island","nf","672","3 81234"],["North Korea","kp","850","0192 123 4567"],["Northern Mariana Islands","mp","1","(670) 234-5678"],["Norway","no","47","406 12 345"],["Oman","om","968","9212 3456"],["Pakistan","pk","92","0301 2345678"],["Palau","pw","680","620 1234"],["Palestine","ps","970","0599 123 456"],["Panama","pa","507","6123-4567"],["Papua New Guinea","pg","675","7012 3456"],["Paraguay","py","595","0961 456789"],["Peru","pe","51","912 345 678"],["Philippines","ph","63","0905 123 4567"],["Poland","pl","48","512 345 678"],["Portugal","pt","351","912 345 678"],["Puerto Rico","pr","1","(787) 234-5678"],["Qatar","qa","974","3312 3456"],["R\xE9union","re","262","0692 12 34 56"],["Romania","ro","40","0712 034 567"],["Russia","ru","7","8 (912) 345-67-89"],["Rwanda","rw","250","0720 123 456"],["Saint Barth\xE9lemy","bl","590","0690 00 12 34"],["Saint Helena","sh","290","51234"],["Saint Kitts and Nevis","kn","1","(869) 765-2917"],["Saint Lucia","lc","1","(758) 284-5678"],["Saint Martin","mf","590","0690 00 12 34"],["Saint Pierre and Miquelon","pm","508","055 12 34"],["Saint Vincent and the Grenadines","vc","1","(784) 430-1234"],["Samoa","ws","685","72 12345"],["San Marino","sm","378","66 66 12 12"],["S\xE3o Tom\xE9 and Pr\xEDncipe","st","239","981 2345"],["Saudi Arabia","sa","966","051 234 5678"],["Senegal","sn","221","70 123 45 67"],["Serbia","rs","381","060 1234567"],["Seychelles","sc","248","2 510 123"],["Sierra Leone","sl","232","(025) 123456"],["Singapore","sg","65","8123 4567"],["Sint Maarten","sx","1","(721) 520-5678"],["Slovakia","sk","421","0912 123 456"],["Slovenia","si","386","031 234 567"],["Solomon Islands","sb","677","74 21234"],["Somalia","so","252","7 1123456"],["South Africa","za","27","071 123 4567"],["South Korea","kr","82","010-2000-0000"],["South Sudan","ss","211","0977 123 456"],["Spain","es","34","612 34 56 78"],["Sri Lanka","lk","94","071 234 5678"],["Sudan","sd","249","091 123 1234"],["Suriname","sr","597","741-2345"],["Svalbard and Jan Mayen","sj","47","412 34 567"],["Sweden","se","46","070-123 45 67"],["Switzerland","ch","41","078 123 45 67"],["Syria","sy","963","0944 567 890"],["Taiwan","tw","886","0912 345 678"],["Tajikistan","tj","992","917 12 3456"],["Tanzania","tz","255","0621 234 567"],["Thailand","th","66","081 234 5678"],["Timor-Leste","tl","670","7721 2345"],["Togo","tg","228","90 11 23 45"],["Tokelau","tk","690","7290"],["Tonga","to","676","771 5123"],["Trinidad and Tobago","tt","1","(868) 291-1234"],["Tunisia","tn","216","20 123 456"],["Turkey","tr","90","0501 234 56 78"],["Turkmenistan","tm","993","8 66 123456"],["Turks and Caicos Islands","tc","1","(649) 231-1234"],["Tuvalu","tv","688","90 1234"],["U.S. Virgin Islands","vi","1","(340) 642-1234"],["Uganda","ug","256","0712 345678"],["Ukraine","ua","380","050 123 4567"],["United Arab Emirates","ae","971","050 123 4567"],["United Kingdom","gb","44","07400 123456"],["United States","us","1","(201) 555-0123"],["Uruguay","uy","598","094 231 234"],["Uzbekistan","uz","998","8 91 234 56 78"],["Vanuatu","vu","678","591 2345"],["Vatican City","va","39","312 345 6789"],["Venezuela","ve","58","0412-1234567"],["Vietnam","vn","84","091 234 56 78"],["Wallis and Futuna","wf","681","82 12 34"],["Western Sahara","eh","212","0650-123456"],["Yemen","ye","967","0712 345 678"],["Zambia","zm","260","095 5123456"],["Zimbabwe","zw","263","071 234 5678"],["\xC5land Islands","ax","358","041 2345678"]],this.countries_dropdown=null,this.country_ip=null,this.options=s.getOption("TidyContact"),!(this.options===!1||!(!((e=this.options)===null||e===void 0)&&e.cid))){if(this.loadOptions(),!this.hasAddressFields()&&!this.phoneEnabled()){this.logger.log("No address fields found");return}if(this.createFields(),this.addEventListeners(),s.checkNested(window.EngagingNetworks,"require","_defined","enjs","checkSubmissionFailed")&&!window.EngagingNetworks.require._defined.enjs.checkSubmissionFailed()&&s.getFieldValue((n=(t=this.options)===null||t===void 0?void 0:t.address_fields)===null||n===void 0?void 0:n.address1)!=""&&(this.logger.log("Address Field is not empty"),this.isDirty=!0),this.phoneEnabled()){this.createPhoneFields(),this.createPhoneMarginVariable(),this.logger.log("Phone Standardization is enabled"),this.countryDropDownEnabled()&&this.renderFlagsDropDown();let o=s.getField((i=(r=this.options)===null||r===void 0?void 0:r.address_fields)===null||i===void 0?void 0:i.phone);o&&(o.addEventListener("keyup",d=>{this.handlePhoneInputKeydown(d)}),this.setDefaultPhoneCountry())}}}loadOptions(){var e,t,n;this.options&&!this.options.address_fields&&(this.options.address_fields={address1:"supporter.address1",address2:"supporter.address2",address3:"supporter.address3",city:"supporter.city",region:"supporter.region",postalCode:"supporter.postcode",country:"supporter.country",phone:"supporter.phoneNumber2"}),this.options&&this.options.phone_enable&&(this.options.phone_flags=(e=this.options.phone_flags)!==null&&e!==void 0?e:!0,this.options.phone_country_from_ip=(t=this.options.phone_country_from_ip)!==null&&t!==void 0?t:!0,this.options.phone_preferred_countries=(n=this.options.phone_preferred_countries)!==null&&n!==void 0?n:[])}createFields(){var e,t,n,r,i,o;if(!this.options||!this.hasAddressFields())return;let d=s.getField("supporter.geo.latitude"),l=s.getField("supporter.geo.longitude");d||(s.createHiddenInput("supporter.geo.latitude",""),this.logger.log("Creating Hidden Field: supporter.geo.latitude")),l||(s.createHiddenInput("supporter.geo.longitude",""),this.logger.log("Creating Hidden Field: supporter.geo.longitude")),this.options.record_field&&(s.getField(this.options.record_field)||(s.createHiddenInput(this.options.record_field,""),this.logger.log("Creating Hidden Field: "+this.options.record_field))),this.options.date_field&&(s.getField(this.options.date_field)||(s.createHiddenInput(this.options.date_field,""),this.logger.log("Creating Hidden Field: "+this.options.date_field))),this.options.status_field&&(s.getField(this.options.status_field)||(s.createHiddenInput(this.options.status_field,""),this.logger.log("Creating Hidden Field: "+this.options.status_field))),s.getField((e=this.options.address_fields)===null||e===void 0?void 0:e.address2)||(s.createHiddenInput((t=this.options.address_fields)===null||t===void 0?void 0:t.address2,""),this.logger.log("Creating Hidden Field: "+((n=this.options.address_fields)===null||n===void 0?void 0:n.address2))),s.getField((r=this.options.address_fields)===null||r===void 0?void 0:r.address3)||(s.createHiddenInput((i=this.options.address_fields)===null||i===void 0?void 0:i.address3,""),this.logger.log("Creating Hidden Field: "+((o=this.options.address_fields)===null||o===void 0?void 0:o.address3)))}createPhoneFields(){this.options&&(s.createHiddenInput("tc.phone.country",""),this.logger.log("Creating hidden field: tc.phone.country"),this.options.phone_record_field&&(s.getField(this.options.phone_record_field)||(s.createHiddenInput(this.options.phone_record_field,""),this.logger.log("Creating hidden field: "+this.options.phone_record_field))),this.options.phone_date_field&&(s.getField(this.options.phone_date_field)||(s.createHiddenInput(this.options.phone_date_field,""),this.logger.log("Creating hidden field: "+this.options.phone_date_field))),this.options.phone_status_field&&(s.getField(this.options.phone_status_field)||(s.createHiddenInput(this.options.phone_status_field,""),this.logger.log("Creating hidden field: "+this.options.phone_status_field))))}createPhoneMarginVariable(){var e;if(!this.options)return;let t=s.getField((e=this.options.address_fields)===null||e===void 0?void 0:e.phone);if(t){let n=window.getComputedStyle(t),r=n.marginTop,i=n.marginBottom;document.documentElement.style.setProperty("--tc-phone-margin-top",r),document.documentElement.style.setProperty("--tc-phone-margin-bottom",i)}}addEventListeners(){if(this.options){if(this.options.address_fields)for(let[e,t]of Object.entries(this.options.address_fields)){let n=s.getField(t);n&&n.addEventListener("change",()=>{this.logger.log("Changed "+n.name,!0),this.isDirty=!0})}this._form.onSubmit.subscribe(this.callAPI.bind(this))}}checkSum(e){return Ii(this,void 0,void 0,function*(){let t=new TextEncoder().encode(e),n=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(o=>("00"+o.toString(16)).slice(-2)).join("")})}todaysDate(){return new Date().toLocaleString("en-ZA",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\/+/g,"")}countryAllowed(e){var t;return this.options?!!(!((t=this.options.countries)===null||t===void 0)&&t.includes(e.toLowerCase())):!1}fetchTimeOut(e,t){let n=new AbortController,r=n.signal;t=Object.assign(Object.assign({},t),{signal:r});let i=fetch(e,t);r&&r.addEventListener("abort",()=>n.abort());let o=setTimeout(()=>n.abort(),this.timeout*1e3);return i.finally(()=>clearTimeout(o))}writeError(e){if(!this.options)return;let t=s.getField(this.options.record_field),n=s.getField(this.options.date_field),r=s.getField(this.options.status_field);if(t){let i="";switch(this.httpStatus){case 400:i="Bad Request";break;case 401:i="Unauthorized";break;case 403:i="Forbidden";break;case 404:i="Not Found";break;case 408:i="API Request Timeout";break;case 500:i="Internal Server Error";break;case 503:i="Service Unavailable";break;default:i="Unknown Error";break}let o={status:this.httpStatus,error:typeof e=="string"?e:i.toUpperCase()};t.value=JSON.stringify(o)}n&&(n.value=this.todaysDate()),r&&(r.value="ERROR-API")}setFields(e){var t,n,r,i,o;if(!this.options)return{};let d={},l=this.getCountry(),c=s.getFieldValue((t=this.options.address_fields)===null||t===void 0?void 0:t.postalCode),u=(n=this.options.us_zip_divider)!==null&&n!==void 0?n:"+",p=s.getField((r=this.options.address_fields)===null||r===void 0?void 0:r.address2);"address2"in e&&!p&&(s.getFieldValue((i=this.options.address_fields)===null||i===void 0?void 0:i.address1)==e.address1+" "+e.address2?(delete e.address1,delete e.address2):(e.address1=e.address1+" "+e.address2,delete e.address2)),"postalCode"in e&&c.replace("+",u)===e.postalCode.replace("+",u)&&delete e.postalCode;for(let g in e){let m=this.options.address_fields&&Object.keys(this.options.address_fields).includes(g)?this.options.address_fields[g]:g,v=s.getField(m);if(v){let w=e[g];g==="postalCode"&&["US","USA","United States"].includes(l)&&(w=(o=w.replace("+",u))!==null&&o!==void 0?o:""),d[g]={from:v.value,to:w},this.logger.log(`Set ${v.name} to ${w} (${v.value})`),s.setFieldValue(m,w,!1)}else this.logger.log(`Field ${g} not found`)}return d}hasAddressFields(){var e,t,n,r,i,o;if(!this.options)return!1;let d=s.getField((e=this.options.address_fields)===null||e===void 0?void 0:e.address1),l=s.getField((t=this.options.address_fields)===null||t===void 0?void 0:t.address2),c=s.getField((n=this.options.address_fields)===null||n===void 0?void 0:n.city),u=s.getField((r=this.options.address_fields)===null||r===void 0?void 0:r.region),p=s.getField((i=this.options.address_fields)===null||i===void 0?void 0:i.postalCode),g=s.getField((o=this.options.address_fields)===null||o===void 0?void 0:o.country);return!!(d||l||c||u||p||g)}canUseAPI(){var e,t,n,r;if(!this.options)return!1;let i=!!this.getCountry(),o=!!s.getFieldValue((e=this.options.address_fields)===null||e===void 0?void 0:e.address1),d=!!s.getFieldValue((t=this.options.address_fields)===null||t===void 0?void 0:t.city),l=!!s.getFieldValue((n=this.options.address_fields)===null||n===void 0?void 0:n.region),c=!!s.getFieldValue((r=this.options.address_fields)===null||r===void 0?void 0:r.postalCode);return i&&o?d&&l||c:!1}canUsePhoneAPI(){var e;if(!this.options)return!1;if(this.phoneEnabled()){let t=!!s.getFieldValue((e=this.options.address_fields)===null||e===void 0?void 0:e.phone),n=!!s.getFieldValue("tc.phone.country");return t&&n}return!1}getCountry(){var e,t;if(!this.options)return"";let n=(e=this.options.country_fallback)!==null&&e!==void 0?e:"";return s.getFieldValue((t=this.options.address_fields)===null||t===void 0?void 0:t.country)||n.toUpperCase()}getCountryByCode(e){var t;let n=(t=this.countries_list.find(r=>r.includes(e)))!==null&&t!==void 0?t:"";return n?{name:n[0],code:n[1],dialCode:n[2],placeholder:n[3]}:null}phoneEnabled(){return!!(this.options&&this.options.phone_enable)}countryDropDownEnabled(){return!!(this.options&&this.options.phone_flags)}getCountryFromIP(){return Ii(this,void 0,void 0,function*(){return fetch(`https://${window.location.hostname}/cdn-cgi/trace`).then(e=>e.text()).then(e=>{let t=e.replace(/[\r\n]+/g,'","').replace(/\=+/g,'":"');t='{"'+t.slice(0,t.lastIndexOf('","'))+'"}';let n=JSON.parse(t);return this.country_ip=n.loc,this.country_ip})})}renderFlagsDropDown(){var e;if(!this.options)return;let t=s.getField((e=this.options.address_fields)===null||e===void 0?void 0:e.phone);if(!t)return;this.countries_dropdown=document.createElement("div"),this.countries_dropdown.classList.add("tc-flags-container");let n=document.createElement("div");n.classList.add("tc-selected-flag"),n.setAttribute("role","combobox"),n.setAttribute("aria-haspopup","listbox"),n.setAttribute("aria-expanded","false"),n.setAttribute("aria-owns","tc-flags-list"),n.setAttribute("aria-label","Select Country"),n.setAttribute("tabindex","0");let r=document.createElement("div");r.classList.add("tc-flag");let i=document.createElement("div");i.classList.add("tc-flag-arrow"),n.appendChild(r),n.appendChild(i),n.addEventListener("click",l=>{l.preventDefault(),l.stopPropagation(),n.classList.contains("tc-open")?this.closeCountryDropDown():this.openCountryDropDown()});let o=document.createElement("ul");if(o.classList.add("tc-country-list"),o.classList.add("tc-hide"),o.setAttribute("id","tc-country-list"),o.setAttribute("role","listbox"),o.setAttribute("aria-label","List of Countries"),o.setAttribute("aria-hidden","true"),this.options.phone_preferred_countries.length>0){let l=[];this.options.phone_preferred_countries.forEach(u=>{let p=this.getCountryByCode(u);p&&l.push(p)}),this.appendCountryItems(o,l,"tc-country-list-item",!0);let c=document.createElement("li");c.classList.add("tc-divider"),c.setAttribute("role","separator"),c.setAttribute("aria-disabled","true"),o.appendChild(c),this.logger.log("Rendering preferred countries",JSON.stringify(l))}let d=[];this.countries_list.forEach(l=>{d.push({name:l[0],code:l[1],dialCode:l[2],placeholder:l[3]})}),this.appendCountryItems(o,d,"tc-country-list-item"),o.addEventListener("click",l=>{l.preventDefault(),l.stopPropagation();let c=l.target.closest("li");if(c.classList.contains("tc-country-list-item")){let u=this.getCountryByCode(c.getAttribute("data-country-code"));u&&this.setPhoneCountry(u)}}),o.addEventListener("mouseover",l=>{l.preventDefault(),l.stopPropagation();let c=l.target.closest("li.tc-country-list-item");c&&this.highlightCountry(c.getAttribute("data-country-code"))}),this.countries_dropdown.appendChild(n),this.countries_dropdown.appendChild(o),t.parentNode.insertBefore(this.countries_dropdown,t),t.parentNode.classList.add("tc-has-country-flags"),this.countries_dropdown.addEventListener("keydown",l=>{var c,u;((u=(c=this.countries_dropdown)===null||c===void 0?void 0:c.querySelector(".tc-country-list"))===null||u===void 0?void 0:u.classList.contains("tc-hide"))&&["ArrowUp","Up","ArrowDown","Down"," ","Enter"].indexOf(l.key)!==-1&&(l.preventDefault(),l.stopPropagation(),this.openCountryDropDown()),l.key==="Tab"&&this.closeCountryDropDown()}),document.addEventListener("keydown",l=>{var c,u;((u=(c=this.countries_dropdown)===null||c===void 0?void 0:c.querySelector(".tc-country-list"))===null||u===void 0?void 0:u.classList.contains("tc-hide"))||(l.preventDefault(),l.key==="ArrowUp"||l.key==="Up"||l.key==="ArrowDown"||l.key==="Down"?this.handleUpDownKey(l.key):l.key==="Enter"?this.handleEnterKey():l.key==="Escape"&&this.closeCountryDropDown())}),document.addEventListener("click",l=>{var c,u;!((u=(c=this.countries_dropdown)===null||c===void 0?void 0:c.querySelector(".tc-country-list"))===null||u===void 0?void 0:u.classList.contains("tc-hide"))&&!l.target.closest(".tc-country-list")&&this.closeCountryDropDown()})}handleUpDownKey(e){var t;let n=(t=this.countries_dropdown)===null||t===void 0?void 0:t.querySelector(".tc-highlight");if(n){let r=e==="ArrowUp"||e==="Up"?n.previousElementSibling:n.nextElementSibling;r&&(r.classList.contains("tc-divider")&&(r=e==="ArrowUp"||e==="Up"?r.previousElementSibling:r.nextElementSibling),this.highlightCountry(r?.getAttribute("data-country-code")))}}handleEnterKey(){var e;let t=(e=this.countries_dropdown)===null||e===void 0?void 0:e.querySelector(".tc-highlight");if(t){let n=this.getCountryByCode(t?.getAttribute("data-country-code"));this.setPhoneCountry(n)}}handlePhoneInputKeydown(e){let n=e.target.value;if(n.charAt(0)==="+"&&n.length>2){let r=this.getCountryByCode(n.substring(1,3));r?this.setPhoneCountry(r):this.setDefaultPhoneCountry()}}openCountryDropDown(){if(!this.countries_dropdown)return;let e=this.countries_dropdown.querySelector(".tc-country-list"),t=this.countries_dropdown.querySelector(".tc-selected-flag");e&&t&&(e.classList.remove("tc-hide"),t.setAttribute("aria-expanded","true"),t.classList.add("tc-open"))}closeCountryDropDown(){var e;if(!this.options||!this.countries_dropdown)return;let t=this.countries_dropdown.querySelector(".tc-country-list"),n=this.countries_dropdown.querySelector(".tc-selected-flag");t&&n&&(t.classList.add("tc-hide"),n.setAttribute("aria-expanded","false"),n.classList.remove("tc-open")),s.getField((e=this.options.address_fields)===null||e===void 0?void 0:e.phone).focus()}getFlagImage(e,t){return`<picture>
      <source
        loading="lazy"
        type="image/webp"
        srcset="https://flagcdn.com/h20/${e}.webp,
          https://flagcdn.com/h40/${e}.webp 2x,
          https://flagcdn.com/h60/${e}.webp 3x">
      <source
        loading="lazy"
        type="image/png"
        srcset="https://flagcdn.com/h20/${e}.png,
          https://flagcdn.com/h40/${e}.png 2x,
          https://flagcdn.com/h60/${e}.png 3x">
      <img
        loading="lazy"
        src="https://flagcdn.com/h20/${e}.png"
        height="20"
        alt="${t}">
    </picture>`}appendCountryItems(e,t,n,r=!1){let i="";for(let o=0;o<t.length;o++){let d=t[o],l=r?"-preferred":"";i+=`<li class='tc-country ${n}' tabIndex='-1' id='tc-item-${d.code}${l}' role='option' data-dial-code='${d.dialCode}' data-country-code='${d.code}' aria-selected='false'>`,i+=`<div class='tc-flag-box'><div class='tc-flag tc-${d.code}'>${this.getFlagImage(d.code,d.name)}</div></div>`,i+=`<span class='tc-country-name'>${d.name}</span>`,i+=`<span class='tc-dial-code'>+${d.dialCode}</span>`,i+="</li>"}e.insertAdjacentHTML("beforeend",i)}setDefaultPhoneCountry(){var e;if(!this.options)return;if(this.options.phone_country_from_ip){this.getCountryFromIP().then(n=>{this.logger.log("Country from IP:",n),this.setPhoneCountry(this.getCountryByCode((n??"us").toLowerCase()))}).catch(n=>{this.setPhoneCountry(this.getCountryByCode("us"))});return}let t=s.getField((e=this.options.address_fields)===null||e===void 0?void 0:e.country);if(t){let n=t.options[t.selectedIndex].text,r=this.getCountryByCode(n);if(r){this.setPhoneCountry(r);return}else if(this.options.phone_preferred_countries.length>0){this.setPhoneCountry(this.getCountryByCode(this.options.phone_preferred_countries[0]));return}}this.setPhoneCountry(this.getCountryByCode("us"))}setPhoneCountry(e){var t,n,r,i,o,d;if(!this.options||!e)return;let l=s.getField("tc.phone.country");if(l.value===e.code)return;let c=s.getField((t=this.options.address_fields)===null||t===void 0?void 0:t.phone);if(this.countryDropDownEnabled()){let u=(n=this.countries_dropdown)===null||n===void 0?void 0:n.querySelector(".tc-selected-flag"),p=(r=this.countries_dropdown)===null||r===void 0?void 0:r.querySelector(".tc-flag");u&&p&&(p.innerHTML=this.getFlagImage(e.code,e.name),u.setAttribute("data-country",e.code));let g=(i=this.countries_dropdown)===null||i===void 0?void 0:i.querySelector(".tc-country-list-item[aria-selected='true']");g&&(g.classList.remove("tc-selected"),g.setAttribute("aria-selected","false"));let m=(o=this.countries_dropdown)===null||o===void 0?void 0:o.querySelector(".tc-highlight");m&&m.classList.remove("tc-highlight");let v=(d=this.countries_dropdown)===null||d===void 0?void 0:d.querySelector(`.tc-country-list-item[data-country-code='${e.code}']`);v&&(v.classList.add("tc-selected"),v.setAttribute("aria-selected","true"),v.classList.add("tc-highlight")),u?.classList.contains("tc-open")&&this.closeCountryDropDown()}c.setAttribute("placeholder",e.placeholder),l.value=e.code,this.logger.log(`Setting phone country to ${e.code} -  ${e.name}`)}highlightCountry(e){var t,n;if(!e)return;let r=(t=this.countries_dropdown)===null||t===void 0?void 0:t.querySelector(".tc-highlight");r&&r.classList.remove("tc-highlight");let i=(n=this.countries_dropdown)===null||n===void 0?void 0:n.querySelector(".tc-country-list");if(i){let o=i.querySelector(`.tc-country[data-country-code='${e}']`);o&&(o.classList.add("tc-highlight"),o.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}))}}setPhoneDataFromAPI(e,t){var n;return Ii(this,void 0,void 0,function*(){if(!this.options)return;let r=s.getField((n=this.options.address_fields)===null||n===void 0?void 0:n.phone),i=s.getField(this.options.phone_record_field),o=s.getField(this.options.phone_date_field),d=s.getField(this.options.phone_status_field),l={};l.formData={[r.name]:r.value},l.formatted=e.formatted,l.number_type=e.number_type,e.valid===!0?(r.value!==e.formatted.e164&&(l.phone={from:r.value,to:e.formatted.e164},r.value=e.formatted.e164),yield this.checkSum(JSON.stringify(l)).then(c=>{this.logger.log("Phone Checksum",c),l.requestId=t,l.checksum=c}),i&&(l=Object.assign({date:this.todaysDate(),status:"SUCCESS"},l),i.value=JSON.stringify(l)),o&&(o.value=this.todaysDate()),d&&(d.value="SUCCESS")):(yield this.checkSum(JSON.stringify(l)).then(c=>{this.logger.log("Phone Checksum",c),l.requestId=t,l.checksum=c}),i&&(l=Object.assign({date:this.todaysDate(),status:"ERROR"},l),i.value=JSON.stringify(l)),o&&(o.value=this.todaysDate()),d&&(d.value="error"in e?"ERROR: "+e.error:"INVALIDPHONE"))})}callAPI(){var e,t,n,r,i,o;if(!this.options||!this.isDirty||this.wasCalled)return;if(!this._form.submit){this.logger.log("Form Submission Interrupted by Other Component");return}let d=s.getField(this.options.record_field),l=s.getField(this.options.date_field),c=s.getField(this.options.status_field),u=s.getField("supporter.geo.latitude"),p=s.getField("supporter.geo.longitude");if(!this.canUseAPI()&&!this.canUsePhoneAPI())return this.logger.log("Not Enough Data to Call API"),l&&(l.value=this.todaysDate()),c&&(c.value="PARTIALADDRESS"),!0;let g=s.getFieldValue((e=this.options.address_fields)===null||e===void 0?void 0:e.address1),m=s.getFieldValue((t=this.options.address_fields)===null||t===void 0?void 0:t.address2),v=s.getFieldValue((n=this.options.address_fields)===null||n===void 0?void 0:n.city),w=s.getFieldValue((r=this.options.address_fields)===null||r===void 0?void 0:r.region),k=s.getFieldValue((i=this.options.address_fields)===null||i===void 0?void 0:i.postalCode),x=this.getCountry();if(!this.countryAllowed(x)){if(this.logger.log("Country not allowed: "+x),d){let _={};_=Object.assign({date:this.todaysDate(),status:"DISALLOWED"},_),d.value=JSON.stringify(_)}return l&&(l.value=this.todaysDate()),c&&(c.value="DISALLOWED"),!0}let h={url:window.location.href,cid:this.options.cid};this.canUseAPI()&&(h=Object.assign(h,{address1:g,address2:m,city:v,region:w,postalCode:k,country:x})),this.canUsePhoneAPI()&&(h.phone=s.getFieldValue((o=this.options.address_fields)===null||o===void 0?void 0:o.phone),h.phoneCountry=s.getFieldValue("tc.phone.country")),this.wasCalled=!0,this.logger.log("FormData",JSON.parse(JSON.stringify(h)));let y=this.fetchTimeOut(this.endpoint,{headers:{"Content-Type":"application/json; charset=utf-8"},method:"POST",body:JSON.stringify(h)}).then(_=>(this.httpStatus=_.status,_.json())).then(_=>Ii(this,void 0,void 0,function*(){if(this.logger.log("callAPI response",JSON.parse(JSON.stringify(_))),_.valid===!0){let f={};"changed"in _&&(f=this.setFields(_.changed)),f.formData=h,yield this.checkSum(JSON.stringify(f)).then(b=>{this.logger.log("Checksum",b),f.requestId=_.requestId,f.checksum=b}),"latitude"in _&&(u.value=_.latitude,f.latitude=_.latitude),"longitude"in _&&(p.value=_.longitude,f.longitude=_.longitude),d&&(f=Object.assign({date:this.todaysDate(),status:"SUCCESS"},f),d.value=JSON.stringify(f)),l&&(l.value=this.todaysDate()),c&&(c.value="SUCCESS")}else{let f={};f.formData=h,yield this.checkSum(JSON.stringify(f)).then(b=>{this.logger.log("Checksum",b),f.requestId=_.requestId,f.checksum=b}),d&&(f=Object.assign({date:this.todaysDate(),status:"ERROR"},f),d.value=JSON.stringify(f)),l&&(l.value=this.todaysDate()),c&&(c.value="error"in _?"ERROR: "+_.error:"INVALIDADDRESS")}this.phoneEnabled()&&"phone"in _&&(yield this.setPhoneDataFromAPI(_.phone,_.requestId))})).catch(_=>{_.toString().includes("AbortError")&&(this.logger.log("Fetch aborted"),this.httpStatus=408),this.writeError(_)});return this._form.submitPromise=y,y}};var ti=class{constructor(){this.logger=new S("LiveCurrency","#1901b1","#feb47a","\u{1F4B2}"),this.elementsFound=!1,this.isUpdating=!1,this._amount=V.getInstance(),this._frequency=Z.getInstance(),this._fees=Ee.getInstance(),this.searchElements(),this.shouldRun()&&(s.setBodyData("live-currency","active"),this.updateCurrency(),this.addEventListeners(),document.querySelectorAll(".en__field--donationAmt .en__field__element--radio .en__field__item").forEach(e=>{e.setAttribute("data-engrid-currency-symbol-updated","true")}))}searchElements(){let e=document.querySelectorAll(`
      .en__component--copyblock,
      .en__component--codeblock,
      .en__field label,
      .en__submit
      `);if(e.length>0){this.elementsFound=!0;let t=s.getCurrencySymbol(),n=s.getCurrencyCode(),r=`<span class="engrid-currency-symbol">${t}</span>`,i=`<span class="engrid-currency-code">${n}</span>`;e.forEach(o=>{if(!(o instanceof HTMLElement&&o.innerHTML.startsWith("<script"))&&o instanceof HTMLElement&&(o.innerHTML.includes("[$]")||o.innerHTML.includes("[$$$]"))){this.logger.log("Old Value:",o.innerHTML);let d=/\[\$\]/g,l=/\[\$\$\$\]/g;o.innerHTML=o.innerHTML.replace(l,i),o.innerHTML=o.innerHTML.replace(d,r),this.logger.log("New Value:",o.innerHTML)}})}}shouldRun(){return this.elementsFound}addMutationObserver(){let e=document.querySelector(".en__field--donationAmt .en__field__element--radio");if(!e)return;let t=new MutationObserver(r=>{r.forEach(i=>{if(i.type==="childList"){if(this.isUpdating)return;this.isUpdating=!0,setTimeout(()=>{this.searchElements(),this.updateCurrency(),e.querySelectorAll(".en__field__item").forEach(o=>{o.setAttribute("data-engrid-currency-symbol-updated","true")}),this.isUpdating=!1},20)}})}),n={childList:!0};t.observe(e,n)}addEventListeners(){this._fees.onFeeChange.subscribe(()=>{setTimeout(()=>{this.updateCurrency()},10)}),this._amount.onAmountChange.subscribe(()=>{setTimeout(()=>{this.updateCurrency()},10)}),this._frequency.onFrequencyChange.subscribe(()=>{this.isUpdating||(this.isUpdating=!0,setTimeout(()=>{this.searchElements(),this.updateCurrency(),document.querySelectorAll(".en__field--donationAmt .en__field__element--radio .en__field__item").forEach(t=>{t.setAttribute("data-engrid-currency-symbol-updated","true")}),this.isUpdating=!1},10))});let e=s.getField("transaction.paycurrency");e&&e.addEventListener("change",()=>{setTimeout(()=>{this.updateCurrency(),this._amount.load();let t=document.querySelector(".en__field--donationAmt .en__field__item--other");t&&t.setAttribute("data-currency-symbol",s.getCurrencySymbol()),s.setBodyData("currency-code",s.getCurrencyCode())},10)}),this.addMutationObserver()}updateCurrency(){let e=document.querySelectorAll(".engrid-currency-symbol"),t=document.querySelectorAll(".engrid-currency-code");e.length>0&&e.forEach(n=>{n.innerHTML=s.getCurrencySymbol()}),t.length>0&&t.forEach(n=>{n.innerHTML=s.getCurrencyCode()}),this.logger.log(`Currency updated for ${e.length+t.length} elements`)}};var ni=class{constructor(){this.logger=new S("CustomCurrency","#1901b1","#00cc95","\u{1F911}"),this.currencyElement=document.querySelector("[name='transaction.paycurrency']"),this.countryElement=document.getElementById("en__field_supporter_country"),this.shouldRun()&&(this.addEventListeners(),this.loadCurrencies())}shouldRun(){return!(!this.currencyElement||!s.getOption("CustomCurrency"))}addEventListeners(){this.countryElement&&this.countryElement.addEventListener("change",e=>{this.loadCurrencies(e.target.value)})}loadCurrencies(e="default"){let t=s.getOption("CustomCurrency");if(!t)return;let n=t.label||"Give with [$$$]",r=t.default;if(t.countries&&t.countries[e]&&(r=t.countries[e]),!r){this.logger.log(`No currencies found for ${e}`);return}this.logger.log(`Loading currencies for ${e}`),this.currencyElement.innerHTML="";for(let o in r){let d=document.createElement("option");d.value=o,d.text=n.replace("[$$$]",o).replace("[$]",r[o]),d.setAttribute("data-currency-code",o),d.setAttribute("data-currency-symbol",r[o]),this.currencyElement.appendChild(d)}this.currencyElement.selectedIndex=0;let i=new Event("change",{bubbles:!0});this.currencyElement.dispatchEvent(i)}};var ri=class{constructor(){this.logger=new S("Autosubmit","#f0f0f0","#ff0000","\u{1F680}"),this._form=q.getInstance(),s.checkNested(window.EngagingNetworks,"require","_defined","enjs","checkSubmissionFailed")&&!window.EngagingNetworks.require._defined.enjs.checkSubmissionFailed()&&s.getUrlParameter("autosubmit")==="Y"&&(this.logger.log("Autosubmitting Form"),this._form.submitForm())}};var ii=class{constructor(){let e=document.getElementsByClassName("en__ticket__field--cost"),t=document.getElementsByClassName("en__ticket__currency");for(let n of t)n.classList.add("en__ticket__currency__hidden");for(let n of e){let r=n.getElementsByClassName("en__ticket__price")[0],o={style:"currency",currency:n.getElementsByClassName("en__ticket__currency")[0].innerText},d=Intl.NumberFormat(void 0,o).format(Number(r.innerText));d.slice(-3)===".00"&&(d=d.slice(0,-3)),r.innerText=d}}};var oi=class{constructor(){this.logger=new S("SwapAmounts","purple","white","\u{1F4B0}"),this._amount=V.getInstance(),this._frequency=Z.getInstance(),this.defaultChange=!1,this.swapped=!1,this.shouldRun()&&(this._frequency.onFrequencyChange.subscribe(()=>this.swapAmounts()),this._amount.onAmountChange.subscribe(()=>{this._frequency.frequency in window.EngridAmounts&&(this.defaultChange=!1,this.swapped&&this._amount.amount!=window.EngridAmounts[this._frequency.frequency].default&&(this.defaultChange=!0))}))}swapAmounts(){this._frequency.frequency in window.EngridAmounts&&(window.EngagingNetworks.require._defined.enjs.swapList("donationAmt",this.loadEnAmounts(window.EngridAmounts[this._frequency.frequency]),{ignoreCurrentValue:this.ignoreCurrentValue()}),this._amount.load(),this.logger.log("Amounts Swapped To",window.EngridAmounts[this._frequency.frequency]),this.swapped=!0)}loadEnAmounts(e){let t=[];for(let n in e.amounts)t.push({selected:e.amounts[n]===e.default,label:n,value:e.amounts[n].toString()});return t}shouldRun(){return"EngridAmounts"in window}ignoreCurrentValue(){return!(window.EngagingNetworks.require._defined.enjs.checkSubmissionFailed()||s.getUrlParameter("transaction.donationAmt")!==null||this.defaultChange)}};var ut=class a{constructor(e){var t,n;this.logger=new S("Debug Panel","#f0f0f0","#ff0000","\u{1F4A5}"),this.brandingHtml=new pt,this.element=null,this.currentTimestamp=this.getCurrentTimestamp(),this.quickFills={"pi-general":[{name:"supporter.title",value:"Ms"},{name:"supporter.firstName",value:"4Site"},{name:"supporter.lastName",value:"Studio"},{name:"supporter.emailAddress",value:"en-test@4sitestudios.com"},{name:"supporter.phoneNumber",value:"555-555-5555"}],"pi-unique":[{name:"supporter.title",value:"Ms"},{name:"supporter.firstName",value:`4Site ${this.currentTimestamp}`},{name:"supporter.lastName",value:"Studio"},{name:"supporter.emailAddress",value:`en-test+${this.currentTimestamp}@4sitestudios.com`},{name:"supporter.phoneNumber",value:"555-555-5555"}],"us-address":[{name:"supporter.address1",value:"3431 14th St NW"},{name:"supporter.address2",value:"Suite 1"},{name:"supporter.city",value:"Washington"},{name:"supporter.region",value:"DC"},{name:"supporter.postcode",value:"20010"},{name:"supporter.country",value:"US"}],"us-address-senate-rep":[{name:"supporter.address1",value:"20 W 34th Street"},{name:"supporter.address2",value:""},{name:"supporter.city",value:"New York"},{name:"supporter.region",value:"NY"},{name:"supporter.postcode",value:"10001"},{name:"supporter.country",value:"US"}],"us-address-nonexistent":[{name:"supporter.address1",value:"12345 Main Street"},{name:"supporter.address2",value:""},{name:"supporter.city",value:"New York"},{name:"supporter.region",value:"TX"},{name:"supporter.postcode",value:"90210"},{name:"supporter.country",value:"US"}],"cc-paysafe-visa":[{name:"transaction.ccnumber",value:"4530910000012345"},{name:"transaction.ccexpire",value:"12/27"},{name:"transaction.ccvv",value:"111"}],"cc-paysafe-visa-invalid":[{name:"transaction.ccnumber",value:"411111"},{name:"transaction.ccexpire",value:"12/27"},{name:"transaction.ccvv",value:"111"}],"cc-paysafe-mastercard":[{name:"transaction.ccnumber",value:"5036150000001115"},{name:"transaction.ccexpire",value:"12/27"},{name:"transaction.ccvv",value:"111"}],"cc-stripe-visa":[{name:"transaction.ccnumber",value:"4242424242424242"},{name:"transaction.ccexpire",value:"12/27"},{name:"transaction.ccvv",value:"111"}],"quick-fill-pi-unique-us-address-senate-rep-cc-stripe-visa":[{name:"supporter.title",value:"Ms"},{name:"supporter.firstName",value:`4Site ${this.currentTimestamp}`},{name:"supporter.lastName",value:"Studio"},{name:"supporter.emailAddress",value:`en-test+${this.currentTimestamp}@4sitestudios.com`},{name:"supporter.phoneNumber",value:"555-555-5555"},{name:"supporter.address1",value:"20 W 34th Street"},{name:"supporter.address2",value:""},{name:"supporter.city",value:"New York"},{name:"supporter.region",value:"NY"},{name:"supporter.postcode",value:"10001"},{name:"supporter.country",value:"US"},{name:"transaction.ccnumber",value:"4242424242424242"},{name:"transaction.ccexpire",value:"12/27"},{name:"transaction.ccvv",value:"111"}]},this.logger.log("Adding debug panel and starting a debug session"),this.pageLayouts=e,this.loadDebugPanel(),this.element=document.querySelector(".debug-panel"),(t=this.element)===null||t===void 0||t.addEventListener("click",()=>{var i;(i=this.element)===null||i===void 0||i.classList.add("debug-panel--open")});let r=document.querySelector(".debug-panel__close");r?.addEventListener("click",i=>{var o;i.stopPropagation(),(o=this.element)===null||o===void 0||o.classList.remove("debug-panel--open")}),s.getUrlParameter("assets")==="local"&&((n=this.element)===null||n===void 0||n.classList.add("debug-panel--local")),window.sessionStorage.setItem(a.debugSessionStorageKey,"active")}loadDebugPanel(){document.body.insertAdjacentHTML("beforeend",`<div class="debug-panel">
          <div class="debug-panel__container">
            <div class="debug-panel__closed-title">Debug</div>
            <div class="debug-panel__title">
              <h2>Debug</h2>
              <div class="debug-panel__close">X</div>
            </div>
            <div class="debug-panel__options">
              <div class="debug-panel__option">
                <label class="debug-panel__link-label link-left">
                  <a class="debug-panel__edit-link">Edit page</a>
                </label>
              </div>
              <div class="debug-panel__option">
                <label for="engrid-form-quickfill">Quick-fill</label>
                <select name="engrid-form-quickfill" id="engrid-form-quickfill">
                  <option disabled selected>Choose an option</option>
                  <option value="quick-fill-pi-unique-us-address-senate-rep-cc-stripe-visa">Quick-fill - Unique w/ Senate Address - Stripe Visa</option>
                  <option value="pi-general">Personal Info - General</option>
                  <option value="pi-unique">Personal Info - Unique</option>
                  <option value="us-address-senate-rep">US Address - w/ Senate Rep</option>
                  <option value="us-address">US Address - w/o Senate Rep</option>
                  <option value="us-address-nonexistent">US Address - Nonexistent</option>
                  <option value="cc-paysafe-visa">CC - Paysafe - Visa</option>
                  <option value="cc-paysafe-visa-invalid">CC - Paysafe - Visa (Invalid)</option>
                  <option value="cc-paysafe-mastercard">CC - Paysafe - Mastercard</option>
                  <option value="cc-stripe-visa">CC - Stripe - Visa</option>
                </select>
              </div>
              <div class="debug-panel__option">
                <label for="engrid-layout-switch">Layout</label>
                <select name="engrid-layout" id="engrid-layout-switch">
                </select>
              </div>
              <div class="debug-panel__option debug-panel__option--local">
                <div class="debug-panel__checkbox">
                  <input type="checkbox" name="engrid-embedded-layout" id="engrid-embedded-layout">
                  <label for="engrid-embedded-layout">Embedded layout</label>            
                </div>
              </div>
              <div class="debug-panel__option debug-panel__option--local">
                <div class="debug-panel__checkbox">
                  <input type="checkbox" name="engrid-debug-layout" id="engrid-debug-layout">
                  <label for="engrid-debug-layout">Debug layout</label>            
                </div>
              </div>
              <div class="debug-panel__option debug-panel__option--local">
                <div class="debug-panel__checkbox">
                  <input type="checkbox" name="engrid-branding" id="engrid-branding">
                  <label for="engrid-branding">Branding HTML</label>            
                </div>
              </div>
              <div class="debug-panel__option">
                <label for="engrid-theme">Theme</label>
                <input type="text" id="engrid-theme">
              </div>
              <div class="debug-panel__option debug-panel__option--local">
                <label for="engrid-theme">Sub-theme</label>
                <input type="text" id="engrid-subtheme">
              </div>
              <div class="debug-panel__option">
                <button class="btn debug-panel__btn debug-panel__btn--submit" type="button">Submit form</button>
              </div>
              <div class="debug-panel__option">
                <label class="debug-panel__link-label">
                  <a class="debug-panel__force-submit-link">Force submit form</a>
                </label>
              </div>
             <div class="debug-panel__option">
                <label class="debug-panel__link-label">
                  <a class="debug-panel__end-debug-link">End debug</a>
                </label>
              </div>
            </div>
          </div>
        </div>`),this.setupLayoutSwitcher(),this.setupThemeSwitcher(),this.setupSubThemeSwitcher(),this.setupFormQuickfill(),this.createDebugSessionEndHandler(),this.setupEmbeddedLayoutSwitcher(),this.setupDebugLayoutSwitcher(),this.setupBrandingHtmlHandler(),this.setupEditBtnHandler(),this.setupForceSubmitLinkHandler(),this.setupSubmitBtnHandler()}switchENGridLayout(e){s.setBodyData("layout",e)}setupLayoutSwitcher(){var e,t;let n=document.getElementById("engrid-layout-switch");n&&((e=this.pageLayouts)===null||e===void 0||e.forEach(r=>{n.insertAdjacentHTML("beforeend",`<option value="${r}">${r}</option>`)}),n.value=(t=s.getBodyData("layout"))!==null&&t!==void 0?t:"",n.addEventListener("change",r=>{let i=r.target;this.switchENGridLayout(i.value)}))}setupThemeSwitcher(){var e;let t=document.getElementById("engrid-theme");t&&(t.value=(e=s.getBodyData("theme"))!==null&&e!==void 0?e:"",["keyup","blur"].forEach(n=>{t.addEventListener(n,r=>{let i=r.target;this.switchENGridTheme(i.value)})}))}switchENGridTheme(e){s.setBodyData("theme",e)}setupSubThemeSwitcher(){var e;let t=document.getElementById("engrid-subtheme");t&&(t.value=(e=s.getBodyData("subtheme"))!==null&&e!==void 0?e:"",["keyup","blur"].forEach(n=>{t.addEventListener(n,r=>{let i=r.target;this.switchENGridSubtheme(i.value)})}))}switchENGridSubtheme(e){s.setBodyData("subtheme",e)}setupFormQuickfill(){let e=document.getElementById("engrid-form-quickfill");e?.addEventListener("change",t=>{let n=t.target;this.quickFills[n.value].forEach(r=>{this.setFieldValue(r)})})}setFieldValue(e){if(e.name==="transaction.ccexpire"){let t=document.getElementsByName("transaction.ccexpire");if(t.length>0){let n=e.value.split("/");t[0].value=n[0],t[1].value=n[1],t[0].dispatchEvent(new Event("change",{bubbles:!0})),t[1].dispatchEvent(new Event("change",{bubbles:!0}))}else t[0].value=e.value,t[0].dispatchEvent(new Event("change",{bubbles:!0}));return}s.setFieldValue(e.name,e.value,!0,!0)}getCurrentTimestamp(){let e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),i=String(e.getHours()).padStart(2,"0"),o=String(e.getMinutes()).padStart(2,"0");return`${t}${n}${r}-${i}${o}`}createDebugSessionEndHandler(){let e=document.querySelector(".debug-panel__end-debug-link");e?.addEventListener("click",()=>{var t;this.logger.log("Removing panel and ending debug session"),(t=this.element)===null||t===void 0||t.remove(),window.sessionStorage.removeItem(a.debugSessionStorageKey)})}setupEmbeddedLayoutSwitcher(){let e=document.getElementById("engrid-embedded-layout");e&&(e.checked=!!s.getBodyData("embedded"),e.addEventListener("change",t=>{let n=t.target;s.setBodyData("embedded",n.checked)}))}setupDebugLayoutSwitcher(){let e=document.getElementById("engrid-debug-layout");e&&(e.checked=s.getBodyData("debug")==="layout",e.addEventListener("change",t=>{t.target.checked?s.setBodyData("debug","layout"):s.setBodyData("debug","")}))}setupBrandingHtmlHandler(){let e=document.getElementById("engrid-branding");e.checked=s.getUrlParameter("development")==="branding",e.addEventListener("change",t=>{e.checked?this.brandingHtml.show():this.brandingHtml.hide()})}setupEditBtnHandler(){let e=document.querySelector(".debug-panel__edit-link");e?.addEventListener("click",()=>{window.open(`https://${s.getDataCenter()}.engagingnetworks.app/index.html#pages/${s.getPageID()}/edit`,"_blank")})}setupForceSubmitLinkHandler(){let e=document.querySelector(".debug-panel__force-submit-link");e?.addEventListener("click",()=>{let t=document.querySelector("form.en__component");t?.submit()})}setupSubmitBtnHandler(){let e=document.querySelector(".debug-panel__btn--submit");e?.addEventListener("click",()=>{let t=document.querySelector(".en__submit button");t?.click()})}};ut.debugSessionStorageKey="engrid_debug_panel";var ai=class{constructor(){this.logger=new S("Debug hidden fields","#f0f0f0","#ff0000","\u{1FAE3}");let e=document.querySelectorAll(".en__component--row [type='hidden'][class*='en_'], .engrid-added-input[type='hidden']");e.length>0&&(this.logger.log(`Switching the following type 'hidden' fields to type 'text':  ${[...e].map(t=>t.name).join(", ")}`),e.forEach(t=>{t.type="text",t.classList.add("en__field__input","en__field__input--text");let n=document.createElement("label");n.textContent="Hidden field: "+t.name,n.classList.add("en__field__label");let r=document.createElement("div");r.classList.add("en__field__element","en__field__element--text");let i=document.createElement("div");i.classList.add("en__field","en__field--text","hide"),i.dataset.unhidden="",i.appendChild(n),i.appendChild(r),t.parentNode&&(t.parentNode.insertBefore(i,t),r.appendChild(t))}))}};var ys=function(a,e,t,n){function r(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function d(u){try{c(n.next(u))}catch(p){o(p)}}function l(u){try{c(n.throw(u))}catch(p){o(p)}}function c(u){u.done?i(u.value):r(u.value).then(d,l)}c((n=n.apply(a,e||[])).next())})},pt=class{constructor(){this.assetBaseUrl="https://cdn.jsdelivr.net/gh/4site-interactive-studios/engrid-scripts@main/reference-materials/html/brand-guide-markup/",this.brandingHtmlFiles=["html5-tags.html","en-common-fields.html","survey.html","donation-page.html","premium-donation.html","ecards.html","email-to-target.html","tweet-to-target.html","petition.html","event.html","styles.html"],this.bodyMain=document.querySelector(".body-main"),this.htmlFetched=!1}fetchHtml(){return ys(this,void 0,void 0,function*(){let e=this.brandingHtmlFiles.map(n=>ys(this,void 0,void 0,function*(){return(yield fetch(this.assetBaseUrl+n)).text()}));return yield Promise.all(e)})}appendHtml(){this.fetchHtml().then(e=>e.forEach(t=>{var n;let r=document.createElement("div");r.classList.add("brand-guide-section"),r.innerHTML=t,(n=this.bodyMain)===null||n===void 0||n.insertAdjacentElement("beforeend",r)})),this.htmlFetched=!0}show(){if(!this.htmlFetched){this.appendHtml();return}let e=document.querySelectorAll(".brand-guide-section");e?.forEach(t=>t.style.display="block")}hide(){let e=document.querySelectorAll(".brand-guide-section");e?.forEach(t=>t.style.display="none")}};var di=class{constructor(){this.logger=new S("CountryDisable","#f0f0f0","#333333","\u{1F30E}");let e=document.querySelectorAll('select[name="supporter.country"], select[name="transaction.shipcountry"], select[name="supporter.billingCountry"], select[name="transaction.infcountry"]'),t=s.getOption("CountryDisable");if(e.length>0&&t.length>0){let n=t.map(r=>r.toLowerCase());e.forEach(r=>{r.querySelectorAll("option").forEach(i=>{(n.includes(i.value.toLowerCase())||n.includes(i.text.toLowerCase()))&&(this.logger.log(`Removing ${i.text} from ${r.getAttribute("name")}`),i.remove())})})}}};var li=class{constructor(){this.logger=new S("PremiumGift","#232323","#f7b500","\u{1F381}"),this.enElements=new Array,this.shoudRun()&&(this.searchElements(),this.addEventListeners(),this.checkPremiumGift())}shoudRun(){return"pageJson"in window&&"pageType"in window.pageJson&&window.pageJson.pageType==="premiumgift"}addEventListeners(){["click","change"].forEach(t=>{document.addEventListener(t,n=>{let r=n.target,i=r.closest(".en__pg__body");if(i){let o=i.querySelector('[name="en__pg"]');if(!("type"in r)){let d=o.value;window.setTimeout(()=>{let l=document.querySelector('[name="en__pg"][value="'+d+'"]');l&&(l.checked=!0,l.dispatchEvent(new Event("change")))},100)}window.setTimeout(()=>{this.checkPremiumGift()},110)}})});let e=document.querySelector(".en__component--premiumgiftblock");e&&new MutationObserver(n=>{for(let r of n)r.type==="attributes"&&r.attributeName==="style"&&e.style.display==="none"&&(this.logger.log("Premium Gift Section hidden - removing premium gift body data attributes and premium title."),s.setBodyData("premium-gift-maximize",!1),s.setBodyData("premium-gift-name",!1),this.setPremiumTitle(""))}).observe(e,{attributes:!0})}checkPremiumGift(){let e=document.querySelector('[name="en__pg"]:checked');if(e){let t=e.value;this.logger.log("Premium Gift Value: "+t);let n=e.closest(".en__pg");if(t!=="0"){let r=n.querySelector(".en__pg__name");s.setBodyData("premium-gift-maximize","false"),s.setBodyData("premium-gift-name",s.slugify(r.innerText)),this.setPremiumTitle(r.innerText)}else s.setBodyData("premium-gift-maximize","true"),s.setBodyData("premium-gift-name",!1),this.setPremiumTitle("");if(!n.classList.contains("en__pg--selected")){let r=document.querySelector(".en__pg--selected");r&&r.classList.remove("en__pg--selected"),n.classList.add("en__pg--selected")}}}searchElements(){let e=document.querySelectorAll(`
      .en__component--copyblock,
      .en__component--codeblock,
      .en__field
      `);e.length>0&&e.forEach(t=>{t instanceof HTMLElement&&t.innerHTML.includes("{$PREMIUMTITLE}")&&(t.innerHTML=t.innerHTML.replace("{$PREMIUMTITLE}",'<span class="engrid_premium_title"></span>'),this.enElements.push(t))})}setPremiumTitle(e){this.enElements.forEach(t=>{let n=t.querySelector(".engrid_premium_title");n&&(n.innerHTML=e)})}};var si=class{constructor(){if(!document.getElementById("en__digitalWallet")){s.setBodyData("payment-type-option-apple-pay","false"),s.setBodyData("payment-type-option-google-pay","false"),s.setBodyData("payment-type-option-paypal-one-touch","false"),s.setBodyData("payment-type-option-venmo","false");return}let e=document.getElementById("en__digitalWallet__stripeButtons__container");e&&(e.classList.add("giveBySelect-stripedigitalwallet"),e.classList.add("showif-stripedigitalwallet-selected"));let t=document.getElementById("en__digitalWallet__paypalTouch__container");if(t&&(t.classList.add("giveBySelect-paypaltouch"),t.classList.add("showif-paypaltouch-selected")),document.querySelector("#en__digitalWallet__stripeButtons__container > *"))this.addStripeDigitalWallets();else{s.setBodyData("payment-type-option-apple-pay","false"),s.setBodyData("payment-type-option-google-pay","false");let n=document.getElementById("en__digitalWallet__stripeButtons__container");n&&this.checkForWalletsBeingAdded(n,"stripe")}if(document.querySelector("#en__digitalWallet__paypalTouch__container > *"))this.addPaypalTouchDigitalWallets();else{s.setBodyData("payment-type-option-paypal-one-touch","false"),s.setBodyData("payment-type-option-venmo","false");let n=document.getElementById("en__digitalWallet__paypalTouch__container");n&&this.checkForWalletsBeingAdded(n,"paypalTouch")}}addStripeDigitalWallets(){this.addOptionToPaymentTypeField("stripedigitalwallet","GooglePay / ApplePay"),s.setBodyData("payment-type-option-apple-pay","true"),s.setBodyData("payment-type-option-google-pay","true")}addPaypalTouchDigitalWallets(){this.addOptionToPaymentTypeField("paypaltouch","Paypal / Venmo"),s.setBodyData("payment-type-option-paypal-one-touch","true"),s.setBodyData("payment-type-option-venmo","true")}addOptionToPaymentTypeField(e,t){let n=document.querySelector('[name="transaction.paymenttype"]');if(n&&!n.querySelector(`[value=${e}]`)){let r=document.createElement("option");r.value=e,r.innerText=t,n.appendChild(r)}}checkForWalletsBeingAdded(e,t){let n=(i,o)=>{for(let d of i)d.type==="childList"&&d.addedNodes.length&&(t==="stripe"?this.addStripeDigitalWallets():t==="paypalTouch"&&this.addPaypalTouchDigitalWallets(),o.disconnect())};new MutationObserver(n).observe(e,{childList:!0,subtree:!0})}};var ci=class{constructor(){var e,t,n;this.options=(e=s.getOption("MobileCTA"))!==null&&e!==void 0?e:!1,this.buttonLabel="",!(!this.options||!(!((t=this.options.pages)===null||t===void 0)&&t.includes(s.getPageType()))||s.getPageNumber()!==1)&&(this.buttonLabel=(n=this.options.label)!==null&&n!==void 0?n:"Take Action",this.renderButton(),this.addEventListeners())}renderButton(){let e=document.querySelector("#engrid"),t=document.querySelector(".body-main .en__component--widgetblock:first-child, .en__component--formblock");if(!e||!t)return;let n=document.createElement("div"),r=document.createElement("button");n.classList.add("engrid-mobile-cta-container"),n.style.display="none",r.classList.add("primary"),r.innerHTML=this.buttonLabel,r.addEventListener("click",()=>{t.scrollIntoView({behavior:"smooth"})}),n.appendChild(r),e.appendChild(n)}addEventListeners(){let e=document.querySelector(".body-main");if(!e)return;let t=()=>{e.getBoundingClientRect().top<=window.innerHeight-100?this.hideButton():this.showButton()};window.addEventListener("load",t),window.addEventListener("resize",t),window.addEventListener("scroll",t)}hideButton(){let e=document.querySelector(".engrid-mobile-cta-container");e&&(e.style.display="none")}showButton(){let e=document.querySelector(".engrid-mobile-cta-container");e&&(e.style.display="block")}};var ui=class{constructor(){this.logger=new S("LiveFrequency","#00ff00","#000000","\u{1F9FE}"),this.elementsFound=!1,this._amount=V.getInstance(),this._frequency=Z.getInstance(),this.searchElements(),this.shouldRun()&&(this.updateFrequency(),this.addEventListeners())}searchElements(){let e=document.querySelectorAll(`
      .en__component--copyblock,
      .en__component--codeblock,
      .en__field label,
      .en__submit
      `);if(e.length>0){let t=/\[\[(frequency)\]\]/gi,n=0;e.forEach(r=>{let i=r.innerHTML.match(t);r instanceof HTMLElement&&i&&(this.elementsFound=!0,i.forEach(o=>{n++,this.replaceMergeTags(o,r)}))}),n>0&&this.logger.log(`Found ${n} merge tag${n>1?"s":""} in the page.`)}}shouldRun(){return this.elementsFound?!0:(this.logger.log("No merge tags found. Skipping."),!1)}addEventListeners(){this._amount.onAmountChange.subscribe(()=>{setTimeout(()=>{this.updateFrequency()},10)}),this._frequency.onFrequencyChange.subscribe(()=>{setTimeout(()=>{this.searchElements(),this.updateFrequency()},10)})}updateFrequency(){let e=this._frequency.frequency==="onetime"?"one-time":this._frequency.frequency;document.querySelectorAll(".engrid-frequency").forEach(n=>{n.classList.contains("engrid-frequency--lowercase")?n.innerHTML=e.toLowerCase():n.classList.contains("engrid-frequency--capitalized")?n.innerHTML=e.charAt(0).toUpperCase()+e.slice(1):n.classList.contains("engrid-frequency--uppercase")?n.innerHTML=e.toUpperCase():n.innerHTML=e})}replaceMergeTags(e,t){let n=this._frequency.frequency==="onetime"?"one-time":this._frequency.frequency,r=document.createElement("span");switch(r.classList.add("engrid-frequency"),r.innerHTML=n,e){case"[[frequency]]":r.classList.add("engrid-frequency--lowercase"),r.innerHTML=r.innerHTML.toLowerCase(),t.innerHTML=t.innerHTML.replace(e,r.outerHTML);break;case"[[Frequency]]":r.classList.add("engrid-frequency--capitalized"),r.innerHTML=r.innerHTML.charAt(0).toUpperCase()+r.innerHTML.slice(1),t.innerHTML=t.innerHTML.replace(e,r.outerHTML);break;case"[[FREQUENCY]]":r.classList.add("engrid-frequency--uppercase"),r.innerHTML=r.innerHTML.toUpperCase(),t.innerHTML=t.innerHTML.replace(e,r.outerHTML);break}}};var _i=class{constructor(){this.logger=new S("UniversalOptIn","#f0f0f0","#d2691e","\u{1FA9E}"),this._elements=document.querySelectorAll(".universal-opt-in, .universal-opt-in_null"),this.shouldRun()&&this.addEventListeners()}shouldRun(){return this._elements.length===0?(this.logger.log("No universal opt-in elements found. Skipping."),!1):(this.logger.log(`Found ${this._elements.length} universal opt-in elements.`),!0)}addEventListeners(){this._elements.forEach(e=>{let t=e.querySelectorAll(".en__field__input--radio, .en__field__input--checkbox");t.length>0&&t.forEach(n=>{n.addEventListener("click",()=>{if(n instanceof HTMLInputElement&&n.getAttribute("type")==="checkbox"){n.checked?(this.logger.log("Yes/No "+n.getAttribute("type")+" is checked"),t.forEach(o=>{n!==o&&o instanceof HTMLInputElement&&o.getAttribute("type")==="checkbox"&&(o.checked=!0)})):(this.logger.log("Yes/No "+n.getAttribute("type")+" is unchecked"),t.forEach(o=>{n!==o&&o instanceof HTMLInputElement&&o.getAttribute("type")==="checkbox"&&(o.checked=!1)}));return}n.getAttribute("value")==="Y"?(this.logger.log("Yes/No "+n.getAttribute("type")+" is checked"),t.forEach(i=>{let o=i.getAttribute("name"),d=n.getAttribute("name");!o||o===d||s.setFieldValue(o,"Y")})):(this.logger.log("Yes/No "+n.getAttribute("type")+" is unchecked"),t.forEach(i=>{let o=i.getAttribute("name"),d=n.getAttribute("name");!o||o===d||(e.classList.contains("universal-opt-in")?s.setFieldValue(o,"N"):i.checked=!1)}))})})})}};var pi=class{constructor(){this.logger=new S("Plaid","peru","yellow","\u{1F517}"),this._form=q.getInstance(),this.logger.log("Enabled"),this._form.onSubmit.subscribe(()=>this.submit())}submit(){let e=document.querySelector("#plaid-link-button");e&&e.textContent==="Link Account"&&(this.logger.log("Clicking Link"),e.click(),this._form.submit=!1,new MutationObserver(n=>{n.forEach(r=>{r.type==="childList"&&r.addedNodes.forEach(i=>{i.nodeType===Node.TEXT_NODE&&(i.nodeValue==="Account Linked"?(this.logger.log("Plaid Linked"),this._form.submit=!0,this._form.submitForm()):this._form.submit=!0)})})}).observe(e,{childList:!0,subtree:!0}),window.setTimeout(()=>{this.logger.log("Enabling Submit"),s.enableSubmit()},1e3))}};var gi=class{constructor(){if(this.logger=new S("GiveBySelect","#FFF","#333","\u{1F407}"),this.transactionGiveBySelect=document.getElementsByName("transaction.giveBySelect"),this.vgsField=document.querySelector(".en__field--vgs"),!this.transactionGiveBySelect)return;this.transactionGiveBySelect.forEach(t=>{t.addEventListener("change",()=>{this.logger.log("Changed to "+t.value),t.value.toLowerCase()==="card"?this.vgsField?s.setPaymentType("visa"):s.setPaymentType(""):s.setPaymentType(t.value)})});let e=s.getPaymentType();if(e){this.logger.log("Setting giveBySelect to "+e);let t=["visa","mastercard","amex","discover","diners","jcb","vi","mc","ax","dc","di","jc"].includes(e.toLowerCase());this.transactionGiveBySelect.forEach(n=>{(t&&n.value.toLowerCase()==="card"||n.value.toLowerCase()===e.toLowerCase())&&(n.checked=!0)})}}};var mi=class{constructor(){this.logger=new S("UrlParamsToBodyAttrs","white","magenta","\u{1F4CC}"),this.urlParams=new URLSearchParams(document.location.search),this.urlParams.forEach((e,t)=>{t.startsWith("data-engrid-")&&(s.setBodyData(t.split("data-engrid-")[1],e),this.logger.log(`Set "${t}" on body to "${e}" from URL params`))})}};var fi=class{constructor(){this.opened=!1,this.dataLayer=window.dataLayer||[],this.logger=new S("ExitIntentLightbox","yellow","black","\u{1F6AA}"),this.triggerDelay=1e3,this.triggerTimeout=null;let e="EngridExitIntent"in window?window.EngridExitIntent:{};if(this.options=Object.assign(Object.assign({},ji),e),!this.options.enabled){this.logger.log("Not enabled");return}if(Ke(this.options.cookieName)){this.logger.log("Not showing - cookie found.");return}let t=Object.keys(this.options.triggers).filter(n=>this.options.triggers[n]).join(", ");this.logger.log("Enabled, waiting for trigger. Active triggers: "+t),this.watchForTriggers()}watchForTriggers(){window.addEventListener("load",()=>{setTimeout(()=>{this.options.triggers.mousePosition&&this.watchMouse(),this.options.triggers.visibilityState&&this.watchDocumentVisibility()},this.triggerDelay)})}watchMouse(){document.addEventListener("mouseout",e=>{if(e.target.tagName.toLowerCase()=="input")return;let t=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if(e.clientX>=t-50||e.clientY>=50)return;let n=e.relatedTarget;n||(this.logger.log("Triggered by mouse position"),this.open()),this.triggerTimeout||(this.triggerTimeout=window.setTimeout(()=>{n||(this.logger.log("Triggered by mouse position"),this.open()),this.triggerTimeout=null},this.triggerDelay))})}watchDocumentVisibility(){let e=()=>{document.visibilityState==="hidden"&&(this.triggerTimeout||(this.triggerTimeout=window.setTimeout(()=>{this.logger.log("Triggered by visibilityState is hidden"),this.open(),document.removeEventListener("visibilitychange",e),this.triggerTimeout=null},this.triggerDelay)))};document.addEventListener("visibilitychange",e)}open(){var e,t,n;this.opened||(s.setBodyData("exit-intent-lightbox","open"),wt(this.options.cookieName,"1",{expires:this.options.cookieDuration}),document.body.insertAdjacentHTML("beforeend",`
        <div class="ExitIntent">
          <div class="ExitIntent__overlay">
            <div class="ExitIntent__container">
              <div class="ExitIntent__close">X</div>
              <div class="ExitIntent__body">
                <h2>${this.options.title}</h2>
                <p>${this.options.text}</p>
                <button type="button" class="ExitIntent__button">
                  ${this.options.buttonText}
                </button>
              </div>
            </div>
          </div>
        </div>
      `),this.opened=!0,this.dataLayer.push({event:"exit_intent_lightbox_shown"}),(e=document.querySelector(".ExitIntent__close"))===null||e===void 0||e.addEventListener("click",()=>{this.dataLayer.push({event:"exit_intent_lightbox_closed"}),this.close()}),(t=document.querySelector(".ExitIntent__overlay"))===null||t===void 0||t.addEventListener("click",r=>{r.target===r.currentTarget&&(this.dataLayer.push({event:"exit_intent_lightbox_closed"}),this.close())}),(n=document.querySelector(".ExitIntent__button"))===null||n===void 0||n.addEventListener("click",()=>{this.dataLayer.push({event:"exit_intent_lightbox_cta_clicked"}),this.close();let r=this.options.buttonLink;if(r.startsWith(".")||r.startsWith("#")){let i=document.querySelector(r);i&&i.scrollIntoView({behavior:"smooth"})}else window.open(r,"_blank")}))}close(){var e;(e=document.querySelector(".ExitIntent"))===null||e===void 0||e.remove(),s.setBodyData("exit-intent-lightbox","closed")}};var hi=class{constructor(){this.logger=new S("SupporterHub","black","pink","\u{1F6D6}"),this._form=q.getInstance(),this.shoudRun()&&(this.logger.log("Enabled"),this.watch())}shoudRun(){return"pageJson"in window&&"pageType"in window.pageJson&&window.pageJson.pageType==="supporterhub"}watch(){let e=s.enForm;new MutationObserver(r=>{r.forEach(i=>{i.type==="childList"&&i.addedNodes.forEach(o=>{if(o.nodeName==="DIV"){let d=o;(d.classList.contains("en__hubOverlay")||d.classList.contains("en__hubPledge__panels"))&&(this.logger.log("Overlay found"),this.creditCardUpdate(o),this.amountLabelUpdate(o))}})})}).observe(e,{childList:!0,subtree:!0});let n=document.querySelector(".en__hubOverlay");n&&(this.creditCardUpdate(n),this.amountLabelUpdate(n))}creditCardUpdate(e){window.setTimeout(()=>{let t=e.querySelector("#en__hubPledge__field--ccnumber"),n=e.querySelector(".en__hubUpdateCC__toggle");t&&n&&t.addEventListener("focus",()=>{this.logger.log("Credit Card field focused"),n.click()})},300)}amountLabelUpdate(e){window.setTimeout(()=>{let t=e.querySelector(".en__field--donationAmt");t&&t.querySelectorAll(".en__field__element--radio .en__field__item").forEach(n=>{n.setAttribute("data-engrid-currency-symbol-updated","true")})},300)}};var Re=class a{constructor(){this.logger=new S("FastFormFill","white","magenta","\u{1F4CC}"),this.rememberMeEvents=We.getInstance(),s.getOption("RememberMe")?(this.rememberMeEvents.onLoad.subscribe(e=>{this.logger.log("Remember me - onLoad",e),this.run()}),this.rememberMeEvents.onClear.subscribe(()=>{this.logger.log("Remember me - onClear")})):this.run()}run(){let e=document.querySelector(".en__component--formblock.fast-personal-details");e&&(a.allMandatoryInputsAreFilled(e)?(this.logger.log("Personal details - All mandatory inputs are filled"),s.setBodyData("hide-fast-personal-details","true")):(this.logger.log("Personal details - Not all mandatory inputs are filled"),s.setBodyData("hide-fast-personal-details","false")));let t=document.querySelector(".en__component--formblock.fast-address-details");t&&(a.allMandatoryInputsAreFilled(t)?(this.logger.log("Address details - All mandatory inputs are filled"),s.setBodyData("hide-fast-address-details","true")):(this.logger.log("Address details - Not all mandatory inputs are filled"),s.setBodyData("hide-fast-address-details","false")))}static allMandatoryInputsAreFilled(e){return[...e.querySelectorAll(".en__mandatory input, .en__mandatory select, .en__mandatory textarea")].every(n=>n.type==="radio"||n.type==="checkbox"?[...document.querySelectorAll('[name="'+n.name+'"]')].some(i=>i.checked):n.value!==null&&n.value.trim()!=="")}static someMandatoryInputsAreFilled(e){return[...e.querySelectorAll(".en__mandatory input, .en__mandatory select, .en__mandatory textarea")].some(n=>n.type==="radio"||n.type==="checkbox"?[...document.querySelectorAll('[name="'+n.name+'"]')].some(i=>i.checked):n.value!==null&&n.value.trim()!=="")}};var bi=class{constructor(){this.logger=new S("SetAttr","black","yellow","\u{1F4CC}");let e=document.getElementById("engrid");e&&e.addEventListener("click",t=>{let n=t.target;if(typeof n.className!="string")return;n.className.split(" ").some(i=>i.startsWith("setattr--"))&&n.classList.forEach(i=>{let o=i.match(/^setattr--(.+)--(.+)$/i);o&&o[1]&&o[2]&&(this.logger.log(`Clicked element with class "${i}". Setting body attribute "${o[1]}" to "${o[2]}"`),s.setBodyData(o[1].replace("data-engrid-",""),o[2]))})})}};var vi=class{constructor(){this.logger=new S("ShowIfPresent","yellow","black","\u{1F440}"),this.elements=[],this.shouldRun()&&this.run()}shouldRun(){return this.elements=[...document.querySelectorAll('[class*="engrid__supporterquestions"]')].filter(e=>e.className.split(" ").some(n=>/^engrid__supporterquestions\d+(__supporterquestions\d+)*-(present|absent)$/.test(n))),this.elements.length>0}run(){let e=[];this.elements.forEach(t=>{let r=t.className.split(" ").find(l=>/^engrid__supporterquestions\d+(__supporterquestions\d+)*-(present|absent)$/.test(l));if(!r)return null;let i=r.lastIndexOf("-"),o=r.substring(i+1),d=r.substring(8,i).split("__").map(l=>`supporter.questions.${l.substring(18)}`);e.push({class:r,fieldNames:d,type:o})}),e.forEach(t=>{let n=t.fieldNames.map(d=>document.getElementsByName(d)[0]),r=document.querySelectorAll(`.${t.class}`),i=n.every(d=>!!d),o=n.every(d=>!d);(t.type==="present"&&o||t.type==="absent"&&i)&&(this.logger.log(`Conditions not met, hiding elements with class ${t.class}`),r.forEach(d=>{d.style.display="none"}))})}};var yi=class{constructor(){if(this._form=q.getInstance(),this._enElements=null,this.logger=new S("ENValidators","white","darkolivegreen","\u{1F9D0}"),!this.loadValidators()){this.logger.error("Not Loaded");return}if(!this.shouldRun()){this.logger.log("Not Needed");return}this._form.onValidate.subscribe(this.enOnValidate.bind(this))}loadValidators(){if(!s.checkNested(window.EngagingNetworks,"require","_defined","enValidation","validation","validators"))return!1;let e=window.EngagingNetworks.require._defined.enValidation.validation.validators;return this._enElements=e.reduce((t,n)=>{if("type"in n&&n.type==="CUST"){let r=document.querySelector(".en__field--"+n.field),i=r?r.querySelector("input, select, textarea"):null;i&&(i.addEventListener("input",this.liveValidate.bind(this,r,i,n.regex,n.message)),t.push({container:r,field:i,regex:n.regex,message:n.message}))}return t},[]),!0}shouldRun(){return s.getOption("ENValidators")&&this._enElements&&this._enElements.length>0}enOnValidate(){!this._enElements||this._form.validate===!1||(this._enElements.forEach(e=>{if(!this.liveValidate(e.container,e.field,e.regex,e.message)){this._form.validate=!1,e.field.focus();return}}),this._form.validate=!0)}liveValidate(e,t,n,r){let i=s.getFieldValue(t.getAttribute("name")||"");return i===""?!0:(this.logger.log(`Live Validate ${t.getAttribute("name")} with ${n}`),i.match(n)?(s.removeError(e),!0):(s.setError(e,r),!1))}};var qi=class{constructor(e){this.modal=null,this.defaultOptions={onClickOutside:"close",addCloseButton:!1,closeButtonLabel:"Okay!"},this.focusTrapHandler=t=>{let r=[...this.modal.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')],i=r[0],o=r[r.length-1];t.key==="Tab"&&(t.shiftKey?document.activeElement===i&&(t.preventDefault(),o.focus()):document.activeElement===o&&(t.preventDefault(),i.focus()))},this.options=Object.assign(Object.assign({},this.defaultOptions),e),this.modalContent=this.getModalContent(),this.createModal()}createModal(){var e;this.modal=document.createElement("div"),this.modal.classList.add("engrid-modal","modal--hidden"),this.modal.setAttribute("aria-hidden","true"),this.modal.setAttribute("role","dialog"),this.modal.setAttribute("aria-modal","true"),this.modal.setAttribute("tabindex","-1"),this.modal.innerHTML=`
      <div class="engrid-modal__overlay" tabindex="-1">
        <div class="engrid-modal__container" tabindex="0">
          <div class="engrid-modal__close" role="button" tabindex="0" aria-label="Close">
            X
          </div>
          <div class="engrid-modal__body"></div>
        </div>
      </div>
    `,(e=document.getElementById("engrid"))===null||e===void 0||e.appendChild(this.modal);let t=this.modal.querySelector(".engrid-modal__body");if(this.modalContent instanceof NodeList?this.modalContent.forEach(n=>{t?.appendChild(n)}):typeof this.modalContent=="string"?t?.insertAdjacentHTML("beforeend",this.modalContent):t?.appendChild(this.modalContent),this.options.addCloseButton){let n=document.createElement("button");n.classList.add("engrid-modal__button"),n.textContent=this.options.closeButtonLabel,n.addEventListener("click",()=>{this.close()}),t?.appendChild(n)}this.addEventListeners()}addEventListeners(){var e,t,n,r,i;(t=(e=this.modal)===null||e===void 0?void 0:e.querySelector(".engrid-modal__close"))===null||t===void 0||t.addEventListener("click",()=>{this.close()}),(r=(n=this.modal)===null||n===void 0?void 0:n.querySelector(".engrid-modal__overlay"))===null||r===void 0||r.addEventListener("click",d=>{if(d.target===d.currentTarget){if(this.options.onClickOutside==="close")this.close();else if(this.options.onClickOutside==="bounce"){let l=document.querySelector(".engrid-modal");l&&(l.classList.remove("engrid-modal--scale"),l.clientWidth,l.classList.add("engrid-modal--scale"))}}});let o=(i=this.modal)===null||i===void 0?void 0:i.querySelectorAll(".modal__close");o?.forEach(d=>{d.addEventListener("click",()=>{this.close()})})}open(){var e,t,n,r;s.setBodyData("has-lightbox","true"),(e=this.modal)===null||e===void 0||e.classList.remove("modal--hidden"),(t=this.modal)===null||t===void 0||t.removeAttribute("aria-hidden");let i=(n=this.modal)===null||n===void 0?void 0:n.querySelector(".engrid-modal__container");i?.focus({preventScroll:!0}),(r=this.modal)===null||r===void 0||r.addEventListener("keydown",this.focusTrapHandler)}close(){var e,t,n;s.setBodyData("has-lightbox",!1),(e=this.modal)===null||e===void 0||e.classList.add("modal--hidden"),(t=this.modal)===null||t===void 0||t.setAttribute("aria-hidden","true"),(n=this.modal)===null||n===void 0||n.removeEventListener("keydown",this.focusTrapHandler)}getModalContent(){return"<h1>Default Modal Content</h1>"}};var wi=class{constructor(){var e,t;this.postalCodeField=s.getField("supporter.postcode"),this._form=q.getInstance(),this.logger=new S("Postal Code Validator","white","red","\u{1F4EC}"),this.supportedSeparators=["+","-"," "],this.separator=this.getSeparator(),this.regexSeparator=this.getRegexSeparator(this.separator),this.shouldRun()&&((e=this.postalCodeField)===null||e===void 0||e.addEventListener("blur",()=>this.validate()),(t=this.postalCodeField)===null||t===void 0||t.addEventListener("input",()=>this.liveValidate()),this._form.onValidate.subscribe(()=>{if(!this._form.validate)return;this.liveValidate(),setTimeout(()=>{this.validate()},100);let n=!this.shouldValidateUSZipCode()||this.isValidUSZipCode();return this._form.validate=n,n||(this.logger.log(`Invalid Zip Code ${this.postalCodeField.value}`),this.postalCodeField.scrollIntoView({behavior:"smooth"})),n}))}shouldRun(){return!!(s.getOption("PostalCodeValidator")&&this.postalCodeField)}validate(){this.shouldValidateUSZipCode()&&!this.isValidUSZipCode()?s.setError(".en__field--postcode",`Please enter a valid ZIP Code of ##### or #####${this.separator}####`):s.removeError(".en__field--postcode")}isValidUSZipCode(){var e,t;if(!!!document.querySelector(".en__field--postcode.en__mandatory")&&((e=this.postalCodeField)===null||e===void 0?void 0:e.value)==="")return!0;let r=new RegExp(`^\\d{5}(${this.regexSeparator}\\d{4})?$`);return!!(!((t=this.postalCodeField)===null||t===void 0)&&t.value.match(r))}liveValidate(){var e;if(!this.shouldValidateUSZipCode())return;let t=(e=this.postalCodeField)===null||e===void 0?void 0:e.value;t.length<=5?t=t.replace(/\D/g,""):t.length===6&&this.supportedSeparators.includes(t[5])?t=t.replace(/\D/g,"")+this.separator:(t=t.replace(/\D/g,""),t=t.replace(/(\d{5})(\d)/,`$1${this.separator}$2`)),this.postalCodeField.value=t.slice(0,10)}shouldValidateUSZipCode(){let e=s.getField("supporter.country")?s.getFieldValue("supporter.country"):"US";return["us","united states","usa",""].includes(e.toLowerCase())}getSeparator(){let e=s.getOption("TidyContact");return e&&e.us_zip_divider&&this.supportedSeparators.includes(e.us_zip_divider)?e.us_zip_divider:"-"}getRegexSeparator(e){switch(e){case"+":return"\\+";case"-":return"-";case" ":return"\\s";default:return this.logger.log(`Invalid separator "${e}" provided to PostalCodeValidator, falling back to "-".`),"-"}}};var xi=class{constructor(){if(this.logger=new S("VGS","black","pink","\u{1F4B3}"),this.vgsField=document.querySelector(".en__field--vgs"),this.options=s.getOption("VGS"),!this.shouldRun())return;let e=document.querySelector("#en__field_transaction_paymenttype");e&&(e.value="visa"),this.setDefaults(),this.dumpGlobalVar()}shouldRun(){return!!this.vgsField}setDefaults(){let e=this.options,t={"transaction.ccnumber":{showCardIcon:!0,autoFocus:!1,placeholder:"\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022",hideValue:!1,icons:{cardPlaceholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAABMCAYAAADHl1ErAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB8ElEQVR4nO2c4W3CMBBGz1H/NyNkAzoCo2SDrkI3YJSOABt0g9IJXBnOqUkMyifUqkrek04RlvMjT2c7sc6EGKPBfBpcaSBMBGEiCBNBmAjCRBAmgjARhIkgTARhIggTQZhK2q0Yh5l1ZrYzs0PqsrI4+LN3VTeThkvntUm6Fbuxn2E/LITQmtm7mW08Sb/MbO9tpxhjui6WEMLWzJKDdO3N7Nmf9ZjaYoyn8y8X1o6GXxLV1lJyDeE+9oWPQ/ZRG4b9WkVVpqe+8LLLo7ErM6t248qllZnWBc+uV5+zumGsQjm3f/ic9tb4JGeeXcga4U723rptilVx0avgg2Q3m/JNn+y6zeAm+GSWUi/c7L5yfB77RJhACOHs6WnuLfmGpTI3YditEEGYCMJEECaCMJHZqySvHRfIMBGEiSBMBGEiCBNBmAjCRBAmgjARhIkgTGT2t+R/59EdYXZcfwmEiSBMBGEiCBNZzCr5VzvCZJjIIMxrPKFC6abMsHbaFcZuGq8StqKwDqZkN8emKBbrvawHCtxJ7y1nVxQF34lxUXBupOy8EtWy88jBhknUDjbkPhyd+Xn2l9lHZ8rgcNZVTA5nTYRFjv/dPf7HvzuJ8C0pgjARhIkgTARhIggTQZgIwkQQJoIwEYSJIEwEYQpm9g2Ro5zhLcuLBwAAAABJRU5ErkJggg=="},autoComplete:"cc-number"},"transaction.ccvv":{showCardIcon:!1,autoFocus:!1,placeholder:"CVV",hideValue:!1,autoComplete:"cc-csc"}};this.options=Object.assign(Object.assign({},t),e),this.logger.log("Theme Options",e),this.logger.log("Merged Options",this.options)}dumpGlobalVar(){window.enVGSFields=this.options,window.setTimeout(()=>{let e=document.querySelectorAll(".en__field__input--vgs");if(e.length>0){let t=new MutationObserver(n=>{n.forEach(r=>{r.type==="childList"&&r.addedNodes.length>0&&r.addedNodes.forEach(i=>{i.nodeName==="IFRAME"&&r.previousSibling&&r.previousSibling.nodeName==="IFRAME"&&r.previousSibling.remove()})})});e.forEach(n=>{t.observe(n,{childList:!0})}),s.checkNested(window.EngagingNetworks,"require","_defined","enjs","vgs")?window.EngagingNetworks.require._defined.enjs.vgs.init():this.logger.log("VGS is not defined")}},1e3)}};var oa="0.17.2";var ws=function(a,e){console.log("ENGrid client scripts are executing");let t=document.querySelector("label[for='en__field_supporter_emailAddress']")&&document.querySelector("label[for='en__field_supporter_emailAddress']").textContent==="Correo electr\xF3nico",n=document.querySelectorAll(".move-after-transaction-recurrfreq")[0],r=document.querySelectorAll(".en__field--recurrfreq")[0];n&&r&&r.insertAdjacentElement("beforeend",n);let i=document.querySelectorAll(".move-before-transaction-donationamt")[0],o=document.querySelectorAll(".en__field--donationAmt")[0];i&&o&&o.insertAdjacentElement("afterbegin",i),pageJson.pageNumber===2&&document.body.setAttribute("ty-asset-download-links","true");var d=document.querySelector(".en__component--formblock.opt-in-label-swap .en__field--question:nth-child(1) .en__field__label"),l=document.querySelector(".en__component--formblock.opt-in-label-swap .en__field--question:nth-child(2) .en__field__label");d&&l&&(d.textContent=l.textContent);let c=e.getInstance();if(c.onFrequencyChange.subscribe(C=>{console.log("frequency changed",C);let I=document.querySelector("[name='transaction.donationAmt.other']");if(I)switch(C){case"monthly":I.placeholder="Other /mo";break;case"annual":I.placeholder="Other /yr";break;default:I.placeholder="Other"}let U=document.querySelector("[name='transaction.giveBySelect']:checked"),j=U?U.value:null,Y=document.querySelector("[name='transaction.giveBySelect'][value='paypaltouch'] + label"),X=document.querySelector("[name='transaction.giveBySelect'][value='paypal'] + label");a.isVisible(Y)&&a.isVisible(X)&&(j==="paypaltouch"&&C==="monthly"&&X.click(),j==="paypal"&&C==="onetime"&&Y.click())}),(()=>{document.querySelector(".en__field--phoneNumber2 .en__field__element")||a.addHtml('<div class="en__field__notice">By providing your mobile number, you agree to receive recurring text messages from WWF. Text STOP to quit, HELP for info. Message and data rates may apply.</div>','[name="supporter.phoneNumber2"]',"after")})(),"pageJson"in window&&"pageType"in window.pageJson&&window.pageJson.pageType==="premiumgift"){let C=a.getField("supporter.country"),I=H=>{let oe=H;return window.EngagingNetworks.premiumGifts.products&&window.EngagingNetworks.premiumGifts.products.forEach(te=>{te.id==H&&"variants"in te&&(oe=te.variants[0].id)}),oe},U=()=>{let H=document.querySelector(".en__pg:last-child input[type='radio'][name='en__pg'][value='0']");H&&(H.checked=!0,H.click(),setTimeout(()=>{a.setFieldValue("transaction.selprodvariantid","")},150))},j=()=>{let H=document.querySelectorAll(".en__component--premiumgiftblock > div"),oe=document.querySelector(".engrid_premium_title");H&&H.forEach(te=>{te.setAttribute("data-non-us-donor","")}),oe&&oe.setAttribute("data-non-us-donor","")},Y=()=>{let H=document.querySelectorAll("h2.en__pg__name");H&&H.forEach(oe=>{if(oe.textContent.includes("Maximized Their Gift")){let te=oe.closest(".en__pg");if(te){te.classList.add("hide");let be=te.querySelector("input[type='radio'][name='en__pg']");be&&(window.maxTheirGift=I(be.value))}}})},X=()=>{let H=document.querySelectorAll(".en__component--premiumgiftblock > div"),oe=document.querySelector(".engrid_premium_title");H&&H.forEach(te=>{te.removeAttribute("data-non-us-donor")}),oe&&oe.removeAttribute("data-non-us-donor")},le=()=>{document.querySelector(".en__field--country .en__field__notice")||a.addHtml('<div class="en__field__notice">Note: We are unable to mail thank-you gifts to donors outside the United States and its territories and have selected the "Mazimize my gift" option for you.</div>',".en__field--country .en__field__element","after")},de=()=>{a.removeHtml(".en__field--country .en__field__notice")};window.EngagingNetworks.require._defined.enjs.checkSubmissionFailed()||(U(),Y()),a.getUrlParameter("premium")!=="international"&&C&&(C.value!=="US"&&(U(),j(),le(),Y()),C.addEventListener("change",()=>{C.value!=="US"?(U(),j(),le()):(X(),de())}),c.onFrequencyChange.subscribe(H=>{C.value!=="US"?(U(),j()):X()})),a.getField("supporter.NOT_TAGGED_45")||a.createHiddenInput("supporter.NOT_TAGGED_45");let he=document.querySelector(".en__component--premiumgiftblock");he&&new MutationObserver(oe=>{for(let te of oe)te.type==="childList"&&te.addedNodes.length>0&&te.addedNodes.forEach(be=>{if(typeof be.querySelector=="function"){if(be.querySelector("h2")&&be.querySelector("h2").innerText==="Maximized Their Gift"){let ze=be.closest(".en__pg");if(ze){ze.classList.add("hide");let xe=ze.querySelector("input[type='radio'][name='en__pg']");xe&&(window.maxTheirGift=I(xe.value))}}be.querySelector('input[type="radio"][value="0"]')&&setTimeout(U,100)}})}).observe(he,{attributes:!0,childList:!0,subtree:!0})}let p=document.querySelector(".en__field--phoneNumber2 input#en__field_supporter_phoneNumber2");p&&(p.placeholder="000-000-0000");let g=document.querySelector(".en__field--ccvv > label"),m=document.querySelector("[data-engrid-page-type='emailtotarget'] .en__field--title.en__mandatory > label");(g||m)&&a.loadJS("https://unpkg.com/@popperjs/core@2",()=>{a.loadJS("https://unpkg.com/tippy.js@6",()=>{if(g){let C=document.createElement("a");C.href="#",C.id="ccv-tooltip",C.className="label-tooltip",C.tabIndex="-1",C.innerText="What's this?",C.addEventListener("click",U=>U.preventDefault()),g.insertAdjacentElement("afterend",C);let I=document.createElement("span");I.className="label-wrapper",g.parentNode.insertBefore(I,g),I.appendChild(g),I.appendChild(C),tippy("#ccv-tooltip",{theme:"light",content:"The three or four digit security code on your debit or credit card to verify transactions when your card is not present."})}if(m){let C=document.createElement("a");C.href="#",C.id="title-tooltip",C.className="label-tooltip",C.tabIndex="-1",C.innerText="Why is this required?",C.addEventListener("click",U=>U.preventDefault()),m.insertAdjacentElement("afterend",C);let I=document.createElement("span");I.className="label-wrapper",m.parentNode.insertBefore(I,m),I.appendChild(m),I.appendChild(C),tippy("#title-tooltip",{theme:"light",content:"The US Senate requires all messages sent to Senators include a title. We understand that not all gender identities are represented, but title options vary by office. To ensure that your message reaches your Senator(s), we've listed only the options accepted by a majority of offices."})}})});let v=document.querySelector(".enWidget__fill__count")?document.querySelector(".enWidget__fill__count").innerText:0,w=document.querySelector(".progress-bar_supporters strong");w&&(w.innerText=v);function k(){this.launcher=document.querySelector("#launcher"),this.engridMobileCTAContainer=document.querySelector(".engrid-mobile-cta-container"),this.launcher&&this.engridMobileCTAContainer&&(this.setCustomProperty(),this.addEventListeners())}k.prototype.setCustomProperty=function(){if(!(!this.launcher||!this.engridMobileCTAContainer)){var C=this.launcher.clientWidth;this.engridMobileCTAContainer.style.setProperty("--launcher-width",C+"px")}},k.prototype.addEventListeners=function(){if(this.launcher){var C=new ResizeObserver(function(){this.setCustomProperty()}.bind(this));C.observe(this.launcher)}};function x(){if(document.querySelector("#launcher"))var C=new k;else setTimeout(x,100)}var h=new MutationObserver(x);h.observe(document.body,{childList:!0,subtree:!0});let y=document.querySelector(".en__ecarditems__addrecipient");y&&(y.textContent=t?"Agrega destinatario":"Add recipient");let _=document.querySelector(".en__ecardrecipients__list");if(_){let C=document.createElement("h2");C.textContent=t?"Lista de contactos":"Recipients list",C.id="recipients-list-label",C.setAttribute("for","en__ecardrecipients__list"),_.setAttribute("aria-labelledby","recipients-list-label"),_.parentNode.insertBefore(C,_)}let f=document.querySelector(".en__ecarditems__addrecipient"),b=document.querySelector(".en__ecardrecipients__email");if(f&&b){f.classList.add("button");let C=document.createElement("div");C.classList.add("en__ecardrecipients__button"),f.parentNode.removeChild(f),C.appendChild(f),b.parentNode.insertBefore(C,b.nextSibling)}let A=document.querySelector(".en__ecarditems__addrecipient"),F=document.querySelector(".en__ecardrecipients__name input"),L=document.querySelector(".en__ecardrecipients__email input"),P=document.querySelector(".en__ecardrecipients__list"),N=document.querySelector("#recipients-list-label"),B=document.querySelector(".en__ecardrecipients__email"),R=document.querySelector(".en__ecardrecipients__name");if(A&&F&&L&&P&&N&&B&&R){let C=document.querySelectorAll(".en__ecardrecipients__recipient .ecardrecipient__email").length,I=()=>{let de=document.querySelectorAll(".en__ecardrecipients__recipient .ecardrecipient__email").length;de>C&&(F.value="",L.value=""),C=de};A.addEventListener("click",I),A.addEventListener("touchend",I),A.addEventListener("keydown",I);let U=()=>{let de=P.innerHTML.trim()?"block":"none";N.style.display=de,P.style.display=de};U(),new MutationObserver(U).observe(P,{childList:!0,subtree:!0});let Y=(de,se)=>he=>{for(let H of he)H.type==="attributes"&&H.attributeName==="class"&&(de.classList.contains("invalid")?se.classList.add("en__field--validationFailed"):se.classList.remove("en__field--validationFailed"))},X=new MutationObserver(Y(L,B)),le=new MutationObserver(Y(F,R));X.observe(L,{attributes:!0}),le.observe(F,{attributes:!0})}let W=document.querySelector(".universal-opt-in > .en__field")?.classList;if(W){let C=[...W].find(I=>I.startsWith("en__field--")&&!isNaN(Number(I.replace("en__field--",""))));if(C){let I=`engrid__supporterquestions${C.replace("en__field--","")}-N`;a.addHtml(`<div style="display: none;" class="en__component en__component--copyblock grey-box email-subscription-nudge ${I}"><p></p></div>`,".universal-opt-in","after")}}function J(){let C=document.querySelector(".en__field--600302"),I=document.querySelector(".en__field--phoneNumber2"),U=document.querySelector(".sms-disclosure");!C&&I&&U&&(I.classList.add("hide"),U.classList.add("hide"));let j=document.querySelector(".en__field--608540"),Y=document.querySelector(".be-a-part-of-our-community");!C&&!j&&Y&&Y.classList.add("hide")}J();let re=()=>{for(let C=0;C<localStorage.length;C++){let I=localStorage.key(C);if(I&&I.includes("gclid"))return localStorage.getItem(I)}return null},ae=()=>{let C=document.cookie.match("(^|;)\\s*_glc_aw\\s*=\\s*([^;]+)");return C?C.pop():null},ie=()=>{let C=window.location.href,I=null;if(C.includes("gclid")){let U=C.split("gclid=");U[1]&&(I=U[1].split("&")[0])}return I},_e=()=>{try{if(!document.querySelector(".en__submit"))return;let C=re()||ae()||ie();if(C){let I=document.querySelector('input[name="transaction.othamt4"]');if(I)I.value=C;else{let U=`
                    <div class="en__field en__field--text en__field--othamt4 hide">
                        <label for="en__field_transaction_othamt4" class="en__field__label" style="">GCLID (Other 4)</label>
                        <div class="en__field__element en__field__element--text">
                            <input id="en__field_transaction_othamt4" type="text" class="en__field__input en__field__input--text" name="transaction.othamt4" value="${C}">
                        </div>
                    </div>
                `,j=document.querySelector(".en__submit");if(j)j.insertAdjacentHTML("afterend",U);else throw new Error(".en__submit element not found")}}else console.log("No GCLID found")}catch(C){console.error("Error handling GCLID:",C)}};window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"gtm.js","gtm.start":new Date().getTime(),"gtm.uniqueEventId":0}),window.dataLayer.push({event:"GA4_loaded",callback:_e}),window.addEventListener("load",_e),_e();function ye(){let C=document.querySelector(".en__ecarditems__action"),I=document.querySelector(".en__ecardmessage"),U=document.querySelector(".en__ecardrecipients__futureDelivery"),j=document.querySelector(".en__ecardrecipients");C&&I&&I.insertAdjacentElement("afterend",C),U&&j&&j.insertAdjacentElement("afterend",U)}ye();let Oe=document.querySelector('input[name="transaction.ccnumber"]');Oe&&Oe.addEventListener("wheel",()=>{Oe.blur()},{passive:!0}),pageJson&&(pageJson.pageType==="premiumgift"||pageJson.pageType==="donation")&&pageJson.pageNumber===1&&(window.zE||function(C,I,U){var j=window.zE=window.zEmbed=function(){j._.push(arguments)},Y=j.s=C.createElement(I),X=C.getElementsByTagName(I)[0];j.set=function(le){j.set._.push(le)},j._=[],j.set._=[],Y.async=!0,Y.setAttribute("charset","utf-8"),Y.src="https://static.zdassets.com/ekr/asset_composer.js?key="+U,j.t=+new Date,Y.type="text/javascript",X.parentNode.insertBefore(Y,X)}(document,"script","7f237240-f3c5-4922-aa1f-b4c70aa52d65"));let pe=document.querySelector(".en__ecarditems__preview");if(pe){document.body.setAttribute("data-ecard-preview","");let C=()=>{pe.classList.contains("preview--show")?document.body.setAttribute("data-ecard-preview","visible"):document.body.setAttribute("data-ecard-preview","hidden")};C(),new MutationObserver(C).observe(pe,{attributes:!0,attributeFilter:["class"]})}(()=>{let C=document.querySelector("#en__field_transaction_paymenttype"),I=document.querySelector('input[name="transaction.othamt3"]'),U=document.querySelector(".en__field--vgs");if(C&&!I){let j=/iPad|iPhone|iPod/.test(navigator.userAgent),Y=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),X=document.createElement("div");X.classList.add("en__component","en__component--formblock","hide");let le=document.createElement("div");le.classList.add("en__field","en__field--text");let de=document.createElement("div");de.classList.add("en__field__element","en__field__element--text");let se=document.createElement("input");se.setAttribute("type","text"),se.classList.add("en__field__input","en__field__input--text","foursite-engrid-added-input"),se.setAttribute("name","transaction.othamt3"),se.setAttribute("value",U?"card":""),a.debug&&(se.style.width="100%",se.setAttribute("placeholder","Payment Type Details (Other 3)")),de.appendChild(se),le.appendChild(de),X.appendChild(le);let he=C.closest(".en__component");if(he)he.parentNode?.insertBefore(X,he.nextSibling);else{let H=document.querySelector("form");H&&H.appendChild(X)}C.addEventListener("change",()=>{let H=document.querySelector('input[name="transaction.othamt3"]');H&&(C.value==="stripedigitalwallet"?H.value=j||Y?"applepay":"googlepay":H.value=U&&C.value==="visa"?"card":C.value)})}})();let we=document.querySelector(".amount-nudge:not(.arrow-up)");we&&r&&r.insertAdjacentElement("beforeend",we)};var xs=function(a){let e=document.querySelector(".search-btn");e&&e.addEventListener("click",function(t){t.preventDefault(),window.location.href="https://www.worldwildlife.org/search"}),((t,n)=>{var r={headerNav:{init:function(){var i=this;i.setVars(),i.bindEvents()},setVars:function(){let i=r.headerNav;i.$header=n.getElementById("header"),i.$header&&(i.$dropdown=i.$header.querySelector("div.dropdown"),i.$control=i.$header.querySelectorAll(".control-expand"),i.$accordionControls=i.$header.querySelectorAll(".control-accordion"),i.$actionNavControls=[...i.$accordionControls].filter(o=>/^action-nav.*/.test(o.getAttribute("aria-controls"))),i.mobileHeaderMq=t.matchMedia("(max-width: 767px)"),i.searchControls=i.$header.querySelectorAll(".search-btn"))},bindEvents:function(){let i=r.headerNav;i.$header&&(i.$control.forEach(o=>{o.addEventListener("click",i.handleDropdownClick)}),i.$accordionControls.forEach(o=>{o.addEventListener("click",i.handleAccordionClick),o.addEventListener("mouseenter",i.handleAccordionHover),o.addEventListener("mouseleave",i.handleAccordionHover),i.getPanel(o.getAttribute("aria-controls")).addEventListener("mouseleave",i.handleDropdownHover)}),n.addEventListener("click",i.handleDocumentClick),i.searchControls.forEach(o=>{o.addEventListener("click",i.handleAccordionClick)}))},handleDropdownClick:function(i){let o=r.headerNav,d=i.currentTarget,l=o.getPanel(d.getAttribute("aria-controls"));!o.$control[0].classList.contains("expanded")&&o.$control[0]===n.querySelector("#header .control.control-expand")||!o.isPanelExpanded(l)||!n.querySelector(".nav-content .dropdown.dropdown-expanded")?(o.$dropdown.classList.add("dropdown-expanded"),o.$control.forEach(c=>{c.classList.add("expanded")})):(o.$dropdown.classList.remove("dropdown-expanded"),o.$control.forEach(c=>{c.classList.remove("expanded")})),o.panelScrollTops||setTimeout(o.setPanelScrollTops,250),n.querySelector("body").classList.toggle("freeze"),i.preventDefault()},handleAccordionClick:function(i){let o=r.headerNav,d=i.currentTarget,l=o.getPanel(d.getAttribute("aria-controls"));if(o.mobileHeaderMq.matches){let c=o.getPanelScrollTop(l)}o.isPanelExpanded(l)?(o.closePanel(l,d),o.setPanelHeight(l,0),d.classList.remove("expanded")):(o.closeExpandedPanels(),o.expandPanel(l,d),o.setPanelHeight(l,o.getPanelHeight(l.querySelectorAll(".nav-item-accordion-inner"))),d.classList.add("expanded"),o.mobileHeaderMq.matches&&!d===o.$actionNavControls&&o.scrollToPanel(panelScrollTop)),i.preventDefault()},handleAccordionHover:function(i){let o=r.headerNav,d=i.currentTarget,l=o.getPanel(d.getAttribute("aria-controls")),c=i.type==="mouseenter"&&!o.isPanelExpanded(l),u=i.type==="mouseleave"&&i.relatedTarget!==void 0&&i.relatedTarget!==null&&l.contains(i.relatedTarget)&&!i.relatedTarget.classList.contains("nav-item")&&!i.relatedTarget.classList.contains("action-link")&&i.relatedTarget!==n.querySelectorAll("ul.nav.primary-nav")[0];(c||u)&&o.shouldHoverWork()&&d.click()},handleDropdownHover:function(i){let o=r.headerNav,d=i.target,l=n.querySelector(`[aria-controls=${d.getAttribute("id")}]`);i.relatedTarget!==void 0&&i.relatedTarget!==null&&l!==i.relatedTarget&&!i.relatedTarget.classList.contains("nav-item")&&!i.relatedTarget.classList.contains("action-link")&&!l.contains(i.relatedTarget)&&o.shouldHoverWork()&&l.click()},handleDocumentClick:function(i){if(r.headerNav.mobileHeaderMq.matches){let o=r.headerNav;i.target.closest(".search")?.length===1&&o.closeExpandedPanels()}else{let o=r.headerNav,d=i.target.closest(".nav-items")===null,l=i.target.closest(".search")===null;d&&l&&o.closeExpandedPanels()}},getPanel:function(i){return n.getElementById(i)},getPanelHeight:function(i){return i[0].getBoundingClientRect().height},setPanelHeight:function(i,o){let d=o+"px";i.style.maxHeight=d},setPanelScrollTops:function(){let i=r.headerNav;i.panelScrollTops=[],i.$accordionControls.forEach((o,d)=>{let l=o,c=i.getPanel(l.getAttribute("aria-controls"));i.panelScrollTops[d]=c.parentNode.getBoundingClientRect().top+t.scrollY})},getPanelScrollTop:function(i){let o=r.headerNav;return o.$accordionControls.forEach((d,l)=>{let c=d;o.getPanel(c.getAttribute("aria-controls"))[0]===i[0]&&(o.currentPanelScrollTop=o.panelScrollTops[l])}),o.currentPanelScrollTop},scrollToPanel:function(i){r.headerNav.$dropdown.scrollTop(i)},isPanelExpanded:function(i){if(i){let o=i.getAttribute("hidden");return o!==""&&o!==!0&&o===null}else return!0},shouldHoverWork:function(){return!r.headerNav.mobileHeaderMq.matches},expandPanel:function(i,o){o.setAttribute("aria-expanded",!0),i.removeAttribute("hidden")},closePanel:function(i,o){o.setAttribute("aria-expanded",!1),i.setAttribute("hidden",!0)},closeExpandedPanels:function(){let i=r.headerNav;i.$accordionControls.forEach(o=>{let d=o,l=i.getPanel(d.getAttribute("aria-controls"));i.isPanelExpanded(l)&&(i.closePanel(l,d),i.setPanelHeight(l,0),d.classList.toggle("expanded"))})}}};r.headerNav.init()})(window,document)};var As=tt(Es()),Sp=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);Sp&&(window.__forceSmoothScrollPolyfill__=!0);As.default.polyfill();var xt=class{constructor(e,t,n){if(!this.isIframe()||document.querySelector("body").dataset.engridSubtheme!=="multistep")return;if(this.amount=e,this.frequency=t,this.ipCountry="",this.isDonation=["donation","premiumgift"].includes(window.pageJson.pageType),console.log("DonationLightboxForm: constructor"),this.sections=document.querySelectorAll("form.en__component > .en__component"),this.currentSectionId=0,pageJson.pageNumber===pageJson.pageCount){this.sendMessage("status","loaded"),this.isDonation&&this.sendMessage("status","celebrate"),this.sendMessage("class","thank-you"),document.querySelector("body").dataset.thankYou="true";let o=new URLSearchParams(window.location.search);if(o.get("name")){let d=document.querySelector("#engrid");if(d){let l=d.innerHTML;l=l.replace("{user_data~First Name}",o.get("name")),l=l.replace("{receipt_data~recurringFrequency}",o.get("frequency")),l=l.replace("{receipt_data~amount}","$"+o.get("amount")),d.innerHTML=l,this.sendMessage("firstname",o.get("name"))}}else{let d=this,l=location.protocol+"//"+location.host+location.pathname+"/pagedata";fetch(l).then(function(c){return c.json()}).then(function(c){c.hasOwnProperty("firstName")&&c.firstName!==null?d.sendMessage("firstname",c.firstName):d.sendMessage("firstname","Friend")}).catch(c=>{console.error("PageData Error:",c)})}return!1}if(!this.sections.length)return this.sendMessage("error","No sections found"),!1;if(console.log(this.sections),this.isIframe()){if(this.buildSectionNavigation(),this.checkNested(EngagingNetworks,"require","_defined","enjs","checkSubmissionFailed")&&EngagingNetworks.require._defined.enjs.checkSubmissionFailed()){console.log("DonationLightboxForm: Submission Failed");let o=document.querySelector(".en__field--ccexpire"),d=o?o.querySelector("#en__field_transaction_ccexpire"):null;if(d&&d.value!=""){let l=document.querySelector("#en__field_transaction_paymenttype"),c=document.querySelector(".en__field--ccnumber");if(l&&c){l.value="visa",this.showHideCCSection("card"),c.classList.add("has-error");let u=document.querySelector(".en__error"),p=u&&u.textContent.split(". ").length>1&&u.textContent.split(". ")[1]!==""?u.textContent.split(". ")[1]:u.textContent;this.sendMessage("error",p),this.scrollToElement(o)}}else if(this.validateForm()){let l=document.querySelector("li.en__error");l&&(l.innerHTML.toLowerCase().indexOf("problem processing")>-1?(this.sendMessage("error","Sorry! There's a problem processing your donation."),this.scrollToElement(document.querySelector(".en__field--ccnumber"))):this.sendMessage("error",l.textContent),(l.innerHTML.toLowerCase().indexOf("payment")>-1||l.innerHTML.toLowerCase().indexOf("account")>-1)&&this.scrollToElement(document.querySelector(".en__field--ccnumber")))}}else n.watchForError(()=>{let o=document.querySelector(".en__error"),d=o&&o.textContent.split(". ").length>1?o.textContent.split(". ")[1]:o.textContent;d&&this.sendMessage("error",d)});document.querySelectorAll("form.en__component input.en__field__input").forEach(o=>{o.addEventListener("focus",d=>{let l=Number(this.getSectionId(o)),c=Number(this.currentSectionId);if(setTimeout(()=>{l===c+1&&this.validateForm(c)&&(this.sections[c].querySelector(".en__field--radio")||this.scrollToElement(o))},50),"id"in o&&o.id==="en__field_transaction_ccnumber"){let u=o.closest(".en__field");u&&u.classList.remove("has-error")}})}),document.querySelectorAll("form.en__component input.en__field__input").forEach(o=>{o.addEventListener("keydown",d=>{if(d.keyCode===13){d.preventDefault();let l=Number(this.getSectionId(o));this.validateForm(l)&&this.scrollToSection(l+1,l)}})})}let r=document.querySelector(".payment-options");r&&this.clickPaymentOptions(r),this.addTabIndexToLabels(),this.putArrowUpSVG(),this.bounceArrow(this.frequency.getInstance().frequency),this.addEvents(),this.changeSubmitButton(),this.sendMessage("status","loaded");let i=new URLSearchParams(window.location.search);i.get("color")&&document.body.style.setProperty("--color_primary",i.get("color")),window.addEventListener("message",this.receiveMessage.bind(this),!1),this.sendMessage("isMobile"),this.showHideCCSection(!1)}sendMessage(e,t){let n={key:e,value:t};window.parent.postMessage(n,"*")}receiveMessage(e){e.data.key==="isMobile"&&e.data.value===!0&&document.body.classList.add("is-mobile"),e.data.key==="isMobile"&&e.data.value===!1&&document.body.classList.remove("is-mobile")}isIframe(){return window.self!==window.top}buildSectionNavigation(){console.log("DonationLightboxForm: buildSectionNavigation"),this.sections.forEach((t,n)=>{t.dataset.sectionId=n;let r=document.createElement("div");r.classList.add("section-navigation");let i=document.createElement("div");i.classList.add("section-count");let o=this.sections.length;if(o>1)n==0?r.innerHTML=`
        <button class="section-navigation__next" data-section-id="${n}">
          <span>Donate Today</span>
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="none" viewBox="0 0 14 14">
              <path fill="currentColor" d="M7.687 13.313c-.38.38-.995.38-1.374 0-.38-.38-.38-.996 0-1.375L10 8.25H1.1c-.608 0-1.1-.493-1.1-1.1 0-.608.492-1.1 1.1-1.1h9.2L6.313 2.062c-.38-.38-.38-.995 0-1.375s.995-.38 1.374 0L14 7l-6.313 6.313z"/>
          </svg>
        </button>
      `:n==this.sections.length-1?(t.dataset.lastSection=!0,r.innerHTML=`
        <button class="section-navigation__previous" aria-label="Back" data-section-id="${n}">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16">
              <path fill="currentColor" d="M7.214.786c.434-.434 1.138-.434 1.572 0 .433.434.433 1.137 0 1.571L4.57 6.572h10.172c.694 0 1.257.563 1.257 1.257s-.563 1.257-1.257 1.257H4.229l4.557 4.557c.433.434.433 1.137 0 1.571-.434.434-1.138.434-1.572 0L0 8 7.214.786z"/>
          </svg>
        </button>
        <button class="section-navigation__submit" data-section-id="${n}" type="submit" data-label="Give $AMOUNT$FREQUENCY">
          <span>Give Now</span>
        </button>
      `):r.innerHTML=`
        <button class="section-navigation__previous" aria-label="Back" data-section-id="${n}">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16">
              <path fill="currentColor" d="M7.214.786c.434-.434 1.138-.434 1.572 0 .433.434.433 1.137 0 1.571L4.57 6.572h10.172c.694 0 1.257.563 1.257 1.257s-.563 1.257-1.257 1.257H4.229l4.557 4.557c.433.434.433 1.137 0 1.571-.434.434-1.138.434-1.572 0L0 8 7.214.786z"/>
          </svg>
        </button>
        <button class="section-navigation__next" data-section-id="${n}">
          <span>Continue</span>
          <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="none" viewBox="0 0 14 14">
              <path fill="currentColor" d="M7.687 13.313c-.38.38-.995.38-1.374 0-.38-.38-.38-.996 0-1.375L10 8.25H1.1c-.608 0-1.1-.493-1.1-1.1 0-.608.492-1.1 1.1-1.1h9.2L6.313 2.062c-.38-.38-.38-.995 0-1.375s.995-.38 1.374 0L14 7l-6.313 6.313z"/>
          </svg>
        </button>
      `,i.innerHTML=`
        <span class="section-count__current">${n+1}</span> of
        <span class="section-count__total">${o}</span>
      `;else{let d=document.querySelector(".en__submit button")?.innerText||"Submit";r.innerHTML=`
        <button class="section-navigation__submit" data-section-id="${n}" type="submit" data-label="${d}">
          <span>${d}</span>
        </button>
      `}r.querySelector(".section-navigation__previous")?.addEventListener("click",d=>{d.preventDefault(),this.scrollToSection(n-1,n)}),r.querySelector(".section-navigation__next")?.addEventListener("click",d=>{d.preventDefault(),this.validateForm(n)&&this.scrollToSection(n+1,n)}),r.querySelector(".section-navigation__submit")?.addEventListener("click",d=>{if(d.preventDefault(),this.validateForm())if(this.isDonation){if(this.sendMessage("donationinfo",JSON.stringify({name:document.querySelector("#en__field_supporter_firstName").value,amount:EngagingNetworks.require._defined.enjs.getDonationTotal(),frequency:this.frequency.getInstance().frequency})),document.querySelector("#en__field_transaction_paymenttype").value!="paypal")this.sendMessage("status","loading");else{let c=this;document.addEventListener("visibilitychange",function(){document.visibilityState==="visible"?c.sendMessage("status","submitted"):c.sendMessage("status","loading")}),document.querySelector("form.en__component").target="_blank"}document.querySelector("form.en__component").submit()}else this.sendMessage("status","loading"),document.querySelector("form.en__component").submit()}),t.querySelector(".en__component").append(r),t.querySelector(".en__component").append(i)});let e=document.querySelector(".digital-wallets-wrapper");if(e){let t=document.createElement("a");t.classList.add("back-link"),t.innerHTML="back",t.href="#",t.addEventListener("click",n=>{n.preventDefault(),this.scrollToSection(this.getSectionId(e)-1,0)}),e.prepend(t)}}scrollToSection(e,t){console.log("DonationLightboxForm: scrollToSection",e);let n=document.querySelector(`[data-section-id="${e}"]`);if(n&&!this.isVisible(n)){console.log("DonationLightboxForm: scrollToSection: Section is not visible"),t>e?this.scrollToSection(e-1,e):this.scrollToSection(e+1,e);return}this.sections[e]&&(console.log(n),this.currentSectionId=e,console.log("Changed current section ID to",e),this.sections[e].scrollIntoView({behavior:"smooth"}))}scrollToElement(e){if(e){let t=this.getSectionId(e);if(t){let n=this.currentSectionId;this.currentSectionId=t,console.log("Changed current section ID to",t),this.scrollToSection(t,n)}}}getSectionId(e){return e?e.closest("[data-section-id]").dataset.sectionId:!1}validateForm(e=!1){let t=document.querySelector("form.en__component"),n=t.querySelector("[name='transaction.recurrfreq']:checked"),r=t.querySelector(".en__field--recurrfreq"),i=this.getSectionId(r);if(this.isDonation){if(e===!1||e==i){if(!n||!n.value)return this.scrollToElement(t.querySelector("[name='transaction.recurrfreq']:checked")),this.sendMessage("error","Please select a frequency"),r&&r.classList.add("has-error"),!1;r&&r.classList.remove("has-error")}let _=EngagingNetworks.require._defined.enjs.getDonationTotal(),f=t.querySelector(".en__field--donationAmt"),b=this.getSectionId(f);if(e===!1||e==b){if(!_||_<=0)return this.scrollToElement(f),this.sendMessage("error","Please enter a valid amount"),f&&f.classList.add("has-error"),!1;if(_<5)return this.sendMessage("error","Amount must be at least $5 - Contact us for assistance"),f&&f.classList.add("has-error"),!1;if(_>3e4)return this.sendMessage("error","Amount must be less than $30,000 - Contact us for assistance"),f&&f.classList.add("has-error"),!1;f&&f.classList.remove("has-error")}let A=t.querySelector("#en__field_transaction_paymenttype"),F=t.querySelector("#en__field_transaction_ccnumber"),L=t.querySelector(".en__field--ccnumber"),P=this.getSectionId(L);if(console.log("DonationLightboxForm: validateForm",L,P),A&&A.value===""&&(A.value="visa",this.showHideCCSection("card")),e===!1||e==P){if(!A||!A.value)return this.scrollToElement(A),this.sendMessage("error","Please add your credit card information"),L&&L.classList.add("has-error"),!1;if(A.value!=="paypal"&&A.value!=="paypaltouch"){if(!F||!F.value)return this.scrollToElement(F),this.sendMessage("error","Please add your credit card information"),L&&L.classList.add("has-error"),!1;if(L&&L.classList.remove("has-error"),/^[0-9\s]+$/.test(F.value)===!1)return this.scrollToElement(F),this.sendMessage("error","Only numbers are allowed on credit card"),L&&L.classList.add("has-error"),!1;L&&L.classList.remove("has-error");let N=t.querySelectorAll("[name='transaction.ccexpire']"),B=t.querySelector(".en__field--ccexpire"),R=!0;if(N.forEach(re=>{if(!re.value)return this.scrollToElement(B),this.sendMessage("error","Please enter a valid expiration date"),B&&B.classList.add("has-error"),R=!1,!1}),!R&&B)return!1;B&&B.classList.remove("has-error");let W=t.querySelector("#en__field_transaction_ccvv"),J=t.querySelector(".en__field--ccvv");if(!W||!W.value)return this.scrollToElement(W),this.sendMessage("error","Please enter a valid CVV"),J&&J.classList.add("has-error"),!1;J&&J.classList.remove("has-error")}}}let o=t.querySelectorAll(".en__mandatory"),d=!1;if(o.forEach(_=>{if(d)return;let f=_.querySelector(".en__field__input"),b=_.querySelector(".en__field__label"),A=this.getSectionId(f);if(e===!1||e==A){if(f.value)_.classList.remove("has-error");else return this.scrollToElement(f),this.sendMessage("error","Please enter "+b.textContent),_.classList.add("has-error"),d=!0,!1;if(f.name==="supporter.emailAddress"&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(f.value)===!1)return this.scrollToElement(f),this.sendMessage("error","Please enter a valid email address"),_.classList.add("has-error"),d=!0,!1}}),d)return!1;let l=t.querySelector("#en__field_supporter_city"),c=t.querySelector(".en__field--city");if(this.checkCharsLimit("#en__field_supporter_city",100))c&&c.classList.remove("has-error");else return this.scrollToElement(l),this.sendMessage("error","This field only allows up to 100 characters"),c&&c.classList.add("has-error"),!1;let u=t.querySelector("#en__field_supporter_address1"),p=t.querySelector(".en__field--address1");if(this.checkCharsLimit("#en__field_supporter_address1",35))p&&p.classList.remove("has-error");else return this.scrollToElement(u),this.sendMessage("error","This field only allows up to 35 characters. Longer street addresses can be broken up between Lines 1 and 2."),p&&p.classList.add("has-error"),!1;let g=t.querySelector("#en__field_supporter_address2"),m=t.querySelector(".en__field--address2");if(this.checkCharsLimit("#en__field_supporter_address2",35))m&&m.classList.remove("has-error");else return this.scrollToElement(g),this.sendMessage("error","This field only allows up to 35 characters. Longer street addresses can be broken up between Lines 1 and 2."),m&&m.classList.add("has-error"),!1;let v=t.querySelector("#en__field_supporter_postcode"),w=t.querySelector(".en__field--postcode");if(this.checkCharsLimit("#en__field_supporter_postcode",20))w&&w.classList.remove("has-error");else return this.scrollToElement(v),this.sendMessage("error","This field only allows up to 20 characters"),w&&w.classList.add("has-error"),!1;let k=t.querySelector("#en__field_supporter_firstName"),x=t.querySelector(".en__field--firstName");if(this.checkCharsLimit("#en__field_supporter_firstName",100))x&&x.classList.remove("has-error");else return this.scrollToElement(k),this.sendMessage("error","This field only allows up to 100 characters"),x&&x.classList.add("has-error"),!1;let h=t.querySelector("#en__field_supporter_lastName"),y=t.querySelector(".en__field--lastName");if(this.checkCharsLimit("#en__field_supporter_lastName",100))y&&y.classList.remove("has-error");else return this.scrollToElement(h),this.sendMessage("error","This field only allows up to 100 characters"),y&&y.classList.add("has-error"),!1;return console.log("DonationLightboxForm: validateForm PASSED"),!0}checkCharsLimit(e,t){let n=document.querySelector(e);return!(n&&n.value.length>t)}bounceArrow(e){let t=document.querySelector(".monthly-upsell-message");t&&(t&&e==="onetime"?t.classList.add("bounce"):t.classList.remove("bounce"))}changeSubmitButton(){let e=document.querySelector(".section-navigation__submit"),t=this.checkNested(window.EngagingNetworks,"require","_defined","enjs","getDonationTotal")?"$"+window.EngagingNetworks.require._defined.enjs.getDonationTotal():null,n=this.frequency.getInstance().frequency,r=e?e.dataset.label:"";n=n==="onetime"?"":"<small>/mo</small>",t?(r=r.replace("$AMOUNT",t),r=r.replace("$FREQUENCY",n)):(r=r.replace("$AMOUNT",""),r=r.replace("$FREQUENCY","")),e&&r&&(e.innerHTML=`<span>${r}</span>`)}clickPaymentOptions(e){e.querySelectorAll("button").forEach(t=>{t.addEventListener("click",n=>{n.preventDefault();let r=document.querySelector("#en__field_transaction_paymenttype");r&&(r.value=t.className.substr(15),this.scrollToSection(parseInt(t.closest("[data-section-id]").dataset.sectionId)+1,this.currentSectionId))})})}putArrowUpSVG(){let e=document.querySelector(".monthly-upsell-message");if(e){let t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.classList.add(this.setArrowPosition()),t.classList.add("monthly-upsell-message__arrow"),t.setAttribute("viewBox","0 0 55 40"),t.setAttribute("fill","none"),t.innerHTML='<path d="M.804 32.388c4.913-1.273 9.461-3.912 14.556-4.458 1-.09 1.183 1.183.728 1.73-.637.727-1.456 1.819-2.365 2.728 2.547.182 4.913 1.092 7.46 1.638 2.366.546 4.73.182 6.914-.637-.546-.546-1-1.183-1.546-1.82-3.64-5.185-5.914-22.198 3.548-23.38 5.368-.729 10.28 6.095 10.553 10.917.364 6.368-3.457 11.736-8.643 14.92 2.184 1.456 4.822 2.184 7.642 2.365 5.914.273 10.1-3.639 12.1-8.915 3.64-9.644.546-22.836-9.825-26.566-.455-.182-.455-.91.09-.91 13.01.182 14.83 19.56 11.555 28.567-3.73 10.28-16.012 12.464-23.745 6.46-.637.273-1.365.636-2.093.819-5.003 1.728-9.461-.728-14.283-1.274.637 1.183 1.273 2.456 2.183 3.548.637.819.091 2.184-1.091 1.82C9.628 38.483 4.624 37.392.44 34.39c-.637-.546-.637-1.82.364-2.002zm29.295 0c1.091-.636 2.183-1.364 3.093-2.183 6.277-5.277 7.187-15.103-.637-19.47-3.64-2.001-5.731 2.457-6.46 5.277-1.091 4.094-.454 8.825 1.274 12.646a19.738 19.738 0 0 0 2.73 3.73zm-19.652 1.183c-.09 0-.182-.182-.182-.273.273-1 1.092-1.82 2.002-2.638-2.911.819-5.64 2.092-8.552 3.002 2.73 1.456 5.732 2.365 8.825 3.275-.546-1-1-2.001-1.82-2.82-.182-.182-.273-.364-.273-.546z" fill="currentColor"/>',e.appendChild(t)}}setArrowPosition(){let e=document.querySelector(".en__field--recurrfreq .en__field__element--radio");if(e){let t=e.querySelector('.en__field__item:first-child input[value="MONTHLY"]'),n=e.querySelector('.en__field__item:last-child input[value="MONTHLY"]');if(t)return"left";if(n)return"right"}return null}checkNested(e,t,...n){return e===void 0?!1:n.length==0&&e.hasOwnProperty(t)?!0:this.checkNested(e[t],...n)}addTabIndexToLabels(){document.querySelectorAll(".en__field__label.en__field__label--item").forEach(t=>{t.tabIndex=0})}isVisible(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}addEvents(){this.frequency.getInstance().onFrequencyChange.subscribe(t=>this.bounceArrow(t)),this.frequency.getInstance().onFrequencyChange.subscribe(()=>this.changeSubmitButton()),this.amount.getInstance().onAmountChange.subscribe(()=>this.changeSubmitButton());let e=document.querySelectorAll("input[name='transaction.giveBySelect']");e.length&&e.forEach(t=>{t.addEventListener("change",()=>{if(this.showHideCCSection(t.value),t.value==="card"){let n=document.querySelector("#en__field_transaction_paymenttype");n&&(n.value="visa")}})})}showHideCCSection(e){let t=e;if(!e){let i=document.querySelector("#en__field_transaction_paymenttype");if(i&&["visa","mastercard","amex","discover","diners","jcb"].includes(i.value)){t="card";let o=document.querySelector("[name='transaction.giveBySelect'][value='card']");if(o){o.checked=!0;let d=new Event("change");o.dispatchEvent(d)}}}let n=document.querySelector("#en__field_transaction_ccnumber");console.log(n);let r=this.getSectionId(n);t==="card"?this.sections[r].style.display="block":this.sections[r].style.display="none"}};var qt=class{constructor(e,t){this.App=e,this._form=t.getInstance(),this.shouldRun()&&(this.tweetToTargetData=JSON.parse(window.sessionStorage.getItem("engrid-ttt-data"))||{},this.redirectPresent=window.pageJson.redirectPresent||!1,this.init())}shouldRun(){return this.App.getPageType()==="TWEETPAGE"}init(){if(document.querySelector(".en__component--tweetcontactblock")&&this.App.getPageNumber()!==1)this.setupTweetPage();else if("redirectBack"in this.tweetToTargetData)if(this.tweetToTargetData.redirectBack){let e=new URL(this.tweetToTargetData.url);e.searchParams.set("chain",""),window.location.replace(e.href)}else window.sessionStorage.removeItem("engrid-ttt-data")}setupTweetPage(){let e=this.redirectPresent&&document.querySelectorAll(".en__tweetContact").length>1;this.tweetToTargetData.positionY&&window.scrollTo(0,this.tweetToTargetData.positionY),e||document.querySelector(".en__submit")?.classList.add("hide"),this.tweetToTargetData.tweetedTo&&this.tweetToTargetData.tweetedTo.forEach(n=>{this.disableTweetTarget(n)}),document.querySelectorAll(".en__tweetButton__send > a").forEach(n=>{n.addEventListener("click",r=>{setTimeout(()=>{let i=r.target.closest(".en__tweetContact").dataset.contact??null;this.storeTweetData(i),this.disableTweetTarget(i),e||this._form.submitForm()},0)})})}disableTweetTarget(e){e!==null&&(document.querySelector(`[data-contact="${e}"]`).setAttribute("disabled",""),document.querySelector(`[data-contact="${e}"] .en__tweetButton__send a`).textContent="Tweet Sent!")}storeTweetData(e){let t={url:window.location.href,positionY:window.scrollY};e===null?(t.tweetedTo=[],t.singleTweet=!0):(t.tweetedTo=this.tweetToTargetData.tweetedTo?[...this.tweetToTargetData.tweetedTo,e]:[e],t.singleTweet=!1),t.redirectBack=this.shouldRedirectBack(t),this.tweetToTargetData=t,window.sessionStorage.setItem("engrid-ttt-data",JSON.stringify(this.tweetToTargetData))}shouldRedirectBack(e){return e.tweetedTo.length<document.querySelectorAll(".en__tweetContact").length&&!e.singleTweet}};var Bi=class{constructor(){this.logger=new S("AnnualLimit","yellow","darkblue","\u{1F4C5}");this._amount=V.getInstance();this._frequency=Z.getInstance();this.singleLimit=0;this.shouldRun()&&(this.loadSingleLimit(),this._frequency.onFrequencyChange.subscribe(()=>{window.setTimeout(()=>this.checkAnnualLimit(),100)}),this._amount.onAmountChange.subscribe(()=>{window.setTimeout(()=>this.checkAnnualLimit(),100)}),this.checkAnnualLimit())}checkAnnualLimit(){if(this.singleLimit===0)return;let e=this._frequency.frequency,t=this._amount.amount;this._frequency.frequency==="annual"&&(t<this.singleLimit?this.hidePremium():this.showPremium())}showPremium(){let e=document.querySelector(".en__component--premiumgiftblock");e&&(e.style.display="block",this.logger.log("Premium Gift Container Show"))}hidePremium(){let e=document.querySelector(".en__component--premiumgiftblock");e&&(e.style.display="none",this.logger.log("Premium Gift Container Hide"))}shouldRun(){let e=window.pageJson.pageType==="premiumgift",t=document.querySelector("[name='transaction.recurrfreq'][value='annual' i]"),n=s.checkNested(window.EngagingNetworks,"premiumGifts","rules","single","ranges"),r=document.querySelector("[name='transaction.recurrfreq'][value='monthly' i]");return e&&t&&r&&n}loadSingleLimit(){let e=window.EngagingNetworks.premiumGifts.rules,t=0;for(let n in e.single.ranges)"productIds"in e.single.ranges[n]&&e.single.ranges[n].productIds.length===0&&(t=+e.single.ranges[n].limit);this.singleLimit=t,this.logger.log("Single Limit",this.singleLimit)}};var Ni=class extends qi{constructor(){super({onClickOutside:"close",addCloseButton:!1,closeButtonLabel:"Close"}),this.getModalContent().length>0&&this.open()}getModalContent(){return document.querySelectorAll(".modal--content")}};var Bt={applePay:!1,CapitalizeFields:!0,ClickToExpand:!0,CurrencySymbol:"$",DecimalSeparator:".",ThousandsSeparator:",",MediaAttribution:!0,MinAmount:5,MinAmountMessage:"Minimum donation amount is $5",MaxAmount:65e3,MaxAmountMessage:"Maximum donation amount is $65,000",SkipToMainContentLink:!0,SrcDefer:!0,ProgressBar:!0,RegionLongFormat:"supporter.NOT_TAGGED_97",FreshAddress:{dateFieldFormat:"YYYY-MM-DD"},CountryDisable:["Belarus","Cuba","Iran","North Korea","Russia","Syria","Ukraine"],Plaid:!0,PageLayouts:["centerleft1col","centercenter1col","centercenter2col","centerright1col"],Debug:ne.getUrlParameter("debug")=="true",MobileCTA:{label:"Add Your Name",pages:["ADVOCACY","EMAILTOTARGET","TWEETPAGE"]},onLoad:()=>{new Bi,window.DonationLightboxForm=xt,new xt(V,Z,ne),ws(ne,Z),xs(ne),new qt(ne,q),ne.getPageType()==="EMAILTOTARGET"&&document.querySelectorAll(".en__contact--closed").forEach(r=>{r.classList.remove("en__contact--closed"),r.classList.add("en__contact--open")});let a=document.querySelector(".en__submit button");a&&(a.setAttribute("data-balloon",`When you click the button below, a new window will appear.
        Follow the steps to securely donate from your bank account to WWF
        (through Engaging Networks and Plaid).`),a.setAttribute("data-balloon-pos","up"));let e=document.querySelector(".en__field--region:not(.en__mandatory)"),t=document.querySelector(".en__field--infreg:not(.en__mandatory)");if(e||t){let n=new MutationObserver(o=>{o.forEach(d=>{if(d.addedNodes&&d.addedNodes.length>0&&d.addedNodes[0].nodeName==="INPUT"&&d.addedNodes[0].getAttribute("type")==="text"){let l=d.addedNodes[0];l.value="";let c=l.closest(".en__field--select");c&&c.classList.add("hide")}if(d.addedNodes&&d.addedNodes.length>0&&d.addedNodes[0].nodeName==="SELECT"){let c=d.addedNodes[0].closest(".en__field--select");c&&c.classList.remove("hide")}})}),r=document.querySelector("#en__field_supporter_region");r&&r.nodeName==="INPUT"&&e.classList.add("hide");let i=document.querySelector("#en__field_transaction_infreg");i&&i.nodeName==="INPUT"&&t.classList.add("hide"),e&&n.observe(e,{childList:!0,subtree:!0}),t&&n.observe(t,{childList:!0,subtree:!0})}new Ni},onResize:()=>console.log("Starter Theme Window Resized"),onSubmit:()=>{if("pageJson"in window&&"pageType"in window.pageJson&&window.pageJson.pageType==="premiumgift"&&ne.getUrlParameter("premium")!=="international"){let a=ne.getField("supporter.country");if(a&&a.value!=="US"){let e=document.querySelector("input[type='radio'][name='en__pg'][value='0']");e&&(e.checked=!0,e.click(),ne.setFieldValue("transaction.selprodvariantid",""))}if(a&&a.value==="US"){let e=window.maxTheirGift??0,t=ne.getFieldValue("transaction.selprodvariantid"),n=document.querySelectorAll(".en__pgList .en__pg");e&&t===""&&n.length>0&&(ne.log(`Setting maxTheirGift to ${e}`),ne.setFieldValue("transaction.selprodvariantid",e))}}},onValidate:()=>{let a=ne.getField("transaction.selprodvariantid"),e=ne.getField("supporter.NOT_TAGGED_45"),t=window.maxTheirGift??0;a&&e&&(e.value=a.value&&a.value!=t?"Y":"N")}};window.EngridTranslate={US:[{field:"supporter.postcode",translation:"ZIP Code"},{field:"transaction.shippostcode",translation:"Shipping ZIP Code"},{field:"transaction.infpostcd",translation:"Recipient ZIP Code"}]};var Ss=document.querySelectorAll('input[name="transaction.giveBySelect"]');Ss.length>0&&Ss.forEach(a=>{a.addEventListener("change",e=>{e.target.value==="stripedigitalwallet"&&(ne.log("Stripe Digital Wallet Selected"),Bt.onValidate&&Bt.onValidate(),Bt.onSubmit&&Bt.onSubmit())})});new ne(Bt);var Cp=q.getInstance();Cp.onSubmit.subscribe(()=>{let a=ne.getField(ne.getOption("RegionLongFormat"));a&&a.value==="District of Columbia"&&(a.value="the District of Columbia")});})();
/*! Bundled license information:

ste-core/dist/index.js:
  (*!
   * Strongly Typed Events for TypeScript - Core
   * https://github.com/KeesCBakker/StronlyTypedEvents/
   * http://keestalkstech.com
   *
   * Copyright Kees C. Bakker / KeesTalksTech
   * Released under the MIT license
   *)

ste-events/dist/index.js:
  (*!
   * Strongly Typed Events for TypeScript - Core
   * https://github.com/KeesCBakker/StronlyTypedEvents/
   * http://keestalkstech.com
   *
   * Copyright Kees C. Bakker / KeesTalksTech
   * Released under the MIT license
   *)

ste-signals/dist/index.js:
  (*!
   * Strongly Typed Events for TypeScript - Promise Signals
   * https://github.com/KeesCBakker/StronlyTypedEvents/
   * http://keestalkstech.com
   *
   * Copyright Kees C. Bakker / KeesTalksTech
   * Released under the MIT license
   *)

ste-core/dist/index.js:
  (*!
   * Strongly Typed Events for TypeScript - Core
   * https://github.com/KeesCBakker/StronlyTypedEvents/
   * http://keestalkstech.com
   *
   * Copyright Kees C. Bakker / KeesTalksTech
   * Released under the MIT license
   *)

ste-promise-events/dist/index.js:
  (*!
   * Strongly Typed Events for TypeScript - Core
   * https://github.com/KeesCBakker/StronlyTypedEvents/
   * http://keestalkstech.com
   *
   * Copyright Kees C. Bakker / KeesTalksTech
   * Released under the MIT license
   *)

ste-core/dist/index.js:
  (*!
   * Strongly Typed Events for TypeScript - Core
   * https://github.com/KeesCBakker/StronlyTypedEvents/
   * http://keestalkstech.com
   *
   * Copyright Kees C. Bakker / KeesTalksTech
   * Released under the MIT license
   *)

ste-promise-signals/dist/index.js:
  (*!
   * Strongly Typed Events for TypeScript - Promise Signals
   * https://github.com/KeesCBakker/StronlyTypedEvents/
   * http://keestalkstech.com
   *
   * Copyright Kees C. Bakker / KeesTalksTech
   * Released under the MIT license
   *)

ste-core/dist/index.js:
  (*!
   * Strongly Typed Events for TypeScript - Core
   * https://github.com/KeesCBakker/StronlyTypedEvents/
   * http://keestalkstech.com
   *
   * Copyright Kees C. Bakker / KeesTalksTech
   * Released under the MIT license
   *)

ste-promise-simple-events/dist/index.js:
  (*!
   * Strongly Typed Events for TypeScript - Core
   * https://github.com/KeesCBakker/StronlyTypedEvents/
   * http://keestalkstech.com
   *
   * Copyright Kees C. Bakker / KeesTalksTech
   * Released under the MIT license
   *)

strongly-typed-events/dist/index.js:
  (*!
   * Strongly Typed Events for TypeScript
   * https://github.com/KeesCBakker/StronlyTypedEvents/
   * http://keestalkstech.com
   *
   * Copyright Kees C. Bakker / KeesTalksTech
   * Released under the MIT license
   *)
*/
